NewUI+Backend/NewUI/src/app/conversation/page.tsx:import { sendChatMessage, getSuggestions, setScenario } from '@/services/api';
NewUI+Backend/NewUI/src/app/conversation/page.tsx:      const scenarioResponse = await setScenario(username, "General conversation practice");
NewUI+Backend/NewUI/src/app/custom/page.tsx:  const [scenario, setScenario] = useState('');
NewUI+Backend/NewUI/src/app/custom/page.tsx:    setScenario(event.target.value);
NewUI+Backend/NewUI/src/app/roleplay/page.tsx:import { sendChatMessage, getSuggestions, setScenario } from '@/services/api';
NewUI+Backend/NewUI/src/app/roleplay/page.tsx:  const [scenario, setScenario] = useState<Scenario | null>(null);
NewUI+Backend/NewUI/src/app/roleplay/page.tsx:      // const scenarioResponse = await setScenario(username);
NewUI+Backend/NewUI/src/app/roleplay/page.tsx:        setScenario(parsedScenario);
NewUI+Backend/NewUI/src/app/roleplay/page.tsx:  //     const scenarioResponse = await setScenario(username, scenarioTitle);
NewUI+Backend/NewUI/src/app/roleplay/page.tsx:  //     setScenario(parsedScenario);
NewUI+Backend/NewUI/src/app/scenario/page.tsx:import { getUserProfile, setScenario } from '@/services/api';
NewUI+Backend/NewUI/src/app/scenario/page.tsx:  const [scenarios, setScenarios] = useState<Scenario[]>([]);
NewUI+Backend/NewUI/src/app/scenario/page.tsx:      setScenarios(defaultScenarios);
NewUI+Backend/NewUI/src/app/scenario/page.tsx:              setScenarios([...defaultScenarios, ...customScenarios]);
NewUI+Backend/NewUI/src/app/scenario/page.tsx:          setScenarios([...defaultScenarios, ...customScenarios]);
NewUI+Backend/NewUI/src/app/scenario/page.tsx:          setScenarios(defaultScenarios);
NewUI+Backend/NewUI/src/app/scenario/page.tsx:      const response = await setScenario(
NewUI+Backend/NewUI/src/app/page.tsx:import { getUserProfile, setScenario } from '@/services/api';
NewUI+Backend/NewUI/src/app/page.tsx:        await setScenario(userName, "Default conversation", selectedLanguage);
NewUI+Backend/NewUI/src/context/ScenarioProvider.tsx:  const [scenarios, setScenarios] = useState<Scenario[]>([]);
NewUI+Backend/NewUI/src/context/ScenarioProvider.tsx:    setScenarios([...scenarios, newScenario]);
NewUI+Backend/NewUI/src/context/scenarioContext.tsx:  const [scenarios, setScenarios] = useState<Scenario[]>(() => {
NewUI+Backend/NewUI/src/context/scenarioContext.tsx:    setScenarios(updatedScenarios);
NewUI+Backend/NewUI/src/services/api.ts:export async function setScenario(username: string, scenario: string, language?: string, description?: string) {
NewUI+Backend/NewUI/src/services/api.ts:  console.log("Calling setScenario with:", { username, scenario, language, description })
NewUI+Backend/NewUI/.next/server/app/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_TypewriterEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TypewriterEffect */ \"(ssr)/./src/components/TypewriterEffect.tsx\");\n/* harmony import */ var _components_LanguageDropdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/LanguageDropdown */ \"(ssr)/./src/components/LanguageDropdown.tsx\");\n/* harmony import */ var _server_firebase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../server/firebase */ \"(ssr)/./server/firebase.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/services/api */ \"(ssr)/./src/services/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nconst MainPage = ()=>{\n    const [firstLineComplete, setFirstLineComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [userName, setUserName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [selectedLanguage, setSelectedLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('English');\n    const [isLoggedIn, setIsLoggedIn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [initializing, setInitializing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const languageIcons = {\n        'English': 'ðŸ‡ºðŸ‡¸',\n        'Chinese': 'ðŸ‡¨ðŸ‡³',\n        'Japanese': 'ðŸ‡¯ðŸ‡µ'\n    };\n    const localeMap = {\n        'English': 'en',\n        'Chinese': 'zh-CN',\n        'Japanese': 'ja'\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MainPage.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_7__.onAuthStateChanged)(_server_firebase__WEBPACK_IMPORTED_MODULE_6__.auth, {\n                \"MainPage.useEffect.unsubscribe\": async (user)=>{\n                    if (user) {\n                        setIsLoggedIn(true);\n                        // Use display name if available, otherwise use email\n                        const displayName = user.displayName || user.email?.split('@')[0] || '';\n                        setUserName(displayName);\n                        try {\n                            // Fetch user profile from backend\n                            const { data, error } = await (0,_services_api__WEBPACK_IMPORTED_MODULE_8__.getUserProfile)(displayName);\n                            if (data && !error) {\n                                // Save user's language preference\n                                if (data.language) {\n                                    const savedLanguage = Object.keys(localeMap).find({\n                                        \"MainPage.useEffect.unsubscribe.savedLanguage\": (key)=>localeMap[key] === data.language\n                                    }[\"MainPage.useEffect.unsubscribe.savedLanguage\"]);\n                                    if (savedLanguage) {\n                                        setSelectedLanguage(savedLanguage);\n                                    }\n                                }\n                            }\n                        } catch (err) {\n                            console.error(\"Error fetching user profile:\", err);\n                        }\n                        // Store the user info\n                        localStorage.setItem('userName', displayName);\n                    } else {\n                        setIsLoggedIn(false);\n                        localStorage.removeItem('userName');\n                        localStorage.removeItem('userId');\n                    }\n                    setLoading(false);\n                }\n            }[\"MainPage.useEffect.unsubscribe\"]);\n            return ({\n                \"MainPage.useEffect\": ()=>unsubscribe()\n            })[\"MainPage.useEffect\"];\n        }\n    }[\"MainPage.useEffect\"], []);\n    const handleClick = async ()=>{\n        if (userName.trim()) {\n            setInitializing(true);\n            try {\n                // Store user preferences\n                localStorage.setItem('userName', userName);\n                localStorage.setItem('language', selectedLanguage);\n                localStorage.setItem('locale', localeMap[selectedLanguage]);\n                // Create the user profile on the backend if it doesn't exist\n                await (0,_services_api__WEBPACK_IMPORTED_MODULE_8__.setScenario)(userName, \"Default conversation\", selectedLanguage);\n                router.push('/choose');\n            } catch (error) {\n                console.error(\"Error initializing user:\", error);\n                alert(\"There was a problem connecting to the service. Please try again.\");\n            } finally{\n                setInitializing(false);\n            }\n        }\n    };\n    const navigateToLogin = ()=>{\n        router.push('/login');\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            style: {\n                backgroundImage: \"url('/icons/background1.jpg')\",\n                backgroundSize: \"cover\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#48d1cc]\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 106,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n            lineNumber: 102,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-black p-8\",\n        style: {\n            backgroundImage: \"url('/icons/background1.jpg')\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center mt-1\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 113,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-12 max-w-2xl mx-auto mb-8 bg-white rounded-xl shadow-lg overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-24 h-24 relative flex-shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    src: \"/icons/chatbot.png\",\n                                    alt: \"Chatbot Icon\",\n                                    fill: true,\n                                    className: \"rounded-full\",\n                                    priority: true\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                    lineNumber: 120,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-xl font-bold text-gray-800\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_TypewriterEffect__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            text: isLoggedIn ? `Welcome back, ${userName}!` : \"Hi there! It's me, Chatty! Nice to meet you!\",\n                                            delay: 30,\n                                            startTyping: true,\n                                            onComplete: ()=>setFirstLineComplete(true)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                            lineNumber: 124,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 123,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-2 text-l text-gray-600\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_TypewriterEffect__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            text: isLoggedIn ? \"Please choose the language to continue practicing.\" : \"Please enter your user name and choose the language before we start practicing together.\",\n                                            delay: 30,\n                                            startTyping: firstLineComplete\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                            lineNumber: 132,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 131,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                    lineNumber: 117,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 116,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-2xl mx-auto flex flex-col gap-6 mt-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl shadow-lg overflow-hidden p-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-4 mb-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 relative bg-green-100 rounded-full flex-shrink-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                    src: \"/icons/profile.png\",\n                                                    alt: \"Profile Icon\",\n                                                    fill: true,\n                                                    className: \"p-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                    lineNumber: 150,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 149,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"text-xl font-semibold text-black\",\n                                                children: \"Username\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                id: \"userName\",\n                                                value: userName,\n                                                onChange: (e)=>setUserName(e.target.value),\n                                                className: `w-full px-6 py-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-lg text-black ${isLoggedIn ? 'bg-gray-100' : ''}`,\n                                                required: true,\n                                                readOnly: isLoggedIn\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 156,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            userName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute top-0 left-0 bg-[#87cefa] text-white px-2 py-0.5 text-xs rounded-tl-lg rounded-br-lg\",\n                                                children: \"Profile Name\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 166,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            !isLoggedIn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 text-sm text-indigo-600\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                    href: \"/login\",\n                                                    className: \"hover:underline\",\n                                                    children: \"Login or Sign Up\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                    lineNumber: 172,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 171,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 155,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 147,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl shadow-lg overflow-hidden p-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-4 mb-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 relative bg-blue-100 rounded-full flex-shrink-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                    src: \"/icons/language.png\",\n                                                    alt: \"Language Icon\",\n                                                    fill: true,\n                                                    className: \"p-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                    lineNumber: 181,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 180,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"text-xl font-semibold text-black\",\n                                                children: \"Choose Language\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 183,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 179,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LanguageDropdown__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        value: selectedLanguage,\n                                        onChange: setSelectedLanguage,\n                                        languageIcons: languageIcons\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 178,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                        lineNumber: 146,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-end mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClick,\n                            disabled: !userName.trim() || initializing,\n                            className: `transition-all duration-200 rounded-lg px-6 py-3 shadow-md flex items-center ${userName.trim() && !initializing ? 'bg-[#48d1cc] text-white hover:bg-[#008080]' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`,\n                            children: initializing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 206,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium\",\n                                        children: \"Initializing...\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 207,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium mr-2\",\n                                        children: \"Continue\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 211,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-5 w-5\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        stroke: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M9 5l7 7-7 7\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                            lineNumber: 213,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 212,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                            lineNumber: 195,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                        lineNumber: 194,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 145,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n        lineNumber: 112,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MainPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0M7O2tEQUNFLDhEQUFDMEQ7d0NBQUs3QixXQUFVOzs7Ozs7a0RBQ2hCLDhEQUFDNkI7d0NBQUs3QixXQUFVO2tEQUFjOzs7Ozs7OzZEQUdoQzs7a0RBQ0UsOERBQUM2Qjt3Q0FBSzdCLFdBQVU7a0RBQW1COzs7Ozs7a0RBQ25DLDhEQUFDOEI7d0NBQUlDLE9BQU07d0NBQTZCL0IsV0FBVTt3Q0FBVU0sTUFBSzt3Q0FBTzBCLFNBQVE7d0NBQVlDLFFBQU87a0RBQ2pHLDRFQUFDQzs0Q0FBS0MsZUFBYzs0Q0FBUUMsZ0JBQWU7NENBQVFDLGFBQWE7NENBQUdDLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU3ZGO0FBRUEsaUVBQWU5RSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvYXBwL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgVHlwZXdyaXRlckVmZmVjdCBmcm9tICcuLi9jb21wb25lbnRzL1R5cGV3cml0ZXJFZmZlY3QnO1xuaW1wb3J0IExhbmd1YWdlRHJvcGRvd24gZnJvbSAnLi4vY29tcG9uZW50cy9MYW5ndWFnZURyb3Bkb3duJztcbmltcG9ydCB7IGF1dGggfSBmcm9tICcuLi8uLi9zZXJ2ZXIvZmlyZWJhc2UnO1xuaW1wb3J0IHsgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5pbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSwgc2V0U2NlbmFyaW8gfSBmcm9tICdAL3NlcnZpY2VzL2FwaSc7XG5cbmNvbnN0IE1haW5QYWdlID0gKCkgPT4ge1xuICBjb25zdCBbZmlyc3RMaW5lQ29tcGxldGUsIHNldEZpcnN0TGluZUNvbXBsZXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3VzZXJOYW1lLCBzZXRVc2VyTmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWxlY3RlZExhbmd1YWdlLCBzZXRTZWxlY3RlZExhbmd1YWdlXSA9IHVzZVN0YXRlPCdFbmdsaXNoJyB8ICdDaGluZXNlJyB8ICdKYXBhbmVzZSc+KCdFbmdsaXNoJyk7XG4gIGNvbnN0IFtpc0xvZ2dlZEluLCBzZXRJc0xvZ2dlZEluXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtpbml0aWFsaXppbmcsIHNldEluaXRpYWxpemluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIGNvbnN0IGxhbmd1YWdlSWNvbnM6IFJlY29yZDwnRW5nbGlzaCcgfCAnQ2hpbmVzZScgfCAnSmFwYW5lc2UnLCBzdHJpbmc+ID0ge1xuICAgICdFbmdsaXNoJzogJ/Cfh7rwn4e4JyxcbiAgICAnQ2hpbmVzZSc6ICfwn4eo8J+HsycsXG4gICAgJ0phcGFuZXNlJzogJ/Cfh6/wn4e1J1xuICB9O1xuICBcbiAgY29uc3QgbG9jYWxlTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICdFbmdsaXNoJzogJ2VuJyxcbiAgICAnQ2hpbmVzZSc6ICd6aC1DTicsXG4gICAgJ0phcGFuZXNlJzogJ2phJ1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKHVzZXIpID0+IHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHNldElzTG9nZ2VkSW4odHJ1ZSk7XG4gICAgICAgIC8vIFVzZSBkaXNwbGF5IG5hbWUgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgdXNlIGVtYWlsXG4gICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gdXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICcnO1xuICAgICAgICBzZXRVc2VyTmFtZShkaXNwbGF5TmFtZSk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZldGNoIHVzZXIgcHJvZmlsZSBmcm9tIGJhY2tlbmRcbiAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBnZXRVc2VyUHJvZmlsZShkaXNwbGF5TmFtZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRhdGEgJiYgIWVycm9yKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHVzZXIncyBsYW5ndWFnZSBwcmVmZXJlbmNlXG4gICAgICAgICAgICBpZiAoZGF0YS5sYW5ndWFnZSkge1xuICAgICAgICAgICAgICBjb25zdCBzYXZlZExhbmd1YWdlID0gT2JqZWN0LmtleXMobG9jYWxlTWFwKS5maW5kKFxuICAgICAgICAgICAgICAgIGtleSA9PiBsb2NhbGVNYXBba2V5XSA9PT0gZGF0YS5sYW5ndWFnZVxuICAgICAgICAgICAgICApIGFzICdFbmdsaXNoJyB8ICdDaGluZXNlJyB8ICdKYXBhbmVzZSc7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoc2F2ZWRMYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkTGFuZ3VhZ2Uoc2F2ZWRMYW5ndWFnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6XCIsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHRoZSB1c2VyIGluZm9cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJOYW1lJywgZGlzcGxheU5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXNMb2dnZWRJbihmYWxzZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyTmFtZScpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcklkJyk7XG4gICAgICB9XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh1c2VyTmFtZS50cmltKCkpIHtcbiAgICAgIHNldEluaXRpYWxpemluZyh0cnVlKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gU3RvcmUgdXNlciBwcmVmZXJlbmNlc1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlck5hbWUnLCB1c2VyTmFtZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYW5ndWFnZScsIHNlbGVjdGVkTGFuZ3VhZ2UpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9jYWxlJywgbG9jYWxlTWFwW3NlbGVjdGVkTGFuZ3VhZ2VdKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdXNlciBwcm9maWxlIG9uIHRoZSBiYWNrZW5kIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgYXdhaXQgc2V0U2NlbmFyaW8odXNlck5hbWUsIFwiRGVmYXVsdCBjb252ZXJzYXRpb25cIiwgc2VsZWN0ZWRMYW5ndWFnZSk7XG4gIFxuICAgICAgICByb3V0ZXIucHVzaCgnL2Nob29zZScpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyB1c2VyOlwiLCBlcnJvcik7XG4gICAgICAgIGFsZXJ0KFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBjb25uZWN0aW5nIHRvIHRoZSBzZXJ2aWNlLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEluaXRpYWxpemluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG5hdmlnYXRlVG9Mb2dpbiA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBcbiAgICAgICAgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIgXG4gICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9pY29ucy9iYWNrZ3JvdW5kMS5qcGcnKVwiLCBiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJvcmRlci1bIzQ4ZDFjY11cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWJsYWNrIHAtOFwiIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9pY29ucy9iYWNrZ3JvdW5kMS5qcGcnKVwiIH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIG10LTFcIj5cbiAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTIgbWF4LXctMnhsIG14LWF1dG8gbWItOCBiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy1sZyBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTI0IGgtMjQgcmVsYXRpdmUgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVwiL2ljb25zL2NoYXRib3QucG5nXCIgYWx0PVwiQ2hhdGJvdCBJY29uXCIgZmlsbCBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGxcIiBwcmlvcml0eSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICA8VHlwZXdyaXRlckVmZmVjdCBcbiAgICAgICAgICAgICAgICAgIHRleHQ9e2lzTG9nZ2VkSW4gPyBgV2VsY29tZSBiYWNrLCAke3VzZXJOYW1lfSFgIDogXCJIaSB0aGVyZSEgSXQncyBtZSwgQ2hhdHR5ISBOaWNlIHRvIG1lZXQgeW91IVwifSBcbiAgICAgICAgICAgICAgICAgIGRlbGF5PXszMH1cbiAgICAgICAgICAgICAgICAgIHN0YXJ0VHlwaW5nPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZT17KCkgPT4gc2V0Rmlyc3RMaW5lQ29tcGxldGUodHJ1ZSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWwgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgIDxUeXBld3JpdGVyRWZmZWN0IFxuICAgICAgICAgICAgICAgICAgdGV4dD17aXNMb2dnZWRJbiBcbiAgICAgICAgICAgICAgICAgICAgPyBcIlBsZWFzZSBjaG9vc2UgdGhlIGxhbmd1YWdlIHRvIGNvbnRpbnVlIHByYWN0aWNpbmcuXCIgXG4gICAgICAgICAgICAgICAgICAgIDogXCJQbGVhc2UgZW50ZXIgeW91ciB1c2VyIG5hbWUgYW5kIGNob29zZSB0aGUgbGFuZ3VhZ2UgYmVmb3JlIHdlIHN0YXJ0IHByYWN0aWNpbmcgdG9nZXRoZXIuXCJ9XG4gICAgICAgICAgICAgICAgICBkZWxheT17MzB9XG4gICAgICAgICAgICAgICAgICBzdGFydFR5cGluZz17Zmlyc3RMaW5lQ29tcGxldGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gZmxleCBmbGV4LWNvbCBnYXAtNiBtdC0xMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LWxnIG92ZXJmbG93LWhpZGRlbiBwLTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00IG1iLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcmVsYXRpdmUgYmctZ3JlZW4tMTAwIHJvdW5kZWQtZnVsbCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgPEltYWdlIHNyYz1cIi9pY29ucy9wcm9maWxlLnBuZ1wiIGFsdD1cIlByb2ZpbGUgSWNvblwiIGZpbGwgY2xhc3NOYW1lPVwicC0yXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ibGFja1wiPlVzZXJuYW1lPC9oMj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBpZD1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlck5hbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRVc2VyTmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHB4LTYgcHktNCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWdyZWVuLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1sZyB0ZXh0LWJsYWNrICR7aXNMb2dnZWRJbiA/ICdiZy1ncmF5LTEwMCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk9e2lzTG9nZ2VkSW59XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHt1c2VyTmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgYmctWyM4N2NlZmFdIHRleHQtd2hpdGUgcHgtMiBweS0wLjUgdGV4dC14cyByb3VuZGVkLXRsLWxnIHJvdW5kZWQtYnItbGdcIj5cbiAgICAgICAgICAgICAgICAgIFByb2ZpbGUgTmFtZVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7IWlzTG9nZ2VkSW4gJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtaW5kaWdvLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIi9sb2dpblwiIGNsYXNzTmFtZT1cImhvdmVyOnVuZGVybGluZVwiPkxvZ2luIG9yIFNpZ24gVXA8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LWxnIG92ZXJmbG93LWhpZGRlbiBwLTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00IG1iLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcmVsYXRpdmUgYmctYmx1ZS0xMDAgcm91bmRlZC1mdWxsIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVwiL2ljb25zL2xhbmd1YWdlLnBuZ1wiIGFsdD1cIkxhbmd1YWdlIEljb25cIiBmaWxsIGNsYXNzTmFtZT1cInAtMlwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtYmxhY2tcIj5DaG9vc2UgTGFuZ3VhZ2U8L2gyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxMYW5ndWFnZURyb3Bkb3duIFxuICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRMYW5ndWFnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldFNlbGVjdGVkTGFuZ3VhZ2V9XG4gICAgICAgICAgICAgIGxhbmd1YWdlSWNvbnM9e2xhbmd1YWdlSWNvbnN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC00XCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICAgICAgZGlzYWJsZWQ9eyF1c2VyTmFtZS50cmltKCkgfHwgaW5pdGlhbGl6aW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHJvdW5kZWQtbGcgcHgtNiBweS0zIHNoYWRvdy1tZCBmbGV4IGl0ZW1zLWNlbnRlciAke1xuICAgICAgICAgICAgICB1c2VyTmFtZS50cmltKCkgJiYgIWluaXRpYWxpemluZ1xuICAgICAgICAgICAgICAgID8gJ2JnLVsjNDhkMWNjXSB0ZXh0LXdoaXRlIGhvdmVyOmJnLVsjMDA4MDgwXScgXG4gICAgICAgICAgICAgICAgOiAnYmctZ3JheS0yMDAgdGV4dC1ncmF5LTUwMCBjdXJzb3Itbm90LWFsbG93ZWQnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aW5pdGlhbGl6aW5nID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBtci0yIGgtNSB3LTUgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJvcmRlci13aGl0ZSByb3VuZGVkLWZ1bGxcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5Jbml0aWFsaXppbmcuLi48L3NwYW4+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtci0yXCI+Q29udGludWU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC01IHctNVwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTkgNWw3IDctNyA3XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNYWluUGFnZTsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkltYWdlIiwidXNlUm91dGVyIiwiVHlwZXdyaXRlckVmZmVjdCIsIkxhbmd1YWdlRHJvcGRvd24iLCJhdXRoIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiZ2V0VXNlclByb2ZpbGUiLCJzZXRTY2VuYXJpbyIsIk1haW5QYWdlIiwiZmlyc3RMaW5lQ29tcGxldGUiLCJzZXRGaXJzdExpbmVDb21wbGV0ZSIsInVzZXJOYW1lIiwic2V0VXNlck5hbWUiLCJzZWxlY3RlZExhbmd1YWdlIiwic2V0U2VsZWN0ZWRMYW5ndWFnZSIsImlzTG9nZ2VkSW4iLCJzZXRJc0xvZ2dlZEluIiwibG9hZGluZyIsInNldExvYWRpbmciLCJpbml0aWFsaXppbmciLCJzZXRJbml0aWFsaXppbmciLCJyb3V0ZXIiLCJsYW5ndWFnZUljb25zIiwibG9jYWxlTWFwIiwidW5zdWJzY3JpYmUiLCJ1c2VyIiwiZGlzcGxheU5hbWUiLCJlbWFpbCIsInNwbGl0IiwiZGF0YSIsImVycm9yIiwibGFuZ3VhZ2UiLCJzYXZlZExhbmd1YWdlIiwiT2JqZWN0Iiwia2V5cyIsImZpbmQiLCJrZXkiLCJlcnIiLCJjb25zb2xlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJoYW5kbGVDbGljayIsInRyaW0iLCJwdXNoIiwiYWxlcnQiLCJuYXZpZ2F0ZVRvTG9naW4iLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRTaXplIiwic3JjIiwiYWx0IiwiZmlsbCIsInByaW9yaXR5IiwiaDEiLCJ0ZXh0IiwiZGVsYXkiLCJzdGFydFR5cGluZyIsIm9uQ29tcGxldGUiLCJwIiwiaDIiLCJpbnB1dCIsInR5cGUiLCJpZCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwicmVxdWlyZWQiLCJyZWFkT25seSIsImEiLCJocmVmIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwic3BhbiIsInN2ZyIsInhtbG5zIiwidmlld0JveCIsInN0cm9rZSIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/app/page.tsx\n");
NewUI+Backend/NewUI/.next/server/app/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint, options = {}) {\n    try {\n        const res = await fetch(`${API_BASE_URL}${endpoint}`, {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(`/api/profile/${username}`);\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(`${API_BASE_URL}/api/scenario/set`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TEUsTUFBTTtZQUNORixPQUFPO1FBQ1Q7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9zZXJ2aWNlcy9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcblxudHlwZSBBUElSZXNwb25zZTxUPiA9IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBUEk8VD4oXG4gIGVuZHBvaW50OiBzdHJpbmcsIFxuICBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9XG4pOiBQcm9taXNlPEFQSVJlc3BvbnNlPFQ+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IuZGV0YWlsIHx8ICdBbiBlcnJvciBvY2N1cnJlZCcgfTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdOZXR3b3JrIGVycm9yJyB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kQ2hhdE1lc3NhZ2UoXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgc2NlbmFyaW8/OiBzdHJpbmcsXG4gIGFpUm9sZT86IHN0cmluZ1xuKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7cmVzcG9uc2U6IHN0cmluZywgYXVkaW9fdXJsOiBzdHJpbmd9PignL2FwaS9jaGF0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgYWlfcm9sZTogYWlSb2xlLFxuICAgIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKHVzZXJuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZldGNoQVBJPHtzdWdnZXN0aW9uczogc3RyaW5nW119PignL2FwaS9zdWdnZXN0aW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhbmd1YWdlTGVzc29ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7Y3JpdGlxdWU6IHN0cmluZywgbGVzc29uczogc3RyaW5nW119PignL2FwaS9sZXNzb24nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRTY2VuYXJpbyh1c2VybmFtZTogc3RyaW5nLCBzY2VuYXJpbzogc3RyaW5nLCBsYW5ndWFnZT86IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgY29uc29sZS5sb2coXCJDYWxsaW5nIHNldFNjZW5hcmlvIHdpdGg6XCIsIHsgdXNlcm5hbWUsIHNjZW5hcmlvLCBsYW5ndWFnZSwgZGVzY3JpcHRpb24gfSlcbiAgcmV0dXJuIGZldGNoQVBJPHtzY2VuYXJpbzogc3RyaW5nLCBhaV9yb2xlOiBzdHJpbmd9PignL2FwaS9zY2VuYXJpby9zZXQnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgIHVzZXJuYW1lLCBcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZSh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KGAvYXBpL3Byb2ZpbGUvJHt1c2VybmFtZX1gKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRTY2VuYXJpb3MoKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KCcvYXBpL3NjZW5hcmlvcycpO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tU2NlbmFyaW8gPSBhc3luYyAoXG4gIHVzZXJuYW1lOiBzdHJpbmcsIFxuICB0aXRsZTogc3RyaW5nLCBcbiAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgbGFuZ3VhZ2U/OiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2NlbmFyaW8vc2V0YCwgeyBcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHNjZW5hcmlvOiB0aXRsZSwgIFxuICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgXCJub25lXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IGRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY3VzdG9tIHNjZW5hcmlvJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBlcnJvcjogJ05ldHdvcmsgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4nLFxuICAgIH07XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJmZXRjaEFQSSIsImVuZHBvaW50Iiwib3B0aW9ucyIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiZXJyb3IiLCJqc29uIiwiZGF0YSIsImRldGFpbCIsImNvbnNvbGUiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJ1c2VybmFtZSIsIm1lc3NhZ2UiLCJzY2VuYXJpbyIsImFpUm9sZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWlfcm9sZSIsImdldFN1Z2dlc3Rpb25zIiwiZ2V0TGFuZ3VhZ2VMZXNzb25zIiwic2V0U2NlbmFyaW8iLCJsYW5ndWFnZSIsImRlc2NyaXB0aW9uIiwibG9nIiwiZ2V0VXNlclByb2ZpbGUiLCJnZXREZWZhdWx0U2NlbmFyaW9zIiwiY3JlYXRlQ3VzdG9tU2NlbmFyaW8iLCJ0aXRsZSIsInJlc3BvbnNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/services/api.ts\n");
NewUI+Backend/NewUI/.next/server/app/choose/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint, options = {}) {\n    try {\n        const res = await fetch(`${API_BASE_URL}${endpoint}`, {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(`/api/profile/${username}`);\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(`${API_BASE_URL}/api/scenario/set`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc2VydmljZXMvYXBpLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxlQUFlQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0FBT3hELGVBQWVDLFNBQ2JDLFFBQWdCLEVBQ2hCQyxVQUF1QixDQUFDLENBQUM7SUFFekIsSUFBSTtRQUNGLE1BQU1DLE1BQU0sTUFBTUMsTUFBTSxHQUFHUixlQUFlSyxVQUFVLEVBQUU7WUFDcEQsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsR0FBR0gsUUFBUUcsT0FBTztZQUNwQjtRQUNGO1FBRUEsSUFBSSxDQUFDRixJQUFJRyxFQUFFLEVBQUU7WUFDWCxNQUFNQyxRQUFRLE1BQU1KLElBQUlLLElBQUk7WUFDNUIsT0FBTztnQkFBRUMsTUFBTTtnQkFBTUYsT0FBT0EsTUFBTUcsTUFBTSxJQUFJO1lBQW9CO1FBQ2xFO1FBRUEsTUFBTUQsT0FBTyxNQUFNTixJQUFJSyxJQUFJO1FBQzNCLE9BQU87WUFBRUM7WUFBTUYsT0FBTztRQUFLO0lBQzdCLEVBQUUsT0FBT0EsT0FBTztRQUNkSSxRQUFRSixLQUFLLENBQUMsY0FBY0E7UUFDNUIsT0FBTztZQUFFRSxNQUFNO1lBQU1GLE9BQU87UUFBZ0I7SUFDOUM7QUFDRjtBQUVPLGVBQWVLLGdCQUNwQkMsUUFBZ0IsRUFDaEJDLE9BQWUsRUFDZkMsUUFBaUIsRUFDakJDLE1BQWU7SUFFZixPQUFPaEIsU0FBZ0QsYUFBYTtRQUNsRWlCLFFBQVE7UUFDUkMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO1lBQ25CUDtZQUNBQztZQUNBQztZQUNBTSxTQUFTTDtRQUNYO0lBQ0Y7QUFDRjtBQUVPLGVBQWVNLGVBQWVULFFBQWdCO0lBQ25ELE9BQU9iLFNBQWtDLG9CQUFvQjtRQUMzRGlCLFFBQVE7UUFDUkMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO1lBQUVQO1FBQVM7SUFDbEM7QUFDRjtBQUVPLGVBQWVVLG1CQUFtQlYsUUFBZ0I7SUFDdkQsT0FBT2IsU0FBZ0QsZUFBZTtRQUNwRWlCLFFBQVE7UUFDUkMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO1lBQUVQO1FBQVM7SUFDbEM7QUFDRjtBQUVPLGVBQWVXLFlBQVlYLFFBQWdCLEVBQUVFLFFBQWdCLEVBQUVVLFFBQWlCLEVBQUVDLFdBQW9CO0lBQzNHZixRQUFRZ0IsR0FBRyxDQUFDLDZCQUE2QjtRQUFFZDtRQUFVRTtRQUFVVTtRQUFVQztJQUFZO0lBQ3JGLE9BQU8xQixTQUE4QyxxQkFBcUI7UUFDeEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUNuQlA7WUFDQUU7WUFDQVUsVUFBVUEsWUFBWTtZQUN0QkM7UUFDRjtJQUNGO0FBQ0Y7QUFFTyxlQUFlRSxlQUFlZixRQUFnQjtJQUNuRCxPQUFPYixTQUFjLENBQUMsYUFBYSxFQUFFYSxVQUFVO0FBQ2pEO0FBRU8sZUFBZWdCO0lBQ3BCLE9BQU83QixTQUFjO0FBQ3ZCO0FBRU8sTUFBTThCLHVCQUF1QixPQUNsQ2pCLFVBQ0FrQixPQUNBTCxhQUNBRDtJQUVBLElBQUk7UUFDRixNQUFNTyxXQUFXLE1BQU01QixNQUFNLEdBQUdSLGFBQWEsaUJBQWlCLENBQUMsRUFBRTtZQUMvRHFCLFFBQVE7WUFDUlosU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7WUFDQWEsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQlA7Z0JBQ0FFLFVBQVVnQjtnQkFDVk4sVUFBVUEsWUFBWTtnQkFDdEJDO1lBQ0Y7UUFDRjtRQUVBLE1BQU1qQixPQUFPLE1BQU11QixTQUFTeEIsSUFBSTtRQUVoQyxJQUFJLENBQUN3QixTQUFTMUIsRUFBRSxFQUFFO1lBQ2hCLE9BQU87Z0JBQ0xHLE1BQU07Z0JBQ05GLE9BQU9FLEtBQUtGLEtBQUssSUFBSTtZQUN2QjtRQUNGO1FBRUEsT0FBTztZQUNMRTtZQUNBRixPQUFPO1FBQ1Q7SUFDRixFQUFFLE9BQU9BLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE9BQU87WUFDTEUsTUFBTTtZQUNORixPQUFPO1FBQ1Q7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9zZXJ2aWNlcy9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcblxudHlwZSBBUElSZXNwb25zZTxUPiA9IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBUEk8VD4oXG4gIGVuZHBvaW50OiBzdHJpbmcsIFxuICBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9XG4pOiBQcm9taXNlPEFQSVJlc3BvbnNlPFQ+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IuZGV0YWlsIHx8ICdBbiBlcnJvciBvY2N1cnJlZCcgfTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdOZXR3b3JrIGVycm9yJyB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kQ2hhdE1lc3NhZ2UoXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgc2NlbmFyaW8/OiBzdHJpbmcsXG4gIGFpUm9sZT86IHN0cmluZ1xuKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7cmVzcG9uc2U6IHN0cmluZywgYXVkaW9fdXJsOiBzdHJpbmd9PignL2FwaS9jaGF0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgYWlfcm9sZTogYWlSb2xlLFxuICAgIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKHVzZXJuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZldGNoQVBJPHtzdWdnZXN0aW9uczogc3RyaW5nW119PignL2FwaS9zdWdnZXN0aW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhbmd1YWdlTGVzc29ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7Y3JpdGlxdWU6IHN0cmluZywgbGVzc29uczogc3RyaW5nW119PignL2FwaS9sZXNzb24nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRTY2VuYXJpbyh1c2VybmFtZTogc3RyaW5nLCBzY2VuYXJpbzogc3RyaW5nLCBsYW5ndWFnZT86IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgY29uc29sZS5sb2coXCJDYWxsaW5nIHNldFNjZW5hcmlvIHdpdGg6XCIsIHsgdXNlcm5hbWUsIHNjZW5hcmlvLCBsYW5ndWFnZSwgZGVzY3JpcHRpb24gfSlcbiAgcmV0dXJuIGZldGNoQVBJPHtzY2VuYXJpbzogc3RyaW5nLCBhaV9yb2xlOiBzdHJpbmd9PignL2FwaS9zY2VuYXJpby9zZXQnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgIHVzZXJuYW1lLCBcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZSh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KGAvYXBpL3Byb2ZpbGUvJHt1c2VybmFtZX1gKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRTY2VuYXJpb3MoKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KCcvYXBpL3NjZW5hcmlvcycpO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tU2NlbmFyaW8gPSBhc3luYyAoXG4gIHVzZXJuYW1lOiBzdHJpbmcsIFxuICB0aXRsZTogc3RyaW5nLCBcbiAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgbGFuZ3VhZ2U/OiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2NlbmFyaW8vc2V0YCwgeyBcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHNjZW5hcmlvOiB0aXRsZSwgIFxuICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgXCJub25lXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IGRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY3VzdG9tIHNjZW5hcmlvJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBlcnJvcjogJ05ldHdvcmsgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4nLFxuICAgIH07XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJmZXRjaEFQSSIsImVuZHBvaW50Iiwib3B0aW9ucyIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiZXJyb3IiLCJqc29uIiwiZGF0YSIsImRldGFpbCIsImNvbnNvbGUiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJ1c2VybmFtZSIsIm1lc3NhZ2UiLCJzY2VuYXJpbyIsImFpUm9sZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWlfcm9sZSIsImdldFN1Z2dlc3Rpb25zIiwiZ2V0TGFuZ3VhZ2VMZXNzb25zIiwic2V0U2NlbmFyaW8iLCJsYW5ndWFnZSIsImRlc2NyaXB0aW9uIiwibG9nIiwiZ2V0VXNlclByb2ZpbGUiLCJnZXREZWZhdWx0U2NlbmFyaW9zIiwiY3JlYXRlQ3VzdG9tU2NlbmFyaW8iLCJ0aXRsZSIsInJlc3BvbnNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/services/api.ts\n");
NewUI+Backend/NewUI/.next/server/app/scenario/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _server_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../server/firebase */ \"(ssr)/./server/firebase.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/api */ \"(ssr)/./src/services/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nconst ScenarioPage = ()=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showProfileMenu, setShowProfileMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [scenarios, setScenarios] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [userLanguage, setUserLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('en');\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const profileMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    // Predefined scenarios\n    const defaultScenarios = [\n        {\n            id: 'restaurant',\n            title: 'Restaurant Order',\n            description: 'Practice ordering food at a restaurant',\n            created_at: new Date().toISOString(),\n            custom: false\n        },\n        {\n            id: 'job_interview',\n            title: 'Job Interview',\n            description: 'Practice for a job interview',\n            created_at: new Date().toISOString(),\n            custom: false\n        }\n    ];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ScenarioPage.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_5__.onAuthStateChanged)(_server_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, {\n                \"ScenarioPage.useEffect.unsubscribe\": async (currentUser)=>{\n                    setUser(currentUser);\n                    const savedLocale = localStorage.getItem('locale') || 'en';\n                    setUserLanguage(savedLocale);\n                    setScenarios(defaultScenarios);\n                    if (currentUser) {\n                        try {\n                            const username = currentUser.displayName || currentUser.email?.split('@')[0] || 'Guest';\n                            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.getUserProfile)(username);\n                            if (response && response.data && !response.error) {\n                                // If user has custom scenarios, add them to the list\n                                if (response.data.custom_scenarios && Array.isArray(response.data.custom_scenarios)) {\n                                    const customScenarios = response.data.custom_scenarios.map({\n                                        \"ScenarioPage.useEffect.unsubscribe.customScenarios\": (scenario, index)=>({\n                                                id: `custom-${index}`,\n                                                title: scenario.title || `Custom Scenario ${index + 1}`,\n                                                description: scenario.description || \"\",\n                                                created_at: scenario.created_at || new Date().toISOString(),\n                                                custom: true\n                                            })\n                                    }[\"ScenarioPage.useEffect.unsubscribe.customScenarios\"]);\n                                    // Combine default scenarios with custom scenarios\n                                    setScenarios([\n                                        ...defaultScenarios,\n                                        ...customScenarios\n                                    ]);\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error fetching user profile:\", error);\n                        }\n                    }\n                    setLoading(false);\n                }\n            }[\"ScenarioPage.useEffect.unsubscribe\"]);\n            return ({\n                \"ScenarioPage.useEffect\": ()=>unsubscribe()\n            })[\"ScenarioPage.useEffect\"];\n        }\n    }[\"ScenarioPage.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ScenarioPage.useEffect\": ()=>{\n            function handleClickOutside(event) {\n                if (profileMenuRef.current && !profileMenuRef.current.contains(event.target)) {\n                    setShowProfileMenu(false);\n                }\n            }\n            document.addEventListener(\"mousedown\", handleClickOutside);\n            return ({\n                \"ScenarioPage.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickOutside)\n            })[\"ScenarioPage.useEffect\"];\n        }\n    }[\"ScenarioPage.useEffect\"], []);\n    // Update the scenario list with latest custom scenarios\n    const refreshCustomScenarios = async ()=>{\n        if (!user) return;\n        const username = user.displayName || user.email?.split('@')[0] || 'Guest';\n        try {\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.getUserProfile)(username);\n            if (response && response.data && !response.error) {\n                if (response.data.custom_scenarios && Array.isArray(response.data.custom_scenarios)) {\n                    const customScenarios = response.data.custom_scenarios.map((scenario, index)=>({\n                            id: `custom-${index}`,\n                            title: scenario.title || `Custom Scenario ${index + 1}`,\n                            description: scenario.description || \"\",\n                            created_at: scenario.created_at || new Date().toISOString(),\n                            custom: true\n                        }));\n                    // Combine default scenarios with updated custom scenarios\n                    setScenarios([\n                        ...defaultScenarios,\n                        ...customScenarios\n                    ]);\n                } else {\n                    setScenarios(defaultScenarios);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error refreshing custom scenarios:\", error);\n        }\n    };\n    const handleBackClick = ()=>{\n        router.push('/choose');\n    };\n    const navigateToDashboard = ()=>{\n        router.push('/dashboard');\n        setShowProfileMenu(false);\n    };\n    const handleAddCustomScenario = ()=>{\n        router.push('/scenario/custom');\n    };\n    const handleScenarioClick = async (scenario)=>{\n        if (!user) {\n            alert(\"Please log in to start a scenario\");\n            return;\n        }\n        try {\n            const username = user.displayName || user.email?.split('@')[0] || 'Guest';\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.setScenario)(username, scenario.id, userLanguage, scenario.description);\n            // Navigate to the customed scenario page\n            if (scenario.custom) {\n                const scenarioIndex = scenario.id.split('-')[1];\n                router.push(`/scenario/custom/${scenarioIndex}`);\n            } else {\n                localStorage.setItem('currentScenario', JSON.stringify(scenario));\n                router.push('/roleplay');\n            }\n        } catch (error) {\n            console.error(\"Error setting scenario:\", error);\n            alert(\"There was a problem starting the scenario. Please try again.\");\n        }\n    };\n    const filteredScenarios = scenarios.filter((scenario)=>scenario.title.toLowerCase().includes(searchQuery.toLowerCase()) || scenario.description.toLowerCase().includes(searchQuery.toLowerCase()));\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            style: {\n                backgroundImage: \"url('/icons/background1.jpg')\",\n                backgroundSize: \"cover\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#48d1cc]\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 180,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n            lineNumber: 178,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen relative bg-cover bg-center\",\n        style: {\n            backgroundImage: \"url('/icons/background1.jpg')\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-8 left-8 z-10\",\n                ref: profileMenuRef,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setShowProfileMenu(!showProfileMenu),\n                        className: \"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center overflow-hidden\",\n                        children: user?.photoURL ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            src: user.photoURL,\n                            alt: \"Profile\",\n                            width: 40,\n                            height: 40,\n                            className: \"object-cover\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                            lineNumber: 196,\n                            columnNumber: 13\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full bg-[#48d1cc] flex items-center justify-center text-white font-semibold text-sm\",\n                            children: user?.displayName ? user.displayName.charAt(0).toUpperCase() : user?.email ? user.email.charAt(0).toUpperCase() : \"G\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 191,\n                        columnNumber: 9\n                    }, undefined),\n                    showProfileMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-12 left-0 bg-white rounded-lg shadow-lg py-2 min-w-[180px] text-gray-800 z-20\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-medium\",\n                                        children: user?.displayName || \"Guest\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 214,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    user?.email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: user.email\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 213,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: [\n                                        \"Language: \",\n                                        userLanguage === 'en' ? 'English' : userLanguage === 'zh-CN' ? 'Chinese' : 'Japanese'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                    lineNumber: 220,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 219,\n                                columnNumber: 13\n                            }, undefined),\n                            user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: navigateToDashboard,\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 227,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Profile Dashboard\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>router.push('/login'),\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 238,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 237,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Sign In\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 233,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 190,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleBackClick,\n                className: \"absolute top-8 left-24 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    src: \"/icons/back.png\",\n                    alt: \"Back\",\n                    width: 24,\n                    height: 24\n                }, void 0, false, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                    lineNumber: 251,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 247,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto pt-24 px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white bg-opacity-90 rounded-xl shadow-lg p-6 mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 relative flex-shrink-0\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            src: \"/icons/chatbot.png\",\n                                            alt: \"Chatbot Icon\",\n                                            fill: true,\n                                            className: \"rounded-full object-cover\",\n                                            priority: true\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 263,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 262,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-2xl font-bold text-gray-800 mb-2\",\n                                            children: \"Choose a Scenario\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 273,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 272,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 261,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-6 flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative w-full max-w-md\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: searchQuery,\n                                                onChange: (e)=>setSearchQuery(e.target.value),\n                                                placeholder: \"Search scenarios...\",\n                                                className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 279,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                className: \"h-5 w-5 absolute left-3 top-2.5 text-gray-400\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 287,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 286,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 278,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleAddCustomScenario,\n                                        className: \"ml-4 bg-[#20b2aa] hover:bg-[#008080] text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                className: \"h-5 w-5 mr-1\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M12 4v16m8-8H4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 296,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 295,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Create Custom\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 291,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 260,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n                        children: filteredScenarios.map((scenario)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                onClick: ()=>handleScenarioClick(scenario),\n                                className: `bg-white bg-opacity-90 rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-xl ${scenario.custom ? 'border-2 border-[#20b2aa]' : ''}`,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `p-5 ${scenario.custom ? 'border-t-4 border-[#20b2aa]' : 'border-t-4 border-blue-500'}`,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between items-start mb-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                    className: \"text-xl font-bold text-gray-800\",\n                                                    children: scenario.title\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                scenario.custom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"bg-[#20b2aa] text-white text-xs px-2 py-1 rounded-full\",\n                                                    children: \"Custom\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 316,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 313,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-600 mb-4\",\n                                            children: scenario.description\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 321,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-end\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-sm text-blue-600 hover:text-blue-800 transition-colors font-medium flex items-center\",\n                                                children: [\n                                                    \"Start Practice\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-4 w-4 ml-1\",\n                                                        fill: \"none\",\n                                                        viewBox: \"0 0 24 24\",\n                                                        stroke: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            strokeLinecap: \"round\",\n                                                            strokeLinejoin: \"round\",\n                                                            strokeWidth: 2,\n                                                            d: \"M9 5l7 7-7 7\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                            lineNumber: 326,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                        lineNumber: 325,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 323,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 322,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                    lineNumber: 312,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, scenario.id, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 13\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 303,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 259,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n        lineNumber: 186,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScenarioPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0IsTUFBSzt3REFBT0UsU0FBUTt3REFBWUQsUUFBTztrRUFDdEcsNEVBQUNFOzREQUFLQyxlQUFjOzREQUFRQyxnQkFBZTs0REFBUUMsYUFBYTs0REFBR0MsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrQkFwQnhFbEQsU0FBU3hCLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErQjlCO0FBRUEsaUVBQWVoQixZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvYXBwL3NjZW5hcmlvL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL2ZpcmViYXNlXCI7XG5pbXBvcnQgeyBvbkF1dGhTdGF0ZUNoYW5nZWQsIFVzZXIgfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0IHsgZ2V0VXNlclByb2ZpbGUsIHNldFNjZW5hcmlvIH0gZnJvbSAnQC9zZXJ2aWNlcy9hcGknO1xuXG5pbnRlcmZhY2UgU2NlbmFyaW8ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIGN1c3RvbTogYm9vbGVhbjtcbn1cblxuY29uc3QgU2NlbmFyaW9QYWdlID0gKCkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd1Byb2ZpbGVNZW51LCBzZXRTaG93UHJvZmlsZU1lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2NlbmFyaW9zLCBzZXRTY2VuYXJpb3NdID0gdXNlU3RhdGU8U2NlbmFyaW9bXT4oW10pO1xuICBjb25zdCBbdXNlckxhbmd1YWdlLCBzZXRVc2VyTGFuZ3VhZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignZW4nKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIFxuICBjb25zdCBwcm9maWxlTWVudVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIC8vIFByZWRlZmluZWQgc2NlbmFyaW9zXG4gIGNvbnN0IGRlZmF1bHRTY2VuYXJpb3M6IFNjZW5hcmlvW10gPSBbXG4gICAge1xuICAgICAgaWQ6ICdyZXN0YXVyYW50JyxcbiAgICAgIHRpdGxlOiAnUmVzdGF1cmFudCBPcmRlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1ByYWN0aWNlIG9yZGVyaW5nIGZvb2QgYXQgYSByZXN0YXVyYW50JyxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGN1c3RvbTogZmFsc2VcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnam9iX2ludGVydmlldycsXG4gICAgICB0aXRsZTogJ0pvYiBJbnRlcnZpZXcnLFxuICAgICAgZGVzY3JpcHRpb246ICdQcmFjdGljZSBmb3IgYSBqb2IgaW50ZXJ2aWV3JyxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGN1c3RvbTogZmFsc2VcbiAgICB9LFxuICBdO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKGN1cnJlbnRVc2VyKSA9PiB7XG4gICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2F2ZWRMb2NhbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxlJykgfHwgJ2VuJztcbiAgICAgIHNldFVzZXJMYW5ndWFnZShzYXZlZExvY2FsZSk7XG4gICAgICBcbiAgICAgIHNldFNjZW5hcmlvcyhkZWZhdWx0U2NlbmFyaW9zKTtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRVc2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBjdXJyZW50VXNlci5kaXNwbGF5TmFtZSB8fCBjdXJyZW50VXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnR3Vlc3QnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0VXNlclByb2ZpbGUodXNlcm5hbWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmICFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgdXNlciBoYXMgY3VzdG9tIHNjZW5hcmlvcywgYWRkIHRoZW0gdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmN1c3RvbV9zY2VuYXJpb3MgJiYgQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhLmN1c3RvbV9zY2VuYXJpb3MpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGN1c3RvbVNjZW5hcmlvcyA9IHJlc3BvbnNlLmRhdGEuY3VzdG9tX3NjZW5hcmlvcy5tYXAoKHNjZW5hcmlvOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICh7XG4gICAgICAgICAgICAgICAgaWQ6IGBjdXN0b20tJHtpbmRleH1gLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzY2VuYXJpby50aXRsZSB8fCBgQ3VzdG9tIFNjZW5hcmlvICR7aW5kZXggKyAxfWAsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjZW5hcmlvLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogc2NlbmFyaW8uY3JlYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgY3VzdG9tOiB0cnVlXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENvbWJpbmUgZGVmYXVsdCBzY2VuYXJpb3Mgd2l0aCBjdXN0b20gc2NlbmFyaW9zXG4gICAgICAgICAgICAgIHNldFNjZW5hcmlvcyhbLi4uZGVmYXVsdFNjZW5hcmlvcywgLi4uY3VzdG9tU2NlbmFyaW9zXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2tPdXRzaWRlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICBpZiAocHJvZmlsZU1lbnVSZWYuY3VycmVudCAmJiAhcHJvZmlsZU1lbnVSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd1Byb2ZpbGVNZW51KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gIH0sIFtdKTtcblxuICAvLyBVcGRhdGUgdGhlIHNjZW5hcmlvIGxpc3Qgd2l0aCBsYXRlc3QgY3VzdG9tIHNjZW5hcmlvc1xuICBjb25zdCByZWZyZXNoQ3VzdG9tU2NlbmFyaW9zID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdHdWVzdCc7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0VXNlclByb2ZpbGUodXNlcm5hbWUpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSAmJiAhcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY3VzdG9tX3NjZW5hcmlvcyAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEuY3VzdG9tX3NjZW5hcmlvcykpIHtcbiAgICAgICAgICBjb25zdCBjdXN0b21TY2VuYXJpb3MgPSByZXNwb25zZS5kYXRhLmN1c3RvbV9zY2VuYXJpb3MubWFwKChzY2VuYXJpbzogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGBjdXN0b20tJHtpbmRleH1gLFxuICAgICAgICAgICAgdGl0bGU6IHNjZW5hcmlvLnRpdGxlIHx8IGBDdXN0b20gU2NlbmFyaW8gJHtpbmRleCArIDF9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzY2VuYXJpby5kZXNjcmlwdGlvbiB8fCBcIlwiLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogc2NlbmFyaW8uY3JlYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBjdXN0b206IHRydWVcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29tYmluZSBkZWZhdWx0IHNjZW5hcmlvcyB3aXRoIHVwZGF0ZWQgY3VzdG9tIHNjZW5hcmlvc1xuICAgICAgICAgIHNldFNjZW5hcmlvcyhbLi4uZGVmYXVsdFNjZW5hcmlvcywgLi4uY3VzdG9tU2NlbmFyaW9zXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0U2NlbmFyaW9zKGRlZmF1bHRTY2VuYXJpb3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWZyZXNoaW5nIGN1c3RvbSBzY2VuYXJpb3M6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQmFja0NsaWNrID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvY2hvb3NlJyk7XG4gIH07XG4gIFxuICBjb25zdCBuYXZpZ2F0ZVRvRGFzaGJvYXJkID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvZGFzaGJvYXJkJyk7XG4gICAgc2V0U2hvd1Byb2ZpbGVNZW51KGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRDdXN0b21TY2VuYXJpbyA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnL3NjZW5hcmlvL2N1c3RvbScpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNjZW5hcmlvQ2xpY2sgPSBhc3luYyAoc2NlbmFyaW86IFNjZW5hcmlvKSA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBsb2cgaW4gdG8gc3RhcnQgYSBzY2VuYXJpb1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcm5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lIHx8IHVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJ0d1ZXN0JztcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXRTY2VuYXJpbyhcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHNjZW5hcmlvLmlkLCAgICAgICBcbiAgICAgICAgdXNlckxhbmd1YWdlLCAgICAgICAgXG4gICAgICAgIHNjZW5hcmlvLmRlc2NyaXB0aW9uXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBOYXZpZ2F0ZSB0byB0aGUgY3VzdG9tZWQgc2NlbmFyaW8gcGFnZVxuICAgICAgaWYgKHNjZW5hcmlvLmN1c3RvbSkge1xuICAgICAgICBjb25zdCBzY2VuYXJpb0luZGV4ID0gc2NlbmFyaW8uaWQuc3BsaXQoJy0nKVsxXTtcbiAgICAgICAgcm91dGVyLnB1c2goYC9zY2VuYXJpby9jdXN0b20vJHtzY2VuYXJpb0luZGV4fWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRTY2VuYXJpbycsIEpTT04uc3RyaW5naWZ5KHNjZW5hcmlvKSk7XG4gICAgICAgIHJvdXRlci5wdXNoKCcvcm9sZXBsYXknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNldHRpbmcgc2NlbmFyaW86XCIsIGVycm9yKTtcbiAgICAgIGFsZXJ0KFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBzdGFydGluZyB0aGUgc2NlbmFyaW8uIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmaWx0ZXJlZFNjZW5hcmlvcyA9IHNjZW5hcmlvcy5maWx0ZXIoc2NlbmFyaW8gPT4gXG4gICAgc2NlbmFyaW8udGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgIHNjZW5hcmlvLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSlcbiAgKTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9pY29ucy9iYWNrZ3JvdW5kMS5qcGcnKVwiLCBiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItWyM0OGQxY2NdXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IFxuICAgICAgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIHJlbGF0aXZlIGJnLWNvdmVyIGJnLWNlbnRlclwiXG4gICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKCcvaWNvbnMvYmFja2dyb3VuZDEuanBnJylcIiB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTggbGVmdC04IHotMTBcIiByZWY9e3Byb2ZpbGVNZW51UmVmfT5cbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJvZmlsZU1lbnUoIXNob3dQcm9maWxlTWVudSl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy13aGl0ZS8xMCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt1c2VyPy5waG90b1VSTCA/IChcbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBzcmM9e3VzZXIucGhvdG9VUkx9XG4gICAgICAgICAgICAgIGFsdD1cIlByb2ZpbGVcIlxuICAgICAgICAgICAgICB3aWR0aD17NDB9XG4gICAgICAgICAgICAgIGhlaWdodD17NDB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctWyM0OGQxY2NdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIHt1c2VyPy5kaXNwbGF5TmFtZSA/IHVzZXIuZGlzcGxheU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgOiBcbiAgICAgICAgICAgICAgIHVzZXI/LmVtYWlsID8gdXNlci5lbWFpbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6IFwiR1wifVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIFxuICAgICAgICB7c2hvd1Byb2ZpbGVNZW51ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xMiBsZWZ0LTAgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcHktMiBtaW4tdy1bMTgwcHhdIHRleHQtZ3JheS04MDAgei0yMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3VzZXI/LmRpc3BsYXlOYW1lIHx8IFwiR3Vlc3RcIn08L3A+XG4gICAgICAgICAgICAgIHt1c2VyPy5lbWFpbCAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e3VzZXIuZW1haWx9PC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+TGFuZ3VhZ2U6IHt1c2VyTGFuZ3VhZ2UgPT09ICdlbicgPyAnRW5nbGlzaCcgOiB1c2VyTGFuZ3VhZ2UgPT09ICd6aC1DTicgPyAnQ2hpbmVzZScgOiAnSmFwYW5lc2UnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3VzZXIgPyAoXG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17bmF2aWdhdGVUb0Rhc2hib2FyZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPVwiMlwiIGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICBQcm9maWxlIERhc2hib2FyZFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goJy9sb2dpbicpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktMTAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9XCIyXCIgZD1cIk0xMSAxNmwtNC00bTAgMGw0LTRtLTQgNGgxNG0tNSA0djFhMyAzIDAgMDEtMyAzSDZhMyAzIDAgMDEtMy0zVjdhMyAzIDAgMDEzLTNoN2EzIDMgMCAwMTMgM3YxXCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8YnV0dG9uIFxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVCYWNrQ2xpY2t9XG4gICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC04IGxlZnQtMjQgdy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy13aGl0ZS8xMCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxuICAgICAgPlxuICAgICAgICA8SW1hZ2VcbiAgICAgICAgICBzcmM9XCIvaWNvbnMvYmFjay5wbmdcIlxuICAgICAgICAgIGFsdD1cIkJhY2tcIlxuICAgICAgICAgIHdpZHRoPXsyNH1cbiAgICAgICAgICBoZWlnaHQ9ezI0fVxuICAgICAgICAvPlxuICAgICAgPC9idXR0b24+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHQtMjQgcHgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGJnLW9wYWNpdHktOTAgcm91bmRlZC14bCBzaGFkb3ctbGcgcC02IG1iLThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC01XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiByZWxhdGl2ZSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgIHNyYz1cIi9pY29ucy9jaGF0Ym90LnBuZ1wiXG4gICAgICAgICAgICAgICAgYWx0PVwiQ2hhdGJvdCBJY29uXCJcbiAgICAgICAgICAgICAgICBmaWxsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgcHJpb3JpdHlcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMlwiPkNob29zZSBhIFNjZW5hcmlvPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIG1heC13LW1kXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoUXVlcnl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggc2NlbmFyaW9zLi4uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtMTAgcHItNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTUgdy01IGFic29sdXRlIGxlZnQtMyB0b3AtMi41IHRleHQtZ3JheS00MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMjEgMjFsLTYtNm0yLTVhNyA3IDAgMTEtMTQgMCA3IDcgMCAwMTE0IDB6XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQ3VzdG9tU2NlbmFyaW99XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTQgYmctWyMyMGIyYWFdIGhvdmVyOmJnLVsjMDA4MDgwXSB0ZXh0LXdoaXRlIHB4LTQgcHktMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNSB3LTUgbXItMVwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiA0djE2bTgtOEg0XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIENyZWF0ZSBDdXN0b21cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNlwiPlxuICAgICAgICAgIHtmaWx0ZXJlZFNjZW5hcmlvcy5tYXAoc2NlbmFyaW8gPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e3NjZW5hcmlvLmlkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTY2VuYXJpb0NsaWNrKHNjZW5hcmlvKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmctd2hpdGUgYmctb3BhY2l0eS05MCByb3VuZGVkLXhsIHNoYWRvdy1sZyBvdmVyZmxvdy1oaWRkZW4gY3Vyc29yLXBvaW50ZXIgdHJhbnNmb3JtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS0xMDUgaG92ZXI6c2hhZG93LXhsICR7XG4gICAgICAgICAgICAgICAgc2NlbmFyaW8uY3VzdG9tID8gJ2JvcmRlci0yIGJvcmRlci1bIzIwYjJhYV0nIDogJydcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC01ICR7c2NlbmFyaW8uY3VzdG9tID8gJ2JvcmRlci10LTQgYm9yZGVyLVsjMjBiMmFhXScgOiAnYm9yZGVyLXQtNCBib3JkZXItYmx1ZS01MDAnfWB9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj57c2NlbmFyaW8udGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICAgIHtzY2VuYXJpby5jdXN0b20gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiZy1bIzIwYjJhYV0gdGV4dC13aGl0ZSB0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICBDdXN0b21cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTRcIj57c2NlbmFyaW8uZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTgwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICBTdGFydCBQcmFjdGljZVxuICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTQgdy00IG1sLTFcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSA1bDcgNy03IDdcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2NlbmFyaW9QYWdlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSW1hZ2UiLCJ1c2VSb3V0ZXIiLCJhdXRoIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiZ2V0VXNlclByb2ZpbGUiLCJzZXRTY2VuYXJpbyIsIlNjZW5hcmlvUGFnZSIsInVzZXIiLCJzZXRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzaG93UHJvZmlsZU1lbnUiLCJzZXRTaG93UHJvZmlsZU1lbnUiLCJzY2VuYXJpb3MiLCJzZXRTY2VuYXJpb3MiLCJ1c2VyTGFuZ3VhZ2UiLCJzZXRVc2VyTGFuZ3VhZ2UiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5IiwicHJvZmlsZU1lbnVSZWYiLCJyb3V0ZXIiLCJkZWZhdWx0U2NlbmFyaW9zIiwiaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImN1c3RvbSIsInVuc3Vic2NyaWJlIiwiY3VycmVudFVzZXIiLCJzYXZlZExvY2FsZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ1c2VybmFtZSIsImRpc3BsYXlOYW1lIiwiZW1haWwiLCJzcGxpdCIsInJlc3BvbnNlIiwiZGF0YSIsImVycm9yIiwiY3VzdG9tX3NjZW5hcmlvcyIsIkFycmF5IiwiaXNBcnJheSIsImN1c3RvbVNjZW5hcmlvcyIsIm1hcCIsInNjZW5hcmlvIiwiaW5kZXgiLCJjb25zb2xlIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJjdXJyZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVmcmVzaEN1c3RvbVNjZW5hcmlvcyIsImhhbmRsZUJhY2tDbGljayIsInB1c2giLCJuYXZpZ2F0ZVRvRGFzaGJvYXJkIiwiaGFuZGxlQWRkQ3VzdG9tU2NlbmFyaW8iLCJoYW5kbGVTY2VuYXJpb0NsaWNrIiwiYWxlcnQiLCJzY2VuYXJpb0luZGV4Iiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaWx0ZXJlZFNjZW5hcmlvcyIsImZpbHRlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRTaXplIiwicmVmIiwiYnV0dG9uIiwib25DbGljayIsInBob3RvVVJMIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInAiLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJwcmlvcml0eSIsImgxIiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJwbGFjZWhvbGRlciIsInhtbG5zIiwiaDIiLCJzcGFuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/scenario/page.tsx\n");
NewUI+Backend/NewUI/.next/server/app/scenario/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScenarioProvider: () => (/* binding */ ScenarioProvider),\n/* harmony export */   useScenarios: () => (/* binding */ useScenarios)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ ScenarioProvider,useScenarios auto */ \n\nconst ScenarioContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction ScenarioProvider({ children }) {\n    const [scenarios, setScenarios] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"ScenarioProvider.useState\": ()=>{\n            if (false) {}\n            return [];\n        }\n    }[\"ScenarioProvider.useState\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ScenarioProvider.useEffect\": ()=>{\n            if (scenarios.length > 0) {\n                localStorage.setItem('userScenarios', JSON.stringify(scenarios));\n            }\n        }\n    }[\"ScenarioProvider.useEffect\"], [\n        scenarios\n    ]);\n    const addScenario = (title)=>{\n        const newScenario = {\n            id: Date.now().toString(),\n            title\n        };\n        const updatedScenarios = [\n            ...scenarios,\n            newScenario\n        ];\n        setScenarios(updatedScenarios);\n        localStorage.setItem('userScenarios', JSON.stringify(updatedScenarios));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScenarioContext.Provider, {\n        value: {\n            scenarios,\n            addScenario\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/context/scenarioContext.tsx\",\n        lineNumber: 42,\n        columnNumber: 5\n    }, this);\n}\nfunction useScenarios() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ScenarioContext);\n    if (context === undefined) {\n        throw new Error('useScenarios must be used within a ScenarioProvider');\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29udGV4dC9zY2VuYXJpb0NvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDOEU7QUFZOUUsTUFBTUssZ0NBQWtCSixvREFBYUEsQ0FBa0NLO0FBRWhFLFNBQVNDLGlCQUFpQixFQUFFQyxRQUFRLEVBQWlDO0lBQzFFLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHUCwrQ0FBUUE7cUNBQWE7WUFDckQsSUFBSSxLQUE2QixFQUFFLEVBR2xDO1lBQ0QsT0FBTyxFQUFFO1FBQ1g7O0lBRUFDLGdEQUFTQTtzQ0FBQztZQUNSLElBQUlLLFVBQVVPLE1BQU0sR0FBRyxHQUFHO2dCQUN4QkosYUFBYUssT0FBTyxDQUFDLGlCQUFpQkgsS0FBS0ksU0FBUyxDQUFDVDtZQUN2RDtRQUNGO3FDQUFHO1FBQUNBO0tBQVU7SUFFZCxNQUFNVSxjQUFjLENBQUNDO1FBQ25CLE1BQU1DLGNBQWM7WUFDbEJDLElBQUlDLEtBQUtDLEdBQUcsR0FBR0MsUUFBUTtZQUN2Qkw7UUFDRjtRQUNBLE1BQU1NLG1CQUFtQjtlQUFJakI7WUFBV1k7U0FBWTtRQUNwRFgsYUFBYWdCO1FBQ2JkLGFBQWFLLE9BQU8sQ0FBQyxpQkFBaUJILEtBQUtJLFNBQVMsQ0FBQ1E7SUFDdkQ7SUFFQSxxQkFDRSw4REFBQ3JCLGdCQUFnQnNCLFFBQVE7UUFBQ0MsT0FBTztZQUFFbkI7WUFBV1U7UUFBWTtrQkFDdkRYOzs7Ozs7QUFHUDtBQUVPLFNBQVNxQjtJQUNkLE1BQU1DLFVBQVU1QixpREFBVUEsQ0FBQ0c7SUFDM0IsSUFBSXlCLFlBQVl4QixXQUFXO1FBQ3pCLE1BQU0sSUFBSXlCLE1BQU07SUFDbEI7SUFDQSxPQUFPRDtBQUNUIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvY29udGV4dC9zY2VuYXJpb0NvbnRleHQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxudHlwZSBTY2VuYXJpbyA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbn07XG5cbnR5cGUgU2NlbmFyaW9Db250ZXh0VHlwZSA9IHtcbiAgc2NlbmFyaW9zOiBTY2VuYXJpb1tdO1xuICBhZGRTY2VuYXJpbzogKHRpdGxlOiBzdHJpbmcpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBTY2VuYXJpb0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFNjZW5hcmlvQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBTY2VuYXJpb1Byb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW3NjZW5hcmlvcywgc2V0U2NlbmFyaW9zXSA9IHVzZVN0YXRlPFNjZW5hcmlvW10+KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHNhdmVkU2NlbmFyaW9zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJTY2VuYXJpb3MnKTtcbiAgICAgIHJldHVybiBzYXZlZFNjZW5hcmlvcyA/IEpTT04ucGFyc2Uoc2F2ZWRTY2VuYXJpb3MpIDogW107XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2NlbmFyaW9zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyU2NlbmFyaW9zJywgSlNPTi5zdHJpbmdpZnkoc2NlbmFyaW9zKSk7XG4gICAgfVxuICB9LCBbc2NlbmFyaW9zXSk7XG5cbiAgY29uc3QgYWRkU2NlbmFyaW8gPSAodGl0bGU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG5ld1NjZW5hcmlvID0geyBcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksIFxuICAgICAgdGl0bGUgXG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVkU2NlbmFyaW9zID0gWy4uLnNjZW5hcmlvcywgbmV3U2NlbmFyaW9dO1xuICAgIHNldFNjZW5hcmlvcyh1cGRhdGVkU2NlbmFyaW9zKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclNjZW5hcmlvcycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRTY2VuYXJpb3MpKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTY2VuYXJpb0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgc2NlbmFyaW9zLCBhZGRTY2VuYXJpbyB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1NjZW5hcmlvQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNjZW5hcmlvcygpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoU2NlbmFyaW9Db250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlU2NlbmFyaW9zIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBTY2VuYXJpb1Byb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlNjZW5hcmlvQ29udGV4dCIsInVuZGVmaW5lZCIsIlNjZW5hcmlvUHJvdmlkZXIiLCJjaGlsZHJlbiIsInNjZW5hcmlvcyIsInNldFNjZW5hcmlvcyIsInNhdmVkU2NlbmFyaW9zIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImxlbmd0aCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJhZGRTY2VuYXJpbyIsInRpdGxlIiwibmV3U2NlbmFyaW8iLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInVwZGF0ZWRTY2VuYXJpb3MiLCJQcm92aWRlciIsInZhbHVlIiwidXNlU2NlbmFyaW9zIiwiY29udGV4dCIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/context/scenarioContext.tsx\n");
NewUI+Backend/NewUI/.next/server/app/scenario/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint, options = {}) {\n    try {\n        const res = await fetch(`${API_BASE_URL}${endpoint}`, {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(`/api/profile/${username}`);\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(`${API_BASE_URL}/api/scenario/set`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TEUsTUFBTTtZQUNORixPQUFPO1FBQ1Q7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9zZXJ2aWNlcy9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcblxudHlwZSBBUElSZXNwb25zZTxUPiA9IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBUEk8VD4oXG4gIGVuZHBvaW50OiBzdHJpbmcsIFxuICBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9XG4pOiBQcm9taXNlPEFQSVJlc3BvbnNlPFQ+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IuZGV0YWlsIHx8ICdBbiBlcnJvciBvY2N1cnJlZCcgfTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdOZXR3b3JrIGVycm9yJyB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kQ2hhdE1lc3NhZ2UoXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgc2NlbmFyaW8/OiBzdHJpbmcsXG4gIGFpUm9sZT86IHN0cmluZ1xuKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7cmVzcG9uc2U6IHN0cmluZywgYXVkaW9fdXJsOiBzdHJpbmd9PignL2FwaS9jaGF0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgYWlfcm9sZTogYWlSb2xlLFxuICAgIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKHVzZXJuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZldGNoQVBJPHtzdWdnZXN0aW9uczogc3RyaW5nW119PignL2FwaS9zdWdnZXN0aW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhbmd1YWdlTGVzc29ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7Y3JpdGlxdWU6IHN0cmluZywgbGVzc29uczogc3RyaW5nW119PignL2FwaS9sZXNzb24nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRTY2VuYXJpbyh1c2VybmFtZTogc3RyaW5nLCBzY2VuYXJpbzogc3RyaW5nLCBsYW5ndWFnZT86IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgY29uc29sZS5sb2coXCJDYWxsaW5nIHNldFNjZW5hcmlvIHdpdGg6XCIsIHsgdXNlcm5hbWUsIHNjZW5hcmlvLCBsYW5ndWFnZSwgZGVzY3JpcHRpb24gfSlcbiAgcmV0dXJuIGZldGNoQVBJPHtzY2VuYXJpbzogc3RyaW5nLCBhaV9yb2xlOiBzdHJpbmd9PignL2FwaS9zY2VuYXJpby9zZXQnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgIHVzZXJuYW1lLCBcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZSh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KGAvYXBpL3Byb2ZpbGUvJHt1c2VybmFtZX1gKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRTY2VuYXJpb3MoKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KCcvYXBpL3NjZW5hcmlvcycpO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tU2NlbmFyaW8gPSBhc3luYyAoXG4gIHVzZXJuYW1lOiBzdHJpbmcsIFxuICB0aXRsZTogc3RyaW5nLCBcbiAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgbGFuZ3VhZ2U/OiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2NlbmFyaW8vc2V0YCwgeyBcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHNjZW5hcmlvOiB0aXRsZSwgIFxuICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgXCJub25lXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IGRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY3VzdG9tIHNjZW5hcmlvJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBlcnJvcjogJ05ldHdvcmsgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4nLFxuICAgIH07XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJmZXRjaEFQSSIsImVuZHBvaW50Iiwib3B0aW9ucyIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiZXJyb3IiLCJqc29uIiwiZGF0YSIsImRldGFpbCIsImNvbnNvbGUiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJ1c2VybmFtZSIsIm1lc3NhZ2UiLCJzY2VuYXJpbyIsImFpUm9sZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWlfcm9sZSIsImdldFN1Z2dlc3Rpb25zIiwiZ2V0TGFuZ3VhZ2VMZXNzb25zIiwic2V0U2NlbmFyaW8iLCJsYW5ndWFnZSIsImRlc2NyaXB0aW9uIiwibG9nIiwiZ2V0VXNlclByb2ZpbGUiLCJnZXREZWZhdWx0U2NlbmFyaW9zIiwiY3JlYXRlQ3VzdG9tU2NlbmFyaW8iLCJ0aXRsZSIsInJlc3BvbnNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/services/api.ts\n");
NewUI+Backend/NewUI/.next/server/app/scenario/custom/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScenarioProvider: () => (/* binding */ ScenarioProvider),\n/* harmony export */   useScenarios: () => (/* binding */ useScenarios)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ ScenarioProvider,useScenarios auto */ \n\nconst ScenarioContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction ScenarioProvider({ children }) {\n    const [scenarios, setScenarios] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"ScenarioProvider.useState\": ()=>{\n            if (false) {}\n            return [];\n        }\n    }[\"ScenarioProvider.useState\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ScenarioProvider.useEffect\": ()=>{\n            if (scenarios.length > 0) {\n                localStorage.setItem('userScenarios', JSON.stringify(scenarios));\n            }\n        }\n    }[\"ScenarioProvider.useEffect\"], [\n        scenarios\n    ]);\n    const addScenario = (title)=>{\n        const newScenario = {\n            id: Date.now().toString(),\n            title\n        };\n        const updatedScenarios = [\n            ...scenarios,\n            newScenario\n        ];\n        setScenarios(updatedScenarios);\n        localStorage.setItem('userScenarios', JSON.stringify(updatedScenarios));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScenarioContext.Provider, {\n        value: {\n            scenarios,\n            addScenario\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/context/scenarioContext.tsx\",\n        lineNumber: 42,\n        columnNumber: 5\n    }, this);\n}\nfunction useScenarios() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ScenarioContext);\n    if (context === undefined) {\n        throw new Error('useScenarios must be used within a ScenarioProvider');\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29udGV4dC9zY2VuYXJpb0NvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDOEU7QUFZOUUsTUFBTUssZ0NBQWtCSixvREFBYUEsQ0FBa0NLO0FBRWhFLFNBQVNDLGlCQUFpQixFQUFFQyxRQUFRLEVBQWlDO0lBQzFFLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHUCwrQ0FBUUE7cUNBQWE7WUFDckQsSUFBSSxLQUE2QixFQUFFLEVBR2xDO1lBQ0QsT0FBTyxFQUFFO1FBQ1g7O0lBRUFDLGdEQUFTQTtzQ0FBQztZQUNSLElBQUlLLFVBQVVPLE1BQU0sR0FBRyxHQUFHO2dCQUN4QkosYUFBYUssT0FBTyxDQUFDLGlCQUFpQkgsS0FBS0ksU0FBUyxDQUFDVDtZQUN2RDtRQUNGO3FDQUFHO1FBQUNBO0tBQVU7SUFFZCxNQUFNVSxjQUFjLENBQUNDO1FBQ25CLE1BQU1DLGNBQWM7WUFDbEJDLElBQUlDLEtBQUtDLEdBQUcsR0FBR0MsUUFBUTtZQUN2Qkw7UUFDRjtRQUNBLE1BQU1NLG1CQUFtQjtlQUFJakI7WUFBV1k7U0FBWTtRQUNwRFgsYUFBYWdCO1FBQ2JkLGFBQWFLLE9BQU8sQ0FBQyxpQkFBaUJILEtBQUtJLFNBQVMsQ0FBQ1E7SUFDdkQ7SUFFQSxxQkFDRSw4REFBQ3JCLGdCQUFnQnNCLFFBQVE7UUFBQ0MsT0FBTztZQUFFbkI7WUFBV1U7UUFBWTtrQkFDdkRYOzs7Ozs7QUFHUDtBQUVPLFNBQVNxQjtJQUNkLE1BQU1DLFVBQVU1QixpREFBVUEsQ0FBQ0c7SUFDM0IsSUFBSXlCLFlBQVl4QixXQUFXO1FBQ3pCLE1BQU0sSUFBSXlCLE1BQU07SUFDbEI7SUFDQSxPQUFPRDtBQUNUIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvY29udGV4dC9zY2VuYXJpb0NvbnRleHQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxudHlwZSBTY2VuYXJpbyA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbn07XG5cbnR5cGUgU2NlbmFyaW9Db250ZXh0VHlwZSA9IHtcbiAgc2NlbmFyaW9zOiBTY2VuYXJpb1tdO1xuICBhZGRTY2VuYXJpbzogKHRpdGxlOiBzdHJpbmcpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBTY2VuYXJpb0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFNjZW5hcmlvQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBTY2VuYXJpb1Byb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW3NjZW5hcmlvcywgc2V0U2NlbmFyaW9zXSA9IHVzZVN0YXRlPFNjZW5hcmlvW10+KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHNhdmVkU2NlbmFyaW9zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJTY2VuYXJpb3MnKTtcbiAgICAgIHJldHVybiBzYXZlZFNjZW5hcmlvcyA/IEpTT04ucGFyc2Uoc2F2ZWRTY2VuYXJpb3MpIDogW107XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2NlbmFyaW9zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyU2NlbmFyaW9zJywgSlNPTi5zdHJpbmdpZnkoc2NlbmFyaW9zKSk7XG4gICAgfVxuICB9LCBbc2NlbmFyaW9zXSk7XG5cbiAgY29uc3QgYWRkU2NlbmFyaW8gPSAodGl0bGU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG5ld1NjZW5hcmlvID0geyBcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksIFxuICAgICAgdGl0bGUgXG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVkU2NlbmFyaW9zID0gWy4uLnNjZW5hcmlvcywgbmV3U2NlbmFyaW9dO1xuICAgIHNldFNjZW5hcmlvcyh1cGRhdGVkU2NlbmFyaW9zKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclNjZW5hcmlvcycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRTY2VuYXJpb3MpKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTY2VuYXJpb0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgc2NlbmFyaW9zLCBhZGRTY2VuYXJpbyB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1NjZW5hcmlvQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNjZW5hcmlvcygpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoU2NlbmFyaW9Db250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlU2NlbmFyaW9zIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBTY2VuYXJpb1Byb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlNjZW5hcmlvQ29udGV4dCIsInVuZGVmaW5lZCIsIlNjZW5hcmlvUHJvdmlkZXIiLCJjaGlsZHJlbiIsInNjZW5hcmlvcyIsInNldFNjZW5hcmlvcyIsInNhdmVkU2NlbmFyaW9zIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImxlbmd0aCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJhZGRTY2VuYXJpbyIsInRpdGxlIiwibmV3U2NlbmFyaW8iLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInVwZGF0ZWRTY2VuYXJpb3MiLCJQcm92aWRlciIsInZhbHVlIiwidXNlU2NlbmFyaW9zIiwiY29udGV4dCIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/context/scenarioContext.tsx\n");
NewUI+Backend/NewUI/.next/server/app/scenario/custom/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint, options = {}) {\n    try {\n        const res = await fetch(`${API_BASE_URL}${endpoint}`, {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(`/api/profile/${username}`);\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(`${API_BASE_URL}/api/scenario/set`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TEUsTUFBTTtZQUNORixPQUFPO1FBQ1Q7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9zZXJ2aWNlcy9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcblxudHlwZSBBUElSZXNwb25zZTxUPiA9IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBUEk8VD4oXG4gIGVuZHBvaW50OiBzdHJpbmcsIFxuICBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9XG4pOiBQcm9taXNlPEFQSVJlc3BvbnNlPFQ+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IuZGV0YWlsIHx8ICdBbiBlcnJvciBvY2N1cnJlZCcgfTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdOZXR3b3JrIGVycm9yJyB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kQ2hhdE1lc3NhZ2UoXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgc2NlbmFyaW8/OiBzdHJpbmcsXG4gIGFpUm9sZT86IHN0cmluZ1xuKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7cmVzcG9uc2U6IHN0cmluZywgYXVkaW9fdXJsOiBzdHJpbmd9PignL2FwaS9jaGF0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgYWlfcm9sZTogYWlSb2xlLFxuICAgIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKHVzZXJuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZldGNoQVBJPHtzdWdnZXN0aW9uczogc3RyaW5nW119PignL2FwaS9zdWdnZXN0aW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhbmd1YWdlTGVzc29ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7Y3JpdGlxdWU6IHN0cmluZywgbGVzc29uczogc3RyaW5nW119PignL2FwaS9sZXNzb24nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRTY2VuYXJpbyh1c2VybmFtZTogc3RyaW5nLCBzY2VuYXJpbzogc3RyaW5nLCBsYW5ndWFnZT86IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgY29uc29sZS5sb2coXCJDYWxsaW5nIHNldFNjZW5hcmlvIHdpdGg6XCIsIHsgdXNlcm5hbWUsIHNjZW5hcmlvLCBsYW5ndWFnZSwgZGVzY3JpcHRpb24gfSlcbiAgcmV0dXJuIGZldGNoQVBJPHtzY2VuYXJpbzogc3RyaW5nLCBhaV9yb2xlOiBzdHJpbmd9PignL2FwaS9zY2VuYXJpby9zZXQnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgIHVzZXJuYW1lLCBcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZSh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KGAvYXBpL3Byb2ZpbGUvJHt1c2VybmFtZX1gKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRTY2VuYXJpb3MoKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KCcvYXBpL3NjZW5hcmlvcycpO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tU2NlbmFyaW8gPSBhc3luYyAoXG4gIHVzZXJuYW1lOiBzdHJpbmcsIFxuICB0aXRsZTogc3RyaW5nLCBcbiAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgbGFuZ3VhZ2U/OiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2NlbmFyaW8vc2V0YCwgeyBcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHNjZW5hcmlvOiB0aXRsZSwgIFxuICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgXCJub25lXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IGRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY3VzdG9tIHNjZW5hcmlvJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBlcnJvcjogJ05ldHdvcmsgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4nLFxuICAgIH07XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJmZXRjaEFQSSIsImVuZHBvaW50Iiwib3B0aW9ucyIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiZXJyb3IiLCJqc29uIiwiZGF0YSIsImRldGFpbCIsImNvbnNvbGUiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJ1c2VybmFtZSIsIm1lc3NhZ2UiLCJzY2VuYXJpbyIsImFpUm9sZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWlfcm9sZSIsImdldFN1Z2dlc3Rpb25zIiwiZ2V0TGFuZ3VhZ2VMZXNzb25zIiwic2V0U2NlbmFyaW8iLCJsYW5ndWFnZSIsImRlc2NyaXB0aW9uIiwibG9nIiwiZ2V0VXNlclByb2ZpbGUiLCJnZXREZWZhdWx0U2NlbmFyaW9zIiwiY3JlYXRlQ3VzdG9tU2NlbmFyaW8iLCJ0aXRsZSIsInJlc3BvbnNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/services/api.ts\n");
NewUI+Backend/NewUI/.next/server/app/roleplay/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _server_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../server/firebase */ \"(ssr)/./server/firebase.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/api */ \"(ssr)/./src/services/api.ts\");\n/* harmony import */ var _components_Dictionary__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Dictionary */ \"(ssr)/./src/components/Dictionary.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\nconst RoleplayPage = ()=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showProfileMenu, setShowProfileMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [userLanguage, setUserLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('en');\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [scenario, setScenario] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showModal, setShowModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [suggestionList, setSuggestionList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const profileMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RoleplayPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"RoleplayPage.useEffect\"], [\n        messages\n    ]);\n    const scrollToBottom = ()=>{\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    const initializeConversation = async (username)=>{\n        try {\n            // Call backend to set scenario & get response\n            // const scenarioResponse = await setScenario(username);\n            // Fetch initial response from backend\n            const response = await fetch(\"http://localhost:8000/api/get_scenario_response\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    username\n                })\n            });\n            const data = await response.json();\n            console.log(\"LLM Response:\", data.response);\n            // Set initial message from backend\n            setMessages([\n                {\n                    text: data.response,\n                    sender: \"bot\"\n                }\n            ]);\n            // Fetch initial suggestions\n            fetchSuggestions(username);\n        } catch (error) {\n            console.error(\"Error initializing conversation:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RoleplayPage.useEffect\": ()=>{\n            setLoading(true);\n            const fetchUserAndScenario = {\n                \"RoleplayPage.useEffect.fetchUserAndScenario\": async ()=>{\n                    try {\n                        // Load scenario from localStorage\n                        const savedScenario = localStorage.getItem(\"currentScenario\");\n                        if (!savedScenario) {\n                            alert(\"No scenario selected. Please select a scenario first.\");\n                            router.push(\"/scenario\");\n                            return;\n                        }\n                        const parsedScenario = JSON.parse(savedScenario);\n                        setScenario(parsedScenario);\n                        // Authenticate user\n                        const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_5__.onAuthStateChanged)(_server_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, {\n                            \"RoleplayPage.useEffect.fetchUserAndScenario.unsubscribe\": async (currentUser)=>{\n                                setUser(currentUser);\n                                // Get language preference (from localStorage or backend)\n                                const savedLocale = localStorage.getItem(\"locale\") || \"en\";\n                                setUserLanguage(savedLocale);\n                                if (currentUser) {\n                                    const username = currentUser.displayName || currentUser.email?.split(\"@\")[0] || \"Guest\";\n                                    console.log(\"ðŸ‘¤ User authenticated:\", username);\n                                    // Initialize conversation (calls backend for scenario & LLM response)\n                                    await initializeConversation(username);\n                                }\n                                setLoading(false);\n                            }\n                        }[\"RoleplayPage.useEffect.fetchUserAndScenario.unsubscribe\"]);\n                        return ({\n                            \"RoleplayPage.useEffect.fetchUserAndScenario\": ()=>unsubscribe()\n                        })[\"RoleplayPage.useEffect.fetchUserAndScenario\"];\n                    } catch (error) {\n                        console.error(\"Error loading user scenario:\", error);\n                        alert(\"There was a problem loading the scenario. Please try again.\");\n                        router.push(\"/scenario\");\n                    }\n                }\n            }[\"RoleplayPage.useEffect.fetchUserAndScenario\"];\n            fetchUserAndScenario();\n        }\n    }[\"RoleplayPage.useEffect\"], []);\n    // // Initialize scenario conversation with backend\n    // const initializeConversation = async (username: string, scenarioTitle: string) => {\n    //   try {\n    //     const scenarioResponse = await setScenario(username, scenarioTitle);\n    //     fetchSuggestions(username); // Initial suggestions\n    //   } catch (error) {\n    //     console.error(\"Error initializing conversation:\", error);\n    //   }\n    // };\n    // useEffect(() => {\n    //   // Load the scenario from localStorage\n    //   const savedScenario = localStorage.getItem('currentScenario');\n    //   if (!savedScenario) {\n    //     // If no scenario is found, redirect back to scenario selection\n    //     alert(\"No scenario selected. Please select a scenario first.\");\n    //     router.push('/scenario');\n    //     return;\n    //   }\n    //   try {\n    //     const parsedScenario = JSON.parse(savedScenario);\n    //     setScenario(parsedScenario);\n    //     const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n    //       setUser(currentUser);\n    //       const savedLocale = localStorage.getItem('locale') || 'en';\n    //       setUserLanguage(savedLocale);\n    //       if (currentUser) {\n    //         const username = currentUser.displayName || currentUser.email?.split('@')[0] || 'Guest';\n    //         await initializeConversation(username, parsedScenario.title);\n    //         setMessages([\n    //           { \n    //             text: `Hello${currentUser.displayName ? ', ' + currentUser.displayName : ''}! I'll be your conversation partner for this ${parsedScenario.title} scenario. How can I help you today?`, \n    //             sender: 'bot' \n    //           }\n    //         ]);\n    //       } else {\n    //         setMessages([\n    //           { \n    //             text: `Welcome to the ${parsedScenario.title} scenario! I'll be your conversation partner. How would you like to start?`, \n    //             sender: 'bot' \n    //           }\n    //         ]);\n    //       }\n    //       setLoading(false);\n    //     });\n    //     return () => unsubscribe();\n    //   } catch (error) {\n    //     console.error(\"Error parsing scenario:\", error);\n    //     alert(\"There was a problem loading the scenario. Please try again.\");\n    //     router.push('/scenario');\n    //   }\n    // }, []);\n    // Fetch updated conversation suggestions from backend\n    const fetchSuggestions = async (username)=>{\n        try {\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.getSuggestions)(username);\n            if (response && response.data && !response.error) {\n                setSuggestionList(response.data.suggestions);\n            } else if (response && response.error) {\n                console.error(\"Error fetching suggestions:\", response.error);\n            }\n        } catch (error) {\n            console.error(\"Error fetching suggestions:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RoleplayPage.useEffect\": ()=>{\n            function handleClickOutside(event) {\n                if (profileMenuRef.current && !profileMenuRef.current.contains(event.target)) {\n                    setShowProfileMenu(false);\n                }\n            }\n            document.addEventListener(\"mousedown\", handleClickOutside);\n            return ({\n                \"RoleplayPage.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickOutside)\n            })[\"RoleplayPage.useEffect\"];\n        }\n    }[\"RoleplayPage.useEffect\"], []);\n    const handleBackClick = ()=>{\n        router.push('/scenario');\n    };\n    const navigateToDashboard = ()=>{\n        router.push('/dashboard');\n        setShowProfileMenu(false);\n    };\n    const handleInputChange = (event)=>{\n        setInputText(event.target.value);\n    };\n    const handleKeyPress = (event)=>{\n        if (event.key === 'Enter') {\n            handleSendMessage();\n        }\n    };\n    // Play audio when speaker button is clicked\n    const playMessageAudio = (messageId, audioUrl)=>{\n        if (!audioUrl) return;\n        // Stop any currently playing audio\n        if (audioRef.current) {\n            audioRef.current.pause();\n            audioRef.current.currentTime = 0;\n            setIsPlaying(null);\n        }\n        // If clicking on the currently playing audio, just stop it\n        if (isPlaying === `message-${messageId}`) {\n            setIsPlaying(null);\n            return;\n        }\n        // Create and play new audio\n        const audio = new Audio(`http://localhost:8000${audioUrl}`);\n        audioRef.current = audio;\n        // Set the currently playing message ID\n        setIsPlaying(`message-${messageId}`);\n        // When audio ends, reset the playing state\n        audio.addEventListener('ended', ()=>{\n            setIsPlaying(null);\n        });\n        audio.play().catch((e)=>{\n            console.error(\"Audio playback error:\", e);\n            setIsPlaying(null);\n        });\n    };\n    const handleSendMessage = async ()=>{\n        if (!inputText.trim() || !scenario) return;\n        const userMessage = inputText.trim();\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    text: userMessage,\n                    sender: 'user'\n                }\n            ]);\n        setInputText('');\n        setIsLoading(true);\n        try {\n            const username = user ? user.displayName || user.email?.split('@')[0] || 'Guest' : 'Guest';\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.sendChatMessage)(username, userMessage, scenario.title, undefined, userLanguage);\n            if (response && response.error) {\n                throw new Error(response.error);\n            }\n            if (response && response.data) {\n                setMessages((prev)=>[\n                        ...prev,\n                        {\n                            text: response.data.response,\n                            sender: 'bot',\n                            audio_url: response.data.audio_url\n                        }\n                    ]);\n                if (response.data.audio_url) {\n                    // Click the speaker button to play message audio\n                    playMessageAudio(messages.length, response.data.audio_url);\n                }\n            }\n            // Fetch updated suggestions after message\n            await fetchSuggestions(username);\n        } catch (error) {\n            console.error('Error sending message:', error);\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        text: \"Sorry, I'm having trouble connecting. Please try again.\",\n                        sender: 'bot'\n                    }\n                ]);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleEndScenario = ()=>{\n        setShowModal(true);\n    };\n    const handleSaveConversation = async ()=>{\n        try {\n            if (!scenario) return;\n            const scenarioType = scenario.title.toLowerCase().replace(/\\s+/g, '_');\n            const savedConversations = JSON.parse(localStorage.getItem(scenarioType) || '[]');\n            savedConversations.push({\n                id: Date.now(),\n                date: new Date().toISOString(),\n                scenario: scenario.title,\n                messages: messages,\n                userName: user ? user.displayName || user.email?.split('@')[0] || 'Guest' : 'Guest',\n                language: userLanguage\n            });\n            localStorage.setItem(scenarioType, JSON.stringify(savedConversations));\n            router.push('/scenario');\n        } catch (error) {\n            console.error(\"Error saving conversation:\", error);\n            router.push('/scenario');\n        }\n    };\n    const handleDiscardConversation = ()=>{\n        router.push('/scenario');\n    };\n    // Apply suggestion to input\n    const handleSuggestionClick = (suggestion)=>{\n        setInputText(suggestion);\n    };\n    // Toggle voice recording (placeholder)\n    const toggleRecording = ()=>{\n        setIsRecording(!isRecording);\n    // Add actual recording logic here\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            style: {\n                backgroundImage: \"url('/icons/background1.jpg')\",\n                backgroundSize: \"cover\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#48d1cc]\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 363,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n            lineNumber: 361,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-900 text-white relative\",\n        style: {\n            backgroundImage: \"url('/icons/background1.jpg')\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-8 left-8 z-10\",\n                ref: profileMenuRef,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setShowProfileMenu(!showProfileMenu),\n                        className: \"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center overflow-hidden\",\n                        children: user?.photoURL ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            src: user.photoURL,\n                            alt: \"Profile\",\n                            width: 40,\n                            height: 40,\n                            className: \"object-cover\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 378,\n                            columnNumber: 13\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full bg-[#48d1cc] flex items-center justify-center text-white font-semibold text-sm\",\n                            children: user?.displayName ? user.displayName.charAt(0).toUpperCase() : user?.email ? user.email.charAt(0).toUpperCase() : \"G\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 386,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                        lineNumber: 373,\n                        columnNumber: 9\n                    }, undefined),\n                    showProfileMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-12 left-0 bg-white rounded-lg shadow-lg py-2 min-w-[180px] text-gray-800 z-20\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-medium\",\n                                        children: user?.displayName || \"Guest\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 396,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    user?.email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: user.email\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 398,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 395,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: [\n                                        \"Language: \",\n                                        userLanguage === 'en' ? 'English' : userLanguage === 'zh-CN' ? 'Chinese' : 'Japanese'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 402,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 401,\n                                columnNumber: 13\n                            }, undefined),\n                            user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: navigateToDashboard,\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 410,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 409,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Profile Dashboard\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 405,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>router.push('/login'),\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 420,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 419,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Sign In\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 415,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                        lineNumber: 394,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 372,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleBackClick,\n                className: \"absolute top-8 left-24 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    src: \"/icons/back.png\",\n                    alt: \"Back\",\n                    width: 24,\n                    height: 24,\n                    className: \"text-white\"\n                }, void 0, false, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                    lineNumber: 433,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 429,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleEndScenario,\n                className: \"absolute top-8 right-8 bg-[#20b2aa] hover:bg-[#008080] px-6 py-2 rounded-lg transition-colors duration-200\",\n                children: \"End Scenario\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 442,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"pt-24 px-4 max-w-6xl mx-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[65%]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-[70vh] bg-[#f0f8ff] rounded-xl p-6 overflow-y-auto mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-col space-y-4\",\n                                        children: [\n                                            messages.map((message, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n                                                    children: [\n                                                        message.sender === 'bot' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-8 h-8 mr-2 flex-shrink-0 rounded-full overflow-hidden\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                src: \"/icons/robot.jpg\",\n                                                                alt: \"Robot\",\n                                                                width: 32,\n                                                                height: 32,\n                                                                className: \"object-cover\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                lineNumber: 462,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 461,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: `max-w-sm rounded-lg px-4 py-2 ${message.sender === 'user' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-800'} group relative`,\n                                                            children: [\n                                                                message.text,\n                                                                message.sender === 'bot' && message.audio_url && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>playMessageAudio(index, message.audio_url),\n                                                                    className: \"absolute -right-10 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors\",\n                                                                    \"aria-label\": \"Play message audio\",\n                                                                    children: isPlaying === `message-${index}` ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"animate-pulse\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                            src: \"/icons/speaker.jpg\",\n                                                                            alt: \"Speaker\",\n                                                                            width: 24,\n                                                                            height: 24\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                            lineNumber: 489,\n                                                                            columnNumber: 31\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                        lineNumber: 488,\n                                                                        columnNumber: 29\n                                                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                        src: \"/icons/speaker.jpg\",\n                                                                        alt: \"Speaker\",\n                                                                        width: 24,\n                                                                        height: 24\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                        lineNumber: 492,\n                                                                        columnNumber: 29\n                                                                    }, undefined)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                    lineNumber: 482,\n                                                                    columnNumber: 25\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 471,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        message.sender === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-8 h-8 ml-2 flex-shrink-0 rounded-full overflow-hidden bg-blue-100 flex items-center justify-center\",\n                                                            children: user?.photoURL ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                src: user.photoURL,\n                                                                alt: \"User\",\n                                                                width: 32,\n                                                                height: 32,\n                                                                className: \"object-cover\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                lineNumber: 500,\n                                                                columnNumber: 27\n                                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-full h-full bg-[#48d1cc] flex items-center justify-center text-white font-semibold text-xs\",\n                                                                children: user?.displayName ? user.displayName.charAt(0).toUpperCase() : user?.email ? user.email.charAt(0).toUpperCase() : \"U\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                lineNumber: 508,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 498,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 456,\n                                                    columnNumber: 19\n                                                }, undefined)),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                ref: messagesEndRef\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 517,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 454,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 453,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: toggleRecording,\n                                            className: `${isRecording ? 'bg-red-500 hover:bg-red-600' : 'bg-gray-200 hover:bg-gray-300'} px-3 py-3 rounded-lg transition-colors duration-200 flex items-center justify-center relative`,\n                                            \"aria-label\": \"Start voice recording\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"h-6 w-6\",\n                                                    fill: \"none\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    stroke: isRecording ? \"white\" : \"black\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                        lineNumber: 532,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 531,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                isRecording && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"absolute top-0 right-0 flex h-3 w-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 536,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"relative inline-flex rounded-full h-3 w-3 bg-red-500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 537,\n                                                            columnNumber: 21\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 535,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 522,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"text\",\n                                            value: inputText,\n                                            onChange: handleInputChange,\n                                            onKeyPress: handleKeyPress,\n                                            placeholder: isRecording ? \"Listening...\" : \"Type your message...\",\n                                            className: `flex-1 bg-white text-black px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isRecording ? 'animate-pulse border-2 border-red-400' : ''}`,\n                                            disabled: isRecording || isLoading\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 542,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleSendMessage,\n                                            disabled: isRecording || isLoading || !inputText.trim(),\n                                            className: \"bg-[#20b2aa] hover:bg-[#008080] px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center disabled:opacity-50\",\n                                            children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 560,\n                                                columnNumber: 19\n                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                src: \"/icons/send.png\",\n                                                alt: \"Send\",\n                                                width: 24,\n                                                height: 24\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 562,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 554,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 521,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 452,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[35%] flex flex-col gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-[34vh] bg-[#f0f8ff] rounded-xl p-6 overflow-y-auto\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-m font-medium text-gray-800 mb-3\",\n                                            children: \"Suggestions\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 572,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        suggestionList.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: suggestionList.map((suggestion, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"w-full bg-white rounded-lg p-3 shadow-sm hover:bg-gray-50 transition-colors text-left flex items-center\",\n                                                    onClick: ()=>handleSuggestionClick(suggestion),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"flex-shrink-0 w-6 h-6 bg-[#20b2aa] rounded-full flex items-center justify-center text-white text-xs mr-3\",\n                                                            children: index + 1\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 581,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-gray-700\",\n                                                            children: suggestion\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 584,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 576,\n                                                    columnNumber: 21\n                                                }, undefined))\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 574,\n                                            columnNumber: 17\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 rounded-lg p-4 text-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-500\",\n                                                children: \"Suggestions will appear here after you start chatting.\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 590,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 589,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 571,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-[34vh] bg-[#f0f8ff] rounded-xl p-6 overflow-y-auto mb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-m font-medium text-gray-800 mb-3\",\n                                            children: \"Dictionary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 597,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Dictionary__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 598,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 596,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-0\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push('/lesson'),\n                                        className: \"w-full bg-[#20b2aa] hover:bg-[#008080] py-3 rounded-lg text-white font-medium transition-colors\",\n                                        children: \"Go to Lessons\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 603,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 602,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 569,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                    lineNumber: 450,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 449,\n                columnNumber: 7\n            }, undefined),\n            showModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-xl p-6 max-w-md w-full mx-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-xl font-bold text-gray-800 mb-4\",\n                            children: \"End Scenario\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 617,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600 mb-6\",\n                            children: \"Your practice session will be closed. Do you want to save this conversation to your profile?\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 618,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 justify-end\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleDiscardConversation,\n                                    className: \"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-colors\",\n                                    children: \"Don't Save\"\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 621,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSaveConversation,\n                                    className: \"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\",\n                                    children: \"Save\"\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 627,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 620,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                    lineNumber: 616,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 615,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n        lineNumber: 369,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoleplayPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHcEMsV0FBVTtzREFBd0M7Ozs7OztzREFDdEQsOERBQUNySCw4REFBVUE7Ozs7Ozs7Ozs7OzhDQUliLDhEQUFDb0g7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUNLO3dDQUNDQyxTQUFTLElBQU05RixPQUFPMkIsSUFBSSxDQUFDO3dDQUMzQjZELFdBQVU7a0RBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFRUmpHLDJCQUNDLDhEQUFDZ0c7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ29DOzRCQUFHcEMsV0FBVTtzQ0FBdUM7Ozs7OztzQ0FDckQsOERBQUNjOzRCQUFFZCxXQUFVO3NDQUFxQjs7Ozs7O3NDQUVsQyw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDSztvQ0FDQ0MsU0FBU1g7b0NBQ1RLLFdBQVU7OENBQ1g7Ozs7Ozs4Q0FHRCw4REFBQ0s7b0NBQ0NDLFNBQVN4QjtvQ0FDVGtCLFdBQVU7OENBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2Y7QUFFQSxpRUFBZXBILFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9hcHAvcm9sZXBsYXkvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvZmlyZWJhc2VcIjtcbmltcG9ydCB7IG9uQXV0aFN0YXRlQ2hhbmdlZCwgVXNlciB9IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5pbXBvcnQgeyBzZW5kQ2hhdE1lc3NhZ2UsIGdldFN1Z2dlc3Rpb25zLCBzZXRTY2VuYXJpbyB9IGZyb20gJ0Avc2VydmljZXMvYXBpJztcbmltcG9ydCBEaWN0aW9uYXJ5IGZyb20gJ0AvY29tcG9uZW50cy9EaWN0aW9uYXJ5JztcblxuaW50ZXJmYWNlIFNjZW5hcmlvIHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICBjdXN0b206IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgdGV4dDogc3RyaW5nO1xuICBzZW5kZXI6ICd1c2VyJyB8ICdib3QnO1xuICBhdWRpb191cmw/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFJvbGVwbGF5UGFnZSA9ICgpID0+IHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dQcm9maWxlTWVudSwgc2V0U2hvd1Byb2ZpbGVNZW51XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3VzZXJMYW5ndWFnZSwgc2V0VXNlckxhbmd1YWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oJ2VuJyk7XG4gIGNvbnN0IFtpbnB1dFRleHQsIHNldElucHV0VGV4dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzY2VuYXJpbywgc2V0U2NlbmFyaW9dID0gdXNlU3RhdGU8U2NlbmFyaW8gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd01vZGFsLCBzZXRTaG93TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNSZWNvcmRpbmcsIHNldElzUmVjb3JkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N1Z2dlc3Rpb25MaXN0LCBzZXRTdWdnZXN0aW9uTGlzdF0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBcbiAgY29uc3QgcHJvZmlsZU1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGF1ZGlvUmVmID0gdXNlUmVmPEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0JvdHRvbSgpO1xuICB9LCBbbWVzc2FnZXNdKTtcbiAgXG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gIH07XG4gIGNvbnN0IGluaXRpYWxpemVDb252ZXJzYXRpb24gPSBhc3luYyAodXNlcm5hbWU6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDYWxsIGJhY2tlbmQgdG8gc2V0IHNjZW5hcmlvICYgZ2V0IHJlc3BvbnNlXG4gICAgICAvLyBjb25zdCBzY2VuYXJpb1Jlc3BvbnNlID0gYXdhaXQgc2V0U2NlbmFyaW8odXNlcm5hbWUpO1xuICAgICAgXG4gICAgICAvLyBGZXRjaCBpbml0aWFsIHJlc3BvbnNlIGZyb20gYmFja2VuZFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvZ2V0X3NjZW5hcmlvX3Jlc3BvbnNlXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pLFxuICAgICAgfSk7XG4gIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiTExNIFJlc3BvbnNlOlwiLCBkYXRhLnJlc3BvbnNlKTtcbiAgXG4gICAgICAvLyBTZXQgaW5pdGlhbCBtZXNzYWdlIGZyb20gYmFja2VuZFxuICAgICAgc2V0TWVzc2FnZXMoW3sgdGV4dDogZGF0YS5yZXNwb25zZSwgc2VuZGVyOiBcImJvdFwiIH1dKTtcbiAgXG4gICAgICAvLyBGZXRjaCBpbml0aWFsIHN1Z2dlc3Rpb25zXG4gICAgICBmZXRjaFN1Z2dlc3Rpb25zKHVzZXJuYW1lKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBjb252ZXJzYXRpb246XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gIFxuICAgIGNvbnN0IGZldGNoVXNlckFuZFNjZW5hcmlvID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gTG9hZCBzY2VuYXJpbyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBzYXZlZFNjZW5hcmlvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50U2NlbmFyaW9cIik7XG4gIFxuICAgICAgICBpZiAoIXNhdmVkU2NlbmFyaW8pIHtcbiAgICAgICAgICBhbGVydChcIk5vIHNjZW5hcmlvIHNlbGVjdGVkLiBQbGVhc2Ugc2VsZWN0IGEgc2NlbmFyaW8gZmlyc3QuXCIpO1xuICAgICAgICAgIHJvdXRlci5wdXNoKFwiL3NjZW5hcmlvXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICBcbiAgICAgICAgY29uc3QgcGFyc2VkU2NlbmFyaW8gPSBKU09OLnBhcnNlKHNhdmVkU2NlbmFyaW8pO1xuICAgICAgICBzZXRTY2VuYXJpbyhwYXJzZWRTY2VuYXJpbyk7XG4gIFxuICAgICAgICAvLyBBdXRoZW50aWNhdGUgdXNlclxuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAoY3VycmVudFVzZXIpID0+IHtcbiAgICAgICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcbiAgXG4gICAgICAgICAgLy8gR2V0IGxhbmd1YWdlIHByZWZlcmVuY2UgKGZyb20gbG9jYWxTdG9yYWdlIG9yIGJhY2tlbmQpXG4gICAgICAgICAgY29uc3Qgc2F2ZWRMb2NhbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImxvY2FsZVwiKSB8fCBcImVuXCI7XG4gICAgICAgICAgc2V0VXNlckxhbmd1YWdlKHNhdmVkTG9jYWxlKTtcbiAgXG4gICAgICAgICAgaWYgKGN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9XG4gICAgICAgICAgICAgIGN1cnJlbnRVc2VyLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAgIGN1cnJlbnRVc2VyLmVtYWlsPy5zcGxpdChcIkBcIilbMF0gfHxcbiAgICAgICAgICAgICAgXCJHdWVzdFwiO1xuICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+RpCBVc2VyIGF1dGhlbnRpY2F0ZWQ6XCIsIHVzZXJuYW1lKTtcbiAgXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGNvbnZlcnNhdGlvbiAoY2FsbHMgYmFja2VuZCBmb3Igc2NlbmFyaW8gJiBMTE0gcmVzcG9uc2UpXG4gICAgICAgICAgICBhd2FpdCBpbml0aWFsaXplQ29udmVyc2F0aW9uKHVzZXJuYW1lKTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgdXNlciBzY2VuYXJpbzpcIiwgZXJyb3IpO1xuICAgICAgICBhbGVydChcIlRoZXJlIHdhcyBhIHByb2JsZW0gbG9hZGluZyB0aGUgc2NlbmFyaW8uIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICByb3V0ZXIucHVzaChcIi9zY2VuYXJpb1wiKTtcbiAgICAgIH1cbiAgICB9O1xuICBcbiAgICBmZXRjaFVzZXJBbmRTY2VuYXJpbygpO1xuICB9LCBbXSk7XG4gIFxuICAvLyAvLyBJbml0aWFsaXplIHNjZW5hcmlvIGNvbnZlcnNhdGlvbiB3aXRoIGJhY2tlbmRcbiAgLy8gY29uc3QgaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbiA9IGFzeW5jICh1c2VybmFtZTogc3RyaW5nLCBzY2VuYXJpb1RpdGxlOiBzdHJpbmcpID0+IHtcbiAgLy8gICB0cnkge1xuICAvLyAgICAgY29uc3Qgc2NlbmFyaW9SZXNwb25zZSA9IGF3YWl0IHNldFNjZW5hcmlvKHVzZXJuYW1lLCBzY2VuYXJpb1RpdGxlKTtcbiAgLy8gICAgIGZldGNoU3VnZ2VzdGlvbnModXNlcm5hbWUpOyAvLyBJbml0aWFsIHN1Z2dlc3Rpb25zXG4gIC8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgLy8gICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgY29udmVyc2F0aW9uOlwiLCBlcnJvcik7XG4gIC8vICAgfVxuICAvLyB9O1xuXG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgLy8gTG9hZCB0aGUgc2NlbmFyaW8gZnJvbSBsb2NhbFN0b3JhZ2VcbiAgLy8gICBjb25zdCBzYXZlZFNjZW5hcmlvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRTY2VuYXJpbycpO1xuICAgIFxuICAvLyAgIGlmICghc2F2ZWRTY2VuYXJpbykge1xuICAvLyAgICAgLy8gSWYgbm8gc2NlbmFyaW8gaXMgZm91bmQsIHJlZGlyZWN0IGJhY2sgdG8gc2NlbmFyaW8gc2VsZWN0aW9uXG4gIC8vICAgICBhbGVydChcIk5vIHNjZW5hcmlvIHNlbGVjdGVkLiBQbGVhc2Ugc2VsZWN0IGEgc2NlbmFyaW8gZmlyc3QuXCIpO1xuICAvLyAgICAgcm91dGVyLnB1c2goJy9zY2VuYXJpbycpO1xuICAvLyAgICAgcmV0dXJuO1xuICAvLyAgIH1cbiAgICBcbiAgLy8gICB0cnkge1xuICAvLyAgICAgY29uc3QgcGFyc2VkU2NlbmFyaW8gPSBKU09OLnBhcnNlKHNhdmVkU2NlbmFyaW8pO1xuICAvLyAgICAgc2V0U2NlbmFyaW8ocGFyc2VkU2NlbmFyaW8pO1xuICAgICAgXG4gIC8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAoY3VycmVudFVzZXIpID0+IHtcbiAgLy8gICAgICAgc2V0VXNlcihjdXJyZW50VXNlcik7XG4gICAgICAgIFxuICAvLyAgICAgICBjb25zdCBzYXZlZExvY2FsZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbGUnKSB8fCAnZW4nO1xuICAvLyAgICAgICBzZXRVc2VyTGFuZ3VhZ2Uoc2F2ZWRMb2NhbGUpO1xuICAgICAgICBcbiAgLy8gICAgICAgaWYgKGN1cnJlbnRVc2VyKSB7XG4gIC8vICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBjdXJyZW50VXNlci5kaXNwbGF5TmFtZSB8fCBjdXJyZW50VXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnR3Vlc3QnO1xuICAgICAgICAgIFxuICAvLyAgICAgICAgIGF3YWl0IGluaXRpYWxpemVDb252ZXJzYXRpb24odXNlcm5hbWUsIHBhcnNlZFNjZW5hcmlvLnRpdGxlKTtcbiAgLy8gICAgICAgICBzZXRNZXNzYWdlcyhbXG4gIC8vICAgICAgICAgICB7IFxuICAvLyAgICAgICAgICAgICB0ZXh0OiBgSGVsbG8ke2N1cnJlbnRVc2VyLmRpc3BsYXlOYW1lID8gJywgJyArIGN1cnJlbnRVc2VyLmRpc3BsYXlOYW1lIDogJyd9ISBJJ2xsIGJlIHlvdXIgY29udmVyc2F0aW9uIHBhcnRuZXIgZm9yIHRoaXMgJHtwYXJzZWRTY2VuYXJpby50aXRsZX0gc2NlbmFyaW8uIEhvdyBjYW4gSSBoZWxwIHlvdSB0b2RheT9gLCBcbiAgLy8gICAgICAgICAgICAgc2VuZGVyOiAnYm90JyBcbiAgLy8gICAgICAgICAgIH1cbiAgLy8gICAgICAgICBdKTtcbiAgLy8gICAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgICBzZXRNZXNzYWdlcyhbXG4gIC8vICAgICAgICAgICB7IFxuICAvLyAgICAgICAgICAgICB0ZXh0OiBgV2VsY29tZSB0byB0aGUgJHtwYXJzZWRTY2VuYXJpby50aXRsZX0gc2NlbmFyaW8hIEknbGwgYmUgeW91ciBjb252ZXJzYXRpb24gcGFydG5lci4gSG93IHdvdWxkIHlvdSBsaWtlIHRvIHN0YXJ0P2AsIFxuICAvLyAgICAgICAgICAgICBzZW5kZXI6ICdib3QnIFxuICAvLyAgICAgICAgICAgfVxuICAvLyAgICAgICAgIF0pO1xuICAvLyAgICAgICB9XG4gICAgICAgIFxuICAvLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgLy8gICAgIH0pO1xuICAgICAgXG4gIC8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgLy8gICB9IGNhdGNoIChlcnJvcikge1xuICAvLyAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHBhcnNpbmcgc2NlbmFyaW86XCIsIGVycm9yKTtcbiAgLy8gICAgIGFsZXJ0KFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIHRoZSBzY2VuYXJpby4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gIC8vICAgICByb3V0ZXIucHVzaCgnL3NjZW5hcmlvJyk7XG4gIC8vICAgfVxuICAvLyB9LCBbXSk7XG5cbiAgLy8gRmV0Y2ggdXBkYXRlZCBjb252ZXJzYXRpb24gc3VnZ2VzdGlvbnMgZnJvbSBiYWNrZW5kXG4gIGNvbnN0IGZldGNoU3VnZ2VzdGlvbnMgPSBhc3luYyAodXNlcm5hbWU6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFN1Z2dlc3Rpb25zKHVzZXJuYW1lKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmRhdGEgJiYgIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgIHNldFN1Z2dlc3Rpb25MaXN0KHJlc3BvbnNlLmRhdGEuc3VnZ2VzdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5lcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgc3VnZ2VzdGlvbnM6XCIsIHJlc3BvbnNlLmVycm9yKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHN1Z2dlc3Rpb25zOlwiLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2tPdXRzaWRlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICBpZiAocHJvZmlsZU1lbnVSZWYuY3VycmVudCAmJiAhcHJvZmlsZU1lbnVSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd1Byb2ZpbGVNZW51KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVCYWNrQ2xpY2sgPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy9zY2VuYXJpbycpO1xuICB9O1xuICBcbiAgY29uc3QgbmF2aWdhdGVUb0Rhc2hib2FyZCA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnL2Rhc2hib2FyZCcpO1xuICAgIHNldFNob3dQcm9maWxlTWVudShmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgc2V0SW5wdXRUZXh0KGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZXZlbnQ6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBQbGF5IGF1ZGlvIHdoZW4gc3BlYWtlciBidXR0b24gaXMgY2xpY2tlZFxuICBjb25zdCBwbGF5TWVzc2FnZUF1ZGlvID0gKG1lc3NhZ2VJZDogbnVtYmVyLCBhdWRpb1VybD86IHN0cmluZykgPT4ge1xuICAgIGlmICghYXVkaW9VcmwpIHJldHVybjtcbiAgICBcbiAgICAvLyBTdG9wIGFueSBjdXJyZW50bHkgcGxheWluZyBhdWRpb1xuICAgIGlmIChhdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LnBhdXNlKCk7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICAgIHNldElzUGxheWluZyhudWxsKTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgY2xpY2tpbmcgb24gdGhlIGN1cnJlbnRseSBwbGF5aW5nIGF1ZGlvLCBqdXN0IHN0b3AgaXRcbiAgICBpZiAoaXNQbGF5aW5nID09PSBgbWVzc2FnZS0ke21lc3NhZ2VJZH1gKSB7XG4gICAgICBzZXRJc1BsYXlpbmcobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENyZWF0ZSBhbmQgcGxheSBuZXcgYXVkaW9cbiAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhgaHR0cDovL2xvY2FsaG9zdDo4MDAwJHthdWRpb1VybH1gKTtcbiAgICBhdWRpb1JlZi5jdXJyZW50ID0gYXVkaW87XG4gICAgXG4gICAgLy8gU2V0IHRoZSBjdXJyZW50bHkgcGxheWluZyBtZXNzYWdlIElEXG4gICAgc2V0SXNQbGF5aW5nKGBtZXNzYWdlLSR7bWVzc2FnZUlkfWApO1xuICAgIFxuICAgIC8vIFdoZW4gYXVkaW8gZW5kcywgcmVzZXQgdGhlIHBsYXlpbmcgc3RhdGVcbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpID0+IHtcbiAgICAgIHNldElzUGxheWluZyhudWxsKTtcbiAgICB9KTtcbiAgICBcbiAgICBhdWRpby5wbGF5KCkuY2F0Y2goZSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXVkaW8gcGxheWJhY2sgZXJyb3I6XCIsIGUpO1xuICAgICAgc2V0SXNQbGF5aW5nKG51bGwpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaW5wdXRUZXh0LnRyaW0oKSB8fCAhc2NlbmFyaW8pIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB1c2VyTWVzc2FnZSA9IGlucHV0VGV4dC50cmltKCk7XG4gICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgeyB0ZXh0OiB1c2VyTWVzc2FnZSwgc2VuZGVyOiAndXNlcicgfV0pO1xuICAgIHNldElucHV0VGV4dCgnJyk7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlciA/ICh1c2VyLmRpc3BsYXlOYW1lIHx8IHVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJ0d1ZXN0JykgOiAnR3Vlc3QnO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRDaGF0TWVzc2FnZShcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHVzZXJNZXNzYWdlLFxuICAgICAgICBzY2VuYXJpby50aXRsZSwgLy8gVXNpbmcgdGhlIHNjZW5hcmlvIHRpdGxlXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdXNlckxhbmd1YWdlXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmVycm9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgeyBcbiAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLCBcbiAgICAgICAgICBzZW5kZXI6ICdib3QnLFxuICAgICAgICAgIGF1ZGlvX3VybDogcmVzcG9uc2UuZGF0YS5hdWRpb191cmxcbiAgICAgICAgfV0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYXVkaW9fdXJsKSB7XG4gICAgICAgICAgLy8gQ2xpY2sgdGhlIHNwZWFrZXIgYnV0dG9uIHRvIHBsYXkgbWVzc2FnZSBhdWRpb1xuICAgICAgICAgIHBsYXlNZXNzYWdlQXVkaW8obWVzc2FnZXMubGVuZ3RoLCByZXNwb25zZS5kYXRhLmF1ZGlvX3VybCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmV0Y2ggdXBkYXRlZCBzdWdnZXN0aW9ucyBhZnRlciBtZXNzYWdlXG4gICAgICBhd2FpdCBmZXRjaFN1Z2dlc3Rpb25zKHVzZXJuYW1lKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gW1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICB7IHRleHQ6IFwiU29ycnksIEknbSBoYXZpbmcgdHJvdWJsZSBjb25uZWN0aW5nLiBQbGVhc2UgdHJ5IGFnYWluLlwiLCBzZW5kZXI6ICdib3QnIH1cbiAgICAgIF0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbmRTY2VuYXJpbyA9ICgpID0+IHtcbiAgICBzZXRTaG93TW9kYWwodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZUNvbnZlcnNhdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFzY2VuYXJpbykgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBzY2VuYXJpb1R5cGUgPSBzY2VuYXJpby50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJ18nKTtcbiAgICAgIGNvbnN0IHNhdmVkQ29udmVyc2F0aW9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc2NlbmFyaW9UeXBlKSB8fCAnW10nKTtcbiAgICAgIFxuICAgICAgc2F2ZWRDb252ZXJzYXRpb25zLnB1c2goe1xuICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBzY2VuYXJpbzogc2NlbmFyaW8udGl0bGUsXG4gICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgdXNlck5hbWU6IHVzZXIgPyAodXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdHdWVzdCcpIDogJ0d1ZXN0JyxcbiAgICAgICAgbGFuZ3VhZ2U6IHVzZXJMYW5ndWFnZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHNjZW5hcmlvVHlwZSwgSlNPTi5zdHJpbmdpZnkoc2F2ZWRDb252ZXJzYXRpb25zKSk7XG4gICAgICByb3V0ZXIucHVzaCgnL3NjZW5hcmlvJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgY29udmVyc2F0aW9uOlwiLCBlcnJvcik7XG4gICAgICByb3V0ZXIucHVzaCgnL3NjZW5hcmlvJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURpc2NhcmRDb252ZXJzYXRpb24gPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy9zY2VuYXJpbycpO1xuICB9O1xuXG4gIC8vIEFwcGx5IHN1Z2dlc3Rpb24gdG8gaW5wdXRcbiAgY29uc3QgaGFuZGxlU3VnZ2VzdGlvbkNsaWNrID0gKHN1Z2dlc3Rpb246IHN0cmluZykgPT4ge1xuICAgIHNldElucHV0VGV4dChzdWdnZXN0aW9uKTtcbiAgfTtcblxuICAvLyBUb2dnbGUgdm9pY2UgcmVjb3JkaW5nIChwbGFjZWhvbGRlcilcbiAgY29uc3QgdG9nZ2xlUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgIHNldElzUmVjb3JkaW5nKCFpc1JlY29yZGluZyk7XG4gICAgLy8gQWRkIGFjdHVhbCByZWNvcmRpbmcgbG9naWMgaGVyZVxuICB9O1xuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcbiAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBcInVybCgnL2ljb25zL2JhY2tncm91bmQxLmpwZycpXCIsIGJhY2tncm91bmRTaXplOiBcImNvdmVyXCIgfX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJvcmRlci1bIzQ4ZDFjY11cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktOTAwIHRleHQtd2hpdGUgcmVsYXRpdmVcIlxuICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBcInVybCgnL2ljb25zL2JhY2tncm91bmQxLmpwZycpXCIgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC04IGxlZnQtOCB6LTEwXCIgcmVmPXtwcm9maWxlTWVudVJlZn0+XG4gICAgICAgIDxidXR0b24gXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1Byb2ZpbGVNZW51KCFzaG93UHJvZmlsZU1lbnUpfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctd2hpdGUvMTAgaG92ZXI6Ymctd2hpdGUvMjAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgID5cbiAgICAgICAgICB7dXNlcj8ucGhvdG9VUkwgPyAoXG4gICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgc3JjPXt1c2VyLnBob3RvVVJMfVxuICAgICAgICAgICAgICBhbHQ9XCJQcm9maWxlXCJcbiAgICAgICAgICAgICAgd2lkdGg9ezQwfVxuICAgICAgICAgICAgICBoZWlnaHQ9ezQwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGJnLVsjNDhkMWNjXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICB7dXNlcj8uZGlzcGxheU5hbWUgPyB1c2VyLmRpc3BsYXlOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIDogXG4gICAgICAgICAgICAgICB1c2VyPy5lbWFpbCA/IHVzZXIuZW1haWwuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgOiBcIkdcIn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBcbiAgICAgICAge3Nob3dQcm9maWxlTWVudSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMTIgbGVmdC0wIGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIHB5LTIgbWluLXctWzE4MHB4XSB0ZXh0LWdyYXktODAwIHotMjBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt1c2VyPy5kaXNwbGF5TmFtZSB8fCBcIkd1ZXN0XCJ9PC9wPlxuICAgICAgICAgICAgICB7dXNlcj8uZW1haWwgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPnt1c2VyLmVtYWlsfTwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkxhbmd1YWdlOiB7dXNlckxhbmd1YWdlID09PSAnZW4nID8gJ0VuZ2xpc2gnIDogdXNlckxhbmd1YWdlID09PSAnemgtQ04nID8gJ0NoaW5lc2UnIDogJ0phcGFuZXNlJ308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt1c2VyID8gKFxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e25hdmlnYXRlVG9EYXNoYm9hcmR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD1cIjJcIiBkPVwiTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03elwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgUHJvZmlsZSBEYXNoYm9hcmRcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKCcvbG9naW4nKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPVwiMlwiIGQ9XCJNMTEgMTZsLTQtNG0wIDBsNC00bS00IDRoMTRtLTUgNHYxYTMgMyAwIDAxLTMgM0g2YTMgMyAwIDAxLTMtM1Y3YTMgMyAwIDAxMy0zaDdhMyAzIDAgMDEzIDN2MVwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgU2lnbiBJblxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGJ1dHRvbiBcbiAgICAgICAgb25DbGljaz17aGFuZGxlQmFja0NsaWNrfVxuICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtOCBsZWZ0LTI0IHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctd2hpdGUvMTAgaG92ZXI6Ymctd2hpdGUvMjAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcbiAgICAgID5cbiAgICAgICAgPEltYWdlXG4gICAgICAgICAgc3JjPVwiL2ljb25zL2JhY2sucG5nXCJcbiAgICAgICAgICBhbHQ9XCJCYWNrXCJcbiAgICAgICAgICB3aWR0aD17MjR9XG4gICAgICAgICAgaGVpZ2h0PXsyNH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCJcbiAgICAgICAgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgXG4gICAgICA8YnV0dG9uIFxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVFbmRTY2VuYXJpb31cbiAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTggcmlnaHQtOCBiZy1bIzIwYjJhYV0gaG92ZXI6YmctWyMwMDgwODBdIHB4LTYgcHktMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXG4gICAgICA+XG4gICAgICAgIEVuZCBTY2VuYXJpb1xuICAgICAgPC9idXR0b24+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMjQgcHgtNCBtYXgtdy02eGwgbXgtYXV0b1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICB7LyogQ29udmVyc2F0aW9uIGFyZWEgLSBsZWZ0IHNpZGUgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LVs2NSVdXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtWzcwdmhdIGJnLVsjZjBmOGZmXSByb3VuZGVkLXhsIHAtNiBvdmVyZmxvdy15LWF1dG8gbWItNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCAke21lc3NhZ2Uuc2VuZGVyID09PSAndXNlcicgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlciA9PT0gJ2JvdCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBtci0yIGZsZXgtc2hyaW5rLTAgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cIi9pY29ucy9yb2JvdC5qcGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJSb2JvdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtYXgtdy1zbSByb3VuZGVkLWxnIHB4LTQgcHktMiAke1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZW5kZXIgPT09ICd1c2VyJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZScgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMjAwIHRleHQtZ3JheS04MDAnXG4gICAgICAgICAgICAgICAgICAgICAgfSBncm91cCByZWxhdGl2ZWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS50ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBTcGVha2VyIGJ1dHRvbiBmb3IgYm90IG1lc3NhZ2VzICovfVxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlciA9PT0gJ2JvdCcgJiYgbWVzc2FnZS5hdWRpb191cmwgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwbGF5TWVzc2FnZUF1ZGlvKGluZGV4LCBtZXNzYWdlLmF1ZGlvX3VybCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIC1yaWdodC0xMCB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIHctOCBoLTggYmctZ3JheS0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGhvdmVyOmJnLWdyYXktMjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlBsYXkgbWVzc2FnZSBhdWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1BsYXlpbmcgPT09IGBtZXNzYWdlLSR7aW5kZXh9YCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtcHVsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZSBzcmM9XCIvaWNvbnMvc3BlYWtlci5qcGdcIiBhbHQ9XCJTcGVha2VyXCIgd2lkdGg9ezI0fSBoZWlnaHQ9ezI0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZSBzcmM9XCIvaWNvbnMvc3BlYWtlci5qcGdcIiBhbHQ9XCJTcGVha2VyXCIgd2lkdGg9ezI0fSBoZWlnaHQ9ezI0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlciA9PT0gJ3VzZXInICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggbWwtMiBmbGV4LXNocmluay0wIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW4gYmctYmx1ZS0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyPy5waG90b1VSTCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXt1c2VyLnBob3RvVVJMfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlVzZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezMyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctWyM0OGQxY2NdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXI/LmRpc3BsYXlOYW1lID8gdXNlci5kaXNwbGF5TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI/LmVtYWlsID8gdXNlci5lbWFpbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6IFwiVVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlUmVjb3JkaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7XG4gICAgICAgICAgICAgICAgICBpc1JlY29yZGluZyBcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwJyBcbiAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0yMDAgaG92ZXI6YmctZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgfSBweC0zIHB5LTMgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcmVsYXRpdmVgfVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTdGFydCB2b2ljZSByZWNvcmRpbmdcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC02IHctNlwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT17aXNSZWNvcmRpbmcgPyBcIndoaXRlXCIgOiBcImJsYWNrXCJ9PlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDExYTcgNyAwIDAxLTcgN20wIDBhNyA3IDAgMDEtNy03bTcgN3Y0bTAgMEg4bTQgMGg0bS00LThhMyAzIDAgMDEtMy0zVjVhMyAzIDAgMTE2IDB2NmEzIDMgMCAwMS0zIDN6XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICB7aXNSZWNvcmRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgcmlnaHQtMCBmbGV4IGgtMyB3LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYW5pbWF0ZS1waW5nIGFic29sdXRlIGlubGluZS1mbGV4IGgtZnVsbCB3LWZ1bGwgcm91bmRlZC1mdWxsIGJnLXJlZC00MDAgb3BhY2l0eS03NVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmVsYXRpdmUgaW5saW5lLWZsZXggcm91bmRlZC1mdWxsIGgtMyB3LTMgYmctcmVkLTUwMFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0VGV4dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25LZXlQcmVzcz17aGFuZGxlS2V5UHJlc3N9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2lzUmVjb3JkaW5nID8gXCJMaXN0ZW5pbmcuLi5cIiA6IFwiVHlwZSB5b3VyIG1lc3NhZ2UuLi5cIn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgYmctd2hpdGUgdGV4dC1ibGFjayBweC00IHB5LTMgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgJHtcbiAgICAgICAgICAgICAgICAgIGlzUmVjb3JkaW5nID8gJ2FuaW1hdGUtcHVsc2UgYm9yZGVyLTIgYm9yZGVyLXJlZC00MDAnIDogJydcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNSZWNvcmRpbmcgfHwgaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTWVzc2FnZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNSZWNvcmRpbmcgfHwgaXNMb2FkaW5nIHx8ICFpbnB1dFRleHQudHJpbSgpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLVsjMjBiMmFhXSBob3ZlcjpiZy1bIzAwODA4MF0gcHgtNCBweS0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzTG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTUgdy01IGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItd2hpdGVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPEltYWdlIHNyYz1cIi9pY29ucy9zZW5kLnBuZ1wiIGFsdD1cIlNlbmRcIiB3aWR0aD17MjR9IGhlaWdodD17MjR9IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogUmlnaHQgc2lkZSBwYW5lbCB3aXRoIHN1Z2dlc3Rpb25zIGFuZCBkaWN0aW9uYXJ5ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bMzUlXSBmbGV4IGZsZXgtY29sIGdhcC00XCI+XG4gICAgICAgICAgICB7LyogU3VnZ2VzdGlvbnMgcGFuZWwgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtWzM0dmhdIGJnLVsjZjBmOGZmXSByb3VuZGVkLXhsIHAtNiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwIG1iLTNcIj5TdWdnZXN0aW9uczwvaDM+XG4gICAgICAgICAgICAgIHtzdWdnZXN0aW9uTGlzdC5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICB7c3VnZ2VzdGlvbkxpc3QubWFwKChzdWdnZXN0aW9uLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgcm91bmRlZC1sZyBwLTMgc2hhZG93LXNtIGhvdmVyOmJnLWdyYXktNTAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1sZWZ0IGZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdWdnZXN0aW9uQ2xpY2soc3VnZ2VzdGlvbil9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHctNiBoLTYgYmctWyMyMGIyYWFdIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIHRleHQteHMgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2luZGV4ICsgMX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMFwiPntzdWdnZXN0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcm91bmRlZC1sZyBwLTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5TdWdnZXN0aW9ucyB3aWxsIGFwcGVhciBoZXJlIGFmdGVyIHlvdSBzdGFydCBjaGF0dGluZy48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIERpY3Rpb25hcnkgcGFuZWwgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtWzM0dmhdIGJnLVsjZjBmOGZmXSByb3VuZGVkLXhsIHAtNiBvdmVyZmxvdy15LWF1dG8gbWItMlwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1tIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgbWItM1wiPkRpY3Rpb25hcnk8L2gzPlxuICAgICAgICAgICAgICA8RGljdGlvbmFyeS8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIExlc3NvbnMgYnV0dG9uICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0wXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaCgnL2xlc3NvbicpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bIzIwYjJhYV0gaG92ZXI6YmctWyMwMDgwODBdIHB5LTMgcm91bmRlZC1sZyB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEdvIHRvIExlc3NvbnNcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAge3Nob3dNb2RhbCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay83MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNiBtYXgtdy1tZCB3LWZ1bGwgbXgtNFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPkVuZCBTY2VuYXJpbzwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj5Zb3VyIHByYWN0aWNlIHNlc3Npb24gd2lsbCBiZSBjbG9zZWQuIERvIHlvdSB3YW50IHRvIHNhdmUgdGhpcyBjb252ZXJzYXRpb24gdG8geW91ciBwcm9maWxlPzwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGlzY2FyZENvbnZlcnNhdGlvbn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JheS0yMDAgaG92ZXI6YmctZ3JheS0zMDAgdGV4dC1ncmF5LTgwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERvbid0IFNhdmVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZUNvbnZlcnNhdGlvbn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNhdmVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUm9sZXBsYXlQYWdlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSW1hZ2UiLCJ1c2VSb3V0ZXIiLCJhdXRoIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwic2VuZENoYXRNZXNzYWdlIiwiZ2V0U3VnZ2VzdGlvbnMiLCJEaWN0aW9uYXJ5IiwiUm9sZXBsYXlQYWdlIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNob3dQcm9maWxlTWVudSIsInNldFNob3dQcm9maWxlTWVudSIsInVzZXJMYW5ndWFnZSIsInNldFVzZXJMYW5ndWFnZSIsImlucHV0VGV4dCIsInNldElucHV0VGV4dCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJzY2VuYXJpbyIsInNldFNjZW5hcmlvIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwic2hvd01vZGFsIiwic2V0U2hvd01vZGFsIiwiaXNSZWNvcmRpbmciLCJzZXRJc1JlY29yZGluZyIsInN1Z2dlc3Rpb25MaXN0Iiwic2V0U3VnZ2VzdGlvbkxpc3QiLCJwcm9maWxlTWVudVJlZiIsIm1lc3NhZ2VzRW5kUmVmIiwiYXVkaW9SZWYiLCJyb3V0ZXIiLCJzY3JvbGxUb0JvdHRvbSIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbiIsInVzZXJuYW1lIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJqc29uIiwiY29uc29sZSIsImxvZyIsInRleHQiLCJzZW5kZXIiLCJmZXRjaFN1Z2dlc3Rpb25zIiwiZXJyb3IiLCJmZXRjaFVzZXJBbmRTY2VuYXJpbyIsInNhdmVkU2NlbmFyaW8iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYWxlcnQiLCJwdXNoIiwicGFyc2VkU2NlbmFyaW8iLCJwYXJzZSIsInVuc3Vic2NyaWJlIiwiY3VycmVudFVzZXIiLCJzYXZlZExvY2FsZSIsImRpc3BsYXlOYW1lIiwiZW1haWwiLCJzcGxpdCIsInN1Z2dlc3Rpb25zIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVCYWNrQ2xpY2siLCJuYXZpZ2F0ZVRvRGFzaGJvYXJkIiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ2YWx1ZSIsImhhbmRsZUtleVByZXNzIiwia2V5IiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJwbGF5TWVzc2FnZUF1ZGlvIiwibWVzc2FnZUlkIiwiYXVkaW9VcmwiLCJwYXVzZSIsImN1cnJlbnRUaW1lIiwiYXVkaW8iLCJBdWRpbyIsInBsYXkiLCJjYXRjaCIsImUiLCJ0cmltIiwidXNlck1lc3NhZ2UiLCJwcmV2IiwidGl0bGUiLCJ1bmRlZmluZWQiLCJFcnJvciIsImF1ZGlvX3VybCIsImxlbmd0aCIsImhhbmRsZUVuZFNjZW5hcmlvIiwiaGFuZGxlU2F2ZUNvbnZlcnNhdGlvbiIsInNjZW5hcmlvVHlwZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsInNhdmVkQ29udmVyc2F0aW9ucyIsImlkIiwiRGF0ZSIsIm5vdyIsImRhdGUiLCJ0b0lTT1N0cmluZyIsInVzZXJOYW1lIiwibGFuZ3VhZ2UiLCJzZXRJdGVtIiwiaGFuZGxlRGlzY2FyZENvbnZlcnNhdGlvbiIsImhhbmRsZVN1Z2dlc3Rpb25DbGljayIsInN1Z2dlc3Rpb24iLCJ0b2dnbGVSZWNvcmRpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRTaXplIiwicmVmIiwiYnV0dG9uIiwib25DbGljayIsInBob3RvVVJMIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInAiLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJtYXAiLCJtZXNzYWdlIiwiaW5kZXgiLCJhcmlhLWxhYmVsIiwieG1sbnMiLCJzcGFuIiwiaW5wdXQiLCJ0eXBlIiwib25DaGFuZ2UiLCJvbktleVByZXNzIiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCIsImgzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/roleplay/page.tsx\n");
NewUI+Backend/NewUI/.next/server/app/roleplay/page.js:eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint, options = {}) {\n    try {\n        const res = await fetch(`${API_BASE_URL}${endpoint}`, {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(`/api/profile/${username}`);\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(`${API_BASE_URL}/api/scenario/set`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TEUsTUFBTTtZQUNORixPQUFPO1FBQ1Q7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9zZXJ2aWNlcy9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcblxudHlwZSBBUElSZXNwb25zZTxUPiA9IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBUEk8VD4oXG4gIGVuZHBvaW50OiBzdHJpbmcsIFxuICBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9XG4pOiBQcm9taXNlPEFQSVJlc3BvbnNlPFQ+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3IuZGV0YWlsIHx8ICdBbiBlcnJvciBvY2N1cnJlZCcgfTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6ICdOZXR3b3JrIGVycm9yJyB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kQ2hhdE1lc3NhZ2UoXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgc2NlbmFyaW8/OiBzdHJpbmcsXG4gIGFpUm9sZT86IHN0cmluZ1xuKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7cmVzcG9uc2U6IHN0cmluZywgYXVkaW9fdXJsOiBzdHJpbmd9PignL2FwaS9jaGF0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgYWlfcm9sZTogYWlSb2xlLFxuICAgIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKHVzZXJuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZldGNoQVBJPHtzdWdnZXN0aW9uczogc3RyaW5nW119PignL2FwaS9zdWdnZXN0aW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhbmd1YWdlTGVzc29ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7Y3JpdGlxdWU6IHN0cmluZywgbGVzc29uczogc3RyaW5nW119PignL2FwaS9sZXNzb24nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRTY2VuYXJpbyh1c2VybmFtZTogc3RyaW5nLCBzY2VuYXJpbzogc3RyaW5nLCBsYW5ndWFnZT86IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgY29uc29sZS5sb2coXCJDYWxsaW5nIHNldFNjZW5hcmlvIHdpdGg6XCIsIHsgdXNlcm5hbWUsIHNjZW5hcmlvLCBsYW5ndWFnZSwgZGVzY3JpcHRpb24gfSlcbiAgcmV0dXJuIGZldGNoQVBJPHtzY2VuYXJpbzogc3RyaW5nLCBhaV9yb2xlOiBzdHJpbmd9PignL2FwaS9zY2VuYXJpby9zZXQnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgIHVzZXJuYW1lLCBcbiAgICAgIHNjZW5hcmlvLFxuICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZSh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KGAvYXBpL3Byb2ZpbGUvJHt1c2VybmFtZX1gKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRTY2VuYXJpb3MoKSB7XG4gIHJldHVybiBmZXRjaEFQSTxhbnk+KCcvYXBpL3NjZW5hcmlvcycpO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tU2NlbmFyaW8gPSBhc3luYyAoXG4gIHVzZXJuYW1lOiBzdHJpbmcsIFxuICB0aXRsZTogc3RyaW5nLCBcbiAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgbGFuZ3VhZ2U/OiBzdHJpbmdcbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9hcGkvc2NlbmFyaW8vc2V0YCwgeyBcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHNjZW5hcmlvOiB0aXRsZSwgIFxuICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgXCJub25lXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IGRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY3VzdG9tIHNjZW5hcmlvJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBlcnJvcjogJ05ldHdvcmsgZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW4nLFxuICAgIH07XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJmZXRjaEFQSSIsImVuZHBvaW50Iiwib3B0aW9ucyIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiZXJyb3IiLCJqc29uIiwiZGF0YSIsImRldGFpbCIsImNvbnNvbGUiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJ1c2VybmFtZSIsIm1lc3NhZ2UiLCJzY2VuYXJpbyIsImFpUm9sZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWlfcm9sZSIsImdldFN1Z2dlc3Rpb25zIiwiZ2V0TGFuZ3VhZ2VMZXNzb25zIiwic2V0U2NlbmFyaW8iLCJsYW5ndWFnZSIsImRlc2NyaXB0aW9uIiwibG9nIiwiZ2V0VXNlclByb2ZpbGUiLCJnZXREZWZhdWx0U2NlbmFyaW9zIiwiY3JlYXRlQ3VzdG9tU2NlbmFyaW8iLCJ0aXRsZSIsInJlc3BvbnNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/services/api.ts\n");
NewUI+Backend/NewUI/.next/static/chunks/app/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_TypewriterEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TypewriterEffect */ \"(app-pages-browser)/./src/components/TypewriterEffect.tsx\");\n/* harmony import */ var _components_LanguageDropdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/LanguageDropdown */ \"(app-pages-browser)/./src/components/LanguageDropdown.tsx\");\n/* harmony import */ var _server_firebase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../server/firebase */ \"(app-pages-browser)/./server/firebase.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/services/api */ \"(app-pages-browser)/./src/services/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst MainPage = ()=>{\n    _s();\n    const [firstLineComplete, setFirstLineComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [userName, setUserName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [selectedLanguage, setSelectedLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('English');\n    const [isLoggedIn, setIsLoggedIn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [initializing, setInitializing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const languageIcons = {\n        'English': 'ðŸ‡ºðŸ‡¸',\n        'Chinese': 'ðŸ‡¨ðŸ‡³',\n        'Japanese': 'ðŸ‡¯ðŸ‡µ'\n    };\n    const localeMap = {\n        'English': 'en',\n        'Chinese': 'zh-CN',\n        'Japanese': 'ja'\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MainPage.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_7__.onAuthStateChanged)(_server_firebase__WEBPACK_IMPORTED_MODULE_6__.auth, {\n                \"MainPage.useEffect.unsubscribe\": async (user)=>{\n                    if (user) {\n                        var _user_email;\n                        setIsLoggedIn(true);\n                        // Use display name if available, otherwise use email\n                        const displayName = user.displayName || ((_user_email = user.email) === null || _user_email === void 0 ? void 0 : _user_email.split('@')[0]) || '';\n                        setUserName(displayName);\n                        try {\n                            // Fetch user profile from backend\n                            const { data, error } = await (0,_services_api__WEBPACK_IMPORTED_MODULE_8__.getUserProfile)(displayName);\n                            if (data && !error) {\n                                // Save user's language preference\n                                if (data.language) {\n                                    const savedLanguage = Object.keys(localeMap).find({\n                                        \"MainPage.useEffect.unsubscribe.savedLanguage\": (key)=>localeMap[key] === data.language\n                                    }[\"MainPage.useEffect.unsubscribe.savedLanguage\"]);\n                                    if (savedLanguage) {\n                                        setSelectedLanguage(savedLanguage);\n                                    }\n                                }\n                            }\n                        } catch (err) {\n                            console.error(\"Error fetching user profile:\", err);\n                        }\n                        // Store the user info\n                        localStorage.setItem('userName', displayName);\n                    } else {\n                        setIsLoggedIn(false);\n                        localStorage.removeItem('userName');\n                        localStorage.removeItem('userId');\n                    }\n                    setLoading(false);\n                }\n            }[\"MainPage.useEffect.unsubscribe\"]);\n            return ({\n                \"MainPage.useEffect\": ()=>unsubscribe()\n            })[\"MainPage.useEffect\"];\n        }\n    }[\"MainPage.useEffect\"], []);\n    const handleClick = async ()=>{\n        if (userName.trim()) {\n            setInitializing(true);\n            try {\n                // Store user preferences\n                localStorage.setItem('userName', userName);\n                localStorage.setItem('language', selectedLanguage);\n                localStorage.setItem('locale', localeMap[selectedLanguage]);\n                // Create the user profile on the backend if it doesn't exist\n                await (0,_services_api__WEBPACK_IMPORTED_MODULE_8__.setScenario)(userName, \"Default conversation\", selectedLanguage);\n                router.push('/choose');\n            } catch (error) {\n                console.error(\"Error initializing user:\", error);\n                alert(\"There was a problem connecting to the service. Please try again.\");\n            } finally{\n                setInitializing(false);\n            }\n        }\n    };\n    const navigateToLogin = ()=>{\n        router.push('/login');\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            style: {\n                backgroundImage: \"url('/icons/background1.jpg')\",\n                backgroundSize: \"cover\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#48d1cc]\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 106,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n            lineNumber: 102,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-black p-8\",\n        style: {\n            backgroundImage: \"url('/icons/background1.jpg')\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center mt-1\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 113,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-12 max-w-2xl mx-auto mb-8 bg-white rounded-xl shadow-lg overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-24 h-24 relative flex-shrink-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    src: \"/icons/chatbot.png\",\n                                    alt: \"Chatbot Icon\",\n                                    fill: true,\n                                    className: \"rounded-full\",\n                                    priority: true\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                    lineNumber: 120,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-xl font-bold text-gray-800\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_TypewriterEffect__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            text: isLoggedIn ? \"Welcome back, \".concat(userName, \"!\") : \"Hi there! It's me, Chatty! Nice to meet you!\",\n                                            delay: 30,\n                                            startTyping: true,\n                                            onComplete: ()=>setFirstLineComplete(true)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                            lineNumber: 124,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 123,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-2 text-l text-gray-600\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_TypewriterEffect__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            text: isLoggedIn ? \"Please choose the language to continue practicing.\" : \"Please enter your user name and choose the language before we start practicing together.\",\n                                            delay: 30,\n                                            startTyping: firstLineComplete\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                            lineNumber: 132,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 131,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                    lineNumber: 117,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 116,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-2xl mx-auto flex flex-col gap-6 mt-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl shadow-lg overflow-hidden p-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-4 mb-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 relative bg-green-100 rounded-full flex-shrink-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                    src: \"/icons/profile.png\",\n                                                    alt: \"Profile Icon\",\n                                                    fill: true,\n                                                    className: \"p-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                    lineNumber: 150,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 149,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"text-xl font-semibold text-black\",\n                                                children: \"Username\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                id: \"userName\",\n                                                value: userName,\n                                                onChange: (e)=>setUserName(e.target.value),\n                                                className: \"w-full px-6 py-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-lg text-black \".concat(isLoggedIn ? 'bg-gray-100' : ''),\n                                                required: true,\n                                                readOnly: isLoggedIn\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 156,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            userName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute top-0 left-0 bg-[#87cefa] text-white px-2 py-0.5 text-xs rounded-tl-lg rounded-br-lg\",\n                                                children: \"Profile Name\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 166,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            !isLoggedIn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 text-sm text-indigo-600\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                    href: \"/login\",\n                                                    className: \"hover:underline\",\n                                                    children: \"Login or Sign Up\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                    lineNumber: 172,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 171,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 155,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 147,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl shadow-lg overflow-hidden p-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-4 mb-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-10 h-10 relative bg-blue-100 rounded-full flex-shrink-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                    src: \"/icons/language.png\",\n                                                    alt: \"Language Icon\",\n                                                    fill: true,\n                                                    className: \"p-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                    lineNumber: 181,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 180,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"text-xl font-semibold text-black\",\n                                                children: \"Choose Language\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                                lineNumber: 183,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 179,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LanguageDropdown__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        value: selectedLanguage,\n                                        onChange: setSelectedLanguage,\n                                        languageIcons: languageIcons\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                lineNumber: 178,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                        lineNumber: 146,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-end mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleClick,\n                            disabled: !userName.trim() || initializing,\n                            className: \"transition-all duration-200 rounded-lg px-6 py-3 shadow-md flex items-center \".concat(userName.trim() && !initializing ? 'bg-[#48d1cc] text-white hover:bg-[#008080]' : 'bg-gray-200 text-gray-500 cursor-not-allowed'),\n                            children: initializing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 206,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium\",\n                                        children: \"Initializing...\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 207,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium mr-2\",\n                                        children: \"Continue\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 211,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-5 w-5\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        stroke: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M9 5l7 7-7 7\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                            lineNumber: 213,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                                        lineNumber: 212,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                            lineNumber: 195,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                        lineNumber: 194,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n                lineNumber: 145,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/page.tsx\",\n        lineNumber: 112,\n        columnNumber: 5\n    }, undefined);\n};\n_s(MainPage, \"H1kQk7qbv8/fAaXxCZVf8pXbLMQ=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = MainPage;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MainPage);\nvar _c;\n$RefreshReg$(_c, \"MainPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7c0NBR0xBLDZCQUNDOztrREFDRSw4REFBQzBEO3dDQUFLN0IsV0FBVTs7Ozs7O2tEQUNoQiw4REFBQzZCO3dDQUFLN0IsV0FBVTtrREFBYzs7Ozs7Ozs2REFHaEM7O2tEQUNFLDhEQUFDNkI7d0NBQUs3QixXQUFVO2tEQUFtQjs7Ozs7O2tEQUNuQyw4REFBQzhCO3dDQUFJQyxPQUFNO3dDQUE2Qi9CLFdBQVU7d0NBQVVNLE1BQUs7d0NBQU8wQixTQUFRO3dDQUFZQyxRQUFPO2tEQUNqRyw0RUFBQ0M7NENBQUtDLGVBQWM7NENBQVFDLGdCQUFlOzRDQUFRQyxhQUFhOzRDQUFHQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVN2RjtHQW5OTTlFOztRQU9XUCxzREFBU0E7OztLQVBwQk87QUFxTk4saUVBQWVBLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9hcHAvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCBUeXBld3JpdGVyRWZmZWN0IGZyb20gJy4uL2NvbXBvbmVudHMvVHlwZXdyaXRlckVmZmVjdCc7XG5pbXBvcnQgTGFuZ3VhZ2VEcm9wZG93biBmcm9tICcuLi9jb21wb25lbnRzL0xhbmd1YWdlRHJvcGRvd24nO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gJy4uLy4uL3NlcnZlci9maXJlYmFzZSc7XG5pbXBvcnQgeyBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcbmltcG9ydCB7IGdldFVzZXJQcm9maWxlLCBzZXRTY2VuYXJpbyB9IGZyb20gJ0Avc2VydmljZXMvYXBpJztcblxuY29uc3QgTWFpblBhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IFtmaXJzdExpbmVDb21wbGV0ZSwgc2V0Rmlyc3RMaW5lQ29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdXNlck5hbWUsIHNldFVzZXJOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlbGVjdGVkTGFuZ3VhZ2UsIHNldFNlbGVjdGVkTGFuZ3VhZ2VdID0gdXNlU3RhdGU8J0VuZ2xpc2gnIHwgJ0NoaW5lc2UnIHwgJ0phcGFuZXNlJz4oJ0VuZ2xpc2gnKTtcbiAgY29uc3QgW2lzTG9nZ2VkSW4sIHNldElzTG9nZ2VkSW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2luaXRpYWxpemluZywgc2V0SW5pdGlhbGl6aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgY29uc3QgbGFuZ3VhZ2VJY29uczogUmVjb3JkPCdFbmdsaXNoJyB8ICdDaGluZXNlJyB8ICdKYXBhbmVzZScsIHN0cmluZz4gPSB7XG4gICAgJ0VuZ2xpc2gnOiAn8J+HuvCfh7gnLFxuICAgICdDaGluZXNlJzogJ/Cfh6jwn4ezJyxcbiAgICAnSmFwYW5lc2UnOiAn8J+Hr/Cfh7UnXG4gIH07XG4gIFxuICBjb25zdCBsb2NhbGVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgJ0VuZ2xpc2gnOiAnZW4nLFxuICAgICdDaGluZXNlJzogJ3poLUNOJyxcbiAgICAnSmFwYW5lc2UnOiAnamEnXG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgc2V0SXNMb2dnZWRJbih0cnVlKTtcbiAgICAgICAgLy8gVXNlIGRpc3BsYXkgbmFtZSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgZW1haWxcbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lIHx8IHVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJyc7XG4gICAgICAgIHNldFVzZXJOYW1lKGRpc3BsYXlOYW1lKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmV0Y2ggdXNlciBwcm9maWxlIGZyb20gYmFja2VuZFxuICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGdldFVzZXJQcm9maWxlKGRpc3BsYXlOYW1lKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF0YSAmJiAhZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdXNlcidzIGxhbmd1YWdlIHByZWZlcmVuY2VcbiAgICAgICAgICAgIGlmIChkYXRhLmxhbmd1YWdlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNhdmVkTGFuZ3VhZ2UgPSBPYmplY3Qua2V5cyhsb2NhbGVNYXApLmZpbmQoXG4gICAgICAgICAgICAgICAga2V5ID0+IGxvY2FsZU1hcFtrZXldID09PSBkYXRhLmxhbmd1YWdlXG4gICAgICAgICAgICAgICkgYXMgJ0VuZ2xpc2gnIHwgJ0NoaW5lc2UnIHwgJ0phcGFuZXNlJztcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChzYXZlZExhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRMYW5ndWFnZShzYXZlZExhbmd1YWdlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHVzZXIgcHJvZmlsZTpcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgdGhlIHVzZXIgaW5mb1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlck5hbWUnLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRJc0xvZ2dlZEluKGZhbHNlKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJOYW1lJyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTtcbiAgICAgIH1cbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHVzZXJOYW1lLnRyaW0oKSkge1xuICAgICAgc2V0SW5pdGlhbGl6aW5nKHRydWUpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBTdG9yZSB1c2VyIHByZWZlcmVuY2VzXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyTmFtZScsIHVzZXJOYW1lKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhbmd1YWdlJywgc2VsZWN0ZWRMYW5ndWFnZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2NhbGUnLCBsb2NhbGVNYXBbc2VsZWN0ZWRMYW5ndWFnZV0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSB1c2VyIHByb2ZpbGUgb24gdGhlIGJhY2tlbmQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBhd2FpdCBzZXRTY2VuYXJpbyh1c2VyTmFtZSwgXCJEZWZhdWx0IGNvbnZlcnNhdGlvblwiLCBzZWxlY3RlZExhbmd1YWdlKTtcbiAgXG4gICAgICAgIHJvdXRlci5wdXNoKCcvY2hvb3NlJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHVzZXI6XCIsIGVycm9yKTtcbiAgICAgICAgYWxlcnQoXCJUaGVyZSB3YXMgYSBwcm9ibGVtIGNvbm5lY3RpbmcgdG8gdGhlIHNlcnZpY2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SW5pdGlhbGl6aW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbmF2aWdhdGVUb0xvZ2luID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTtcbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiBcbiAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBcInVybCgnL2ljb25zL2JhY2tncm91bmQxLmpwZycpXCIsIGJhY2tncm91bmRTaXplOiBcImNvdmVyXCIgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLVsjNDhkMWNjXVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctYmxhY2sgcC04XCIgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBcInVybCgnL2ljb25zL2JhY2tncm91bmQxLmpwZycpXCIgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgbXQtMVwiPlxuICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMiBtYXgtdy0yeGwgbXgtYXV0byBtYi04IGJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LWxnIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtOFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjQgaC0yNCByZWxhdGl2ZSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxJbWFnZSBzcmM9XCIvaWNvbnMvY2hhdGJvdC5wbmdcIiBhbHQ9XCJDaGF0Ym90IEljb25cIiBmaWxsIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbFwiIHByaW9yaXR5IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICAgIDxUeXBld3JpdGVyRWZmZWN0IFxuICAgICAgICAgICAgICAgICAgdGV4dD17aXNMb2dnZWRJbiA/IGBXZWxjb21lIGJhY2ssICR7dXNlck5hbWV9IWAgOiBcIkhpIHRoZXJlISBJdCdzIG1lLCBDaGF0dHkhIE5pY2UgdG8gbWVldCB5b3UhXCJ9IFxuICAgICAgICAgICAgICAgICAgZGVsYXk9ezMwfVxuICAgICAgICAgICAgICAgICAgc3RhcnRUeXBpbmc9e3RydWV9XG4gICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlPXsoKSA9PiBzZXRGaXJzdExpbmVDb21wbGV0ZSh0cnVlKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtbCB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgPFR5cGV3cml0ZXJFZmZlY3QgXG4gICAgICAgICAgICAgICAgICB0ZXh0PXtpc0xvZ2dlZEluIFxuICAgICAgICAgICAgICAgICAgICA/IFwiUGxlYXNlIGNob29zZSB0aGUgbGFuZ3VhZ2UgdG8gY29udGludWUgcHJhY3RpY2luZy5cIiBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlBsZWFzZSBlbnRlciB5b3VyIHVzZXIgbmFtZSBhbmQgY2hvb3NlIHRoZSBsYW5ndWFnZSBiZWZvcmUgd2Ugc3RhcnQgcHJhY3RpY2luZyB0b2dldGhlci5cIn1cbiAgICAgICAgICAgICAgICAgIGRlbGF5PXszMH1cbiAgICAgICAgICAgICAgICAgIHN0YXJ0VHlwaW5nPXtmaXJzdExpbmVDb21wbGV0ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0byBmbGV4IGZsZXgtY29sIGdhcC02IG10LTEwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctbGcgb3ZlcmZsb3ctaGlkZGVuIHAtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQgbWItNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByZWxhdGl2ZSBiZy1ncmVlbi0xMDAgcm91bmRlZC1mdWxsIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVwiL2ljb25zL3Byb2ZpbGUucG5nXCIgYWx0PVwiUHJvZmlsZSBJY29uXCIgZmlsbCBjbGFzc05hbWU9XCJwLTJcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWJsYWNrXCI+VXNlcm5hbWU8L2gyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGlkPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VyTmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFVzZXJOYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcHgtNiBweS00IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctZ3JlZW4tNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudCB0ZXh0LWxnIHRleHQtYmxhY2sgJHtpc0xvZ2dlZEluID8gJ2JnLWdyYXktMTAwJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICByZWFkT25seT17aXNMb2dnZWRJbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge3VzZXJOYW1lICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGxlZnQtMCBiZy1bIzg3Y2VmYV0gdGV4dC13aGl0ZSBweC0yIHB5LTAuNSB0ZXh0LXhzIHJvdW5kZWQtdGwtbGcgcm91bmRlZC1ici1sZ1wiPlxuICAgICAgICAgICAgICAgICAgUHJvZmlsZSBOYW1lXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHshaXNMb2dnZWRJbiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1pbmRpZ28tNjAwXCI+XG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiL2xvZ2luXCIgY2xhc3NOYW1lPVwiaG92ZXI6dW5kZXJsaW5lXCI+TG9naW4gb3IgU2lnbiBVcDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctbGcgb3ZlcmZsb3ctaGlkZGVuIHAtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQgbWItNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByZWxhdGl2ZSBiZy1ibHVlLTEwMCByb3VuZGVkLWZ1bGwgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgIDxJbWFnZSBzcmM9XCIvaWNvbnMvbGFuZ3VhZ2UucG5nXCIgYWx0PVwiTGFuZ3VhZ2UgSWNvblwiIGZpbGwgY2xhc3NOYW1lPVwicC0yXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ibGFja1wiPkNob29zZSBMYW5ndWFnZTwvaDI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPExhbmd1YWdlRHJvcGRvd24gXG4gICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZExhbmd1YWdlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17c2V0U2VsZWN0ZWRMYW5ndWFnZX1cbiAgICAgICAgICAgICAgbGFuZ3VhZ2VJY29ucz17bGFuZ3VhZ2VJY29uc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kIG10LTRcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICAgICAgICBkaXNhYmxlZD17IXVzZXJOYW1lLnRyaW0oKSB8fCBpbml0aWFsaXppbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2B0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgcm91bmRlZC1sZyBweC02IHB5LTMgc2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyICR7XG4gICAgICAgICAgICAgIHVzZXJOYW1lLnRyaW0oKSAmJiAhaW5pdGlhbGl6aW5nXG4gICAgICAgICAgICAgICAgPyAnYmctWyM0OGQxY2NdIHRleHQtd2hpdGUgaG92ZXI6YmctWyMwMDgwODBdJyBcbiAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNTAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpbml0aWFsaXppbmcgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIG1yLTIgaC01IHctNSBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLXdoaXRlIHJvdW5kZWQtZnVsbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkluaXRpYWxpemluZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1yLTJcIj5Db250aW51ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTUgdy01XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSA1bDcgNy03IDdcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1haW5QYWdlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiSW1hZ2UiLCJ1c2VSb3V0ZXIiLCJUeXBld3JpdGVyRWZmZWN0IiwiTGFuZ3VhZ2VEcm9wZG93biIsImF1dGgiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJnZXRVc2VyUHJvZmlsZSIsInNldFNjZW5hcmlvIiwiTWFpblBhZ2UiLCJmaXJzdExpbmVDb21wbGV0ZSIsInNldEZpcnN0TGluZUNvbXBsZXRlIiwidXNlck5hbWUiLCJzZXRVc2VyTmFtZSIsInNlbGVjdGVkTGFuZ3VhZ2UiLCJzZXRTZWxlY3RlZExhbmd1YWdlIiwiaXNMb2dnZWRJbiIsInNldElzTG9nZ2VkSW4iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImluaXRpYWxpemluZyIsInNldEluaXRpYWxpemluZyIsInJvdXRlciIsImxhbmd1YWdlSWNvbnMiLCJsb2NhbGVNYXAiLCJ1bnN1YnNjcmliZSIsInVzZXIiLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwic3BsaXQiLCJkYXRhIiwiZXJyb3IiLCJsYW5ndWFnZSIsInNhdmVkTGFuZ3VhZ2UiLCJPYmplY3QiLCJrZXlzIiwiZmluZCIsImtleSIsImVyciIsImNvbnNvbGUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImhhbmRsZUNsaWNrIiwidHJpbSIsInB1c2giLCJhbGVydCIsIm5hdmlnYXRlVG9Mb2dpbiIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFNpemUiLCJzcmMiLCJhbHQiLCJmaWxsIiwicHJpb3JpdHkiLCJoMSIsInRleHQiLCJkZWxheSIsInN0YXJ0VHlwaW5nIiwib25Db21wbGV0ZSIsInAiLCJoMiIsImlucHV0IiwidHlwZSIsImlkIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJyZXF1aXJlZCIsInJlYWRPbmx5IiwiYSIsImhyZWYiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzcGFuIiwic3ZnIiwieG1sbnMiLCJ2aWV3Qm94Iiwic3Ryb2tlIiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    try {\n        const res = await fetch(\"\".concat(API_BASE_URL).concat(endpoint), {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(\"/api/profile/\".concat(username));\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/api/scenario/set\"), {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9hcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0FBT3hELGVBQWVDLFNBQ2JDLFFBQWdCO1FBQ2hCQyxVQUFBQSxpRUFBdUIsQ0FBQztJQUV4QixJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNQyxNQUFNLEdBQWtCSCxPQUFmTCxjQUF3QixPQUFUSyxXQUFZO1lBQ3BELEdBQUdDLE9BQU87WUFDVkcsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLEdBQUdILFFBQVFHLE9BQU87WUFDcEI7UUFDRjtRQUVBLElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFO1lBQ1gsTUFBTUMsUUFBUSxNQUFNSixJQUFJSyxJQUFJO1lBQzVCLE9BQU87Z0JBQUVDLE1BQU07Z0JBQU1GLE9BQU9BLE1BQU1HLE1BQU0sSUFBSTtZQUFvQjtRQUNsRTtRQUVBLE1BQU1ELE9BQU8sTUFBTU4sSUFBSUssSUFBSTtRQUMzQixPQUFPO1lBQUVDO1lBQU1GLE9BQU87UUFBSztJQUM3QixFQUFFLE9BQU9BLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE9BQU87WUFBRUUsTUFBTTtZQUFNRixPQUFPO1FBQWdCO0lBQzlDO0FBQ0Y7QUFFTyxlQUFlSyxnQkFDcEJDLFFBQWdCLEVBQ2hCQyxPQUFlLEVBQ2ZDLFFBQWlCLEVBQ2pCQyxNQUFlO0lBRWYsT0FBT2hCLFNBQWdELGFBQWE7UUFDbEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUNuQlA7WUFDQUM7WUFDQUM7WUFDQU0sU0FBU0w7UUFDWDtJQUNGO0FBQ0Y7QUFFTyxlQUFlTSxlQUFlVCxRQUFnQjtJQUNuRCxPQUFPYixTQUFrQyxvQkFBb0I7UUFDM0RpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVSxtQkFBbUJWLFFBQWdCO0lBQ3ZELE9BQU9iLFNBQWdELGVBQWU7UUFDcEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVyxZQUFZWCxRQUFnQixFQUFFRSxRQUFnQixFQUFFVSxRQUFpQixFQUFFQyxXQUFvQjtJQUMzR2YsUUFBUWdCLEdBQUcsQ0FBQyw2QkFBNkI7UUFBRWQ7UUFBVUU7UUFBVVU7UUFBVUM7SUFBWTtJQUNyRixPQUFPMUIsU0FBOEMscUJBQXFCO1FBQ3hFaUIsUUFBUTtRQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7WUFDbkJQO1lBQ0FFO1lBQ0FVLFVBQVVBLFlBQVk7WUFDdEJDO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sZUFBZUUsZUFBZWYsUUFBZ0I7SUFDbkQsT0FBT2IsU0FBYyxnQkFBeUIsT0FBVGE7QUFDdkM7QUFFTyxlQUFlZ0I7SUFDcEIsT0FBTzdCLFNBQWM7QUFDdkI7QUFFTyxNQUFNOEIsdUJBQXVCLE9BQ2xDakIsVUFDQWtCLE9BQ0FMLGFBQ0FEO0lBRUEsSUFBSTtRQUNGLE1BQU1PLFdBQVcsTUFBTTVCLE1BQU0sR0FBZ0IsT0FBYlIsY0FBYSxzQkFBb0I7WUFDL0RxQixRQUFRO1lBQ1JaLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FhLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJQO2dCQUNBRSxVQUFVZ0I7Z0JBQ1ZOLFVBQVVBLFlBQVk7Z0JBQ3RCQztZQUNGO1FBQ0Y7UUFFQSxNQUFNakIsT0FBTyxNQUFNdUIsU0FBU3hCLElBQUk7UUFFaEMsSUFBSSxDQUFDd0IsU0FBUzFCLEVBQUUsRUFBRTtZQUNoQixPQUFPO2dCQUNMRyxNQUFNO2dCQUNORixPQUFPRSxLQUFLRixLQUFLLElBQUk7WUFDdkI7UUFDRjtRQUVBLE9BQU87WUFDTEU7WUFDQUYsT0FBTztRQUNUO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RJLFFBQVFKLEtBQUssQ0FBQyxjQUFjQTtRQUM1QixPQUFPO1lBQ0xFLE1BQU07WUFDTkYsT0FBTztRQUNUO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvc2VydmljZXMvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5cbnR5cGUgQVBJUmVzcG9uc2U8VD4gPSB7XG4gIGRhdGE6IFQgfCBudWxsO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQVBJPFQ+KFxuICBlbmRwb2ludDogc3RyaW5nLCBcbiAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuKTogUHJvbWlzZTxBUElSZXNwb25zZTxUPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLmRldGFpbCB8fCAnQW4gZXJyb3Igb2NjdXJyZWQnIH07XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTmV0d29yayBlcnJvcicgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENoYXRNZXNzYWdlKFxuICB1c2VybmFtZTogc3RyaW5nLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIHNjZW5hcmlvPzogc3RyaW5nLFxuICBhaVJvbGU/OiBzdHJpbmdcbikge1xuICByZXR1cm4gZmV0Y2hBUEk8e3Jlc3BvbnNlOiBzdHJpbmcsIGF1ZGlvX3VybDogc3RyaW5nfT4oJy9hcGkvY2hhdCcsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGFpX3JvbGU6IGFpUm9sZSxcbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdWdnZXN0aW9ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7c3VnZ2VzdGlvbnM6IHN0cmluZ1tdfT4oJy9hcGkvc3VnZ2VzdGlvbnMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYW5ndWFnZUxlc3NvbnModXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8e2NyaXRpcXVlOiBzdHJpbmcsIGxlc3NvbnM6IHN0cmluZ1tdfT4oJy9hcGkvbGVzc29uJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0U2NlbmFyaW8odXNlcm5hbWU6IHN0cmluZywgc2NlbmFyaW86IHN0cmluZywgbGFuZ3VhZ2U/OiBzdHJpbmcsIGRlc2NyaXB0aW9uPzogc3RyaW5nKSB7XG4gIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBzZXRTY2VuYXJpbyB3aXRoOlwiLCB7IHVzZXJuYW1lLCBzY2VuYXJpbywgbGFuZ3VhZ2UsIGRlc2NyaXB0aW9uIH0pXG4gIHJldHVybiBmZXRjaEFQSTx7c2NlbmFyaW86IHN0cmluZywgYWlfcm9sZTogc3RyaW5nfT4oJy9hcGkvc2NlbmFyaW8vc2V0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICB1c2VybmFtZSwgXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSB8fCBcIm5vbmVcIixcbiAgICAgIGRlc2NyaXB0aW9uXG4gICAgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGUodXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PihgL2FwaS9wcm9maWxlLyR7dXNlcm5hbWV9YCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREZWZhdWx0U2NlbmFyaW9zKCkge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PignL2FwaS9zY2VuYXJpb3MnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbVNjZW5hcmlvID0gYXN5bmMgKFxuICB1c2VybmFtZTogc3RyaW5nLCBcbiAgdGl0bGU6IHN0cmluZywgXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGxhbmd1YWdlPzogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3NjZW5hcmlvL3NldGAsIHsgXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBzY2VuYXJpbzogdGl0bGUsICBcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGN1c3RvbSBzY2VuYXJpbycsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluJyxcbiAgICB9O1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZmV0Y2hBUEkiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yIiwianNvbiIsImRhdGEiLCJkZXRhaWwiLCJjb25zb2xlIiwic2VuZENoYXRNZXNzYWdlIiwidXNlcm5hbWUiLCJtZXNzYWdlIiwic2NlbmFyaW8iLCJhaVJvbGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFpX3JvbGUiLCJnZXRTdWdnZXN0aW9ucyIsImdldExhbmd1YWdlTGVzc29ucyIsInNldFNjZW5hcmlvIiwibGFuZ3VhZ2UiLCJkZXNjcmlwdGlvbiIsImxvZyIsImdldFVzZXJQcm9maWxlIiwiZ2V0RGVmYXVsdFNjZW5hcmlvcyIsImNyZWF0ZUN1c3RvbVNjZW5hcmlvIiwidGl0bGUiLCJyZXNwb25zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/api.ts\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/choose/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    try {\n        const res = await fetch(\"\".concat(API_BASE_URL).concat(endpoint), {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(\"/api/profile/\".concat(username));\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/api/scenario/set\"), {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9hcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0FBT3hELGVBQWVDLFNBQ2JDLFFBQWdCO1FBQ2hCQyxVQUFBQSxpRUFBdUIsQ0FBQztJQUV4QixJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNQyxNQUFNLEdBQWtCSCxPQUFmTCxjQUF3QixPQUFUSyxXQUFZO1lBQ3BELEdBQUdDLE9BQU87WUFDVkcsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLEdBQUdILFFBQVFHLE9BQU87WUFDcEI7UUFDRjtRQUVBLElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFO1lBQ1gsTUFBTUMsUUFBUSxNQUFNSixJQUFJSyxJQUFJO1lBQzVCLE9BQU87Z0JBQUVDLE1BQU07Z0JBQU1GLE9BQU9BLE1BQU1HLE1BQU0sSUFBSTtZQUFvQjtRQUNsRTtRQUVBLE1BQU1ELE9BQU8sTUFBTU4sSUFBSUssSUFBSTtRQUMzQixPQUFPO1lBQUVDO1lBQU1GLE9BQU87UUFBSztJQUM3QixFQUFFLE9BQU9BLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE9BQU87WUFBRUUsTUFBTTtZQUFNRixPQUFPO1FBQWdCO0lBQzlDO0FBQ0Y7QUFFTyxlQUFlSyxnQkFDcEJDLFFBQWdCLEVBQ2hCQyxPQUFlLEVBQ2ZDLFFBQWlCLEVBQ2pCQyxNQUFlO0lBRWYsT0FBT2hCLFNBQWdELGFBQWE7UUFDbEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUNuQlA7WUFDQUM7WUFDQUM7WUFDQU0sU0FBU0w7UUFDWDtJQUNGO0FBQ0Y7QUFFTyxlQUFlTSxlQUFlVCxRQUFnQjtJQUNuRCxPQUFPYixTQUFrQyxvQkFBb0I7UUFDM0RpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVSxtQkFBbUJWLFFBQWdCO0lBQ3ZELE9BQU9iLFNBQWdELGVBQWU7UUFDcEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVyxZQUFZWCxRQUFnQixFQUFFRSxRQUFnQixFQUFFVSxRQUFpQixFQUFFQyxXQUFvQjtJQUMzR2YsUUFBUWdCLEdBQUcsQ0FBQyw2QkFBNkI7UUFBRWQ7UUFBVUU7UUFBVVU7UUFBVUM7SUFBWTtJQUNyRixPQUFPMUIsU0FBOEMscUJBQXFCO1FBQ3hFaUIsUUFBUTtRQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7WUFDbkJQO1lBQ0FFO1lBQ0FVLFVBQVVBLFlBQVk7WUFDdEJDO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sZUFBZUUsZUFBZWYsUUFBZ0I7SUFDbkQsT0FBT2IsU0FBYyxnQkFBeUIsT0FBVGE7QUFDdkM7QUFFTyxlQUFlZ0I7SUFDcEIsT0FBTzdCLFNBQWM7QUFDdkI7QUFFTyxNQUFNOEIsdUJBQXVCLE9BQ2xDakIsVUFDQWtCLE9BQ0FMLGFBQ0FEO0lBRUEsSUFBSTtRQUNGLE1BQU1PLFdBQVcsTUFBTTVCLE1BQU0sR0FBZ0IsT0FBYlIsY0FBYSxzQkFBb0I7WUFDL0RxQixRQUFRO1lBQ1JaLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FhLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJQO2dCQUNBRSxVQUFVZ0I7Z0JBQ1ZOLFVBQVVBLFlBQVk7Z0JBQ3RCQztZQUNGO1FBQ0Y7UUFFQSxNQUFNakIsT0FBTyxNQUFNdUIsU0FBU3hCLElBQUk7UUFFaEMsSUFBSSxDQUFDd0IsU0FBUzFCLEVBQUUsRUFBRTtZQUNoQixPQUFPO2dCQUNMRyxNQUFNO2dCQUNORixPQUFPRSxLQUFLRixLQUFLLElBQUk7WUFDdkI7UUFDRjtRQUVBLE9BQU87WUFDTEU7WUFDQUYsT0FBTztRQUNUO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RJLFFBQVFKLEtBQUssQ0FBQyxjQUFjQTtRQUM1QixPQUFPO1lBQ0xFLE1BQU07WUFDTkYsT0FBTztRQUNUO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvc2VydmljZXMvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5cbnR5cGUgQVBJUmVzcG9uc2U8VD4gPSB7XG4gIGRhdGE6IFQgfCBudWxsO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQVBJPFQ+KFxuICBlbmRwb2ludDogc3RyaW5nLCBcbiAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuKTogUHJvbWlzZTxBUElSZXNwb25zZTxUPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLmRldGFpbCB8fCAnQW4gZXJyb3Igb2NjdXJyZWQnIH07XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTmV0d29yayBlcnJvcicgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENoYXRNZXNzYWdlKFxuICB1c2VybmFtZTogc3RyaW5nLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIHNjZW5hcmlvPzogc3RyaW5nLFxuICBhaVJvbGU/OiBzdHJpbmdcbikge1xuICByZXR1cm4gZmV0Y2hBUEk8e3Jlc3BvbnNlOiBzdHJpbmcsIGF1ZGlvX3VybDogc3RyaW5nfT4oJy9hcGkvY2hhdCcsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGFpX3JvbGU6IGFpUm9sZSxcbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdWdnZXN0aW9ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7c3VnZ2VzdGlvbnM6IHN0cmluZ1tdfT4oJy9hcGkvc3VnZ2VzdGlvbnMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYW5ndWFnZUxlc3NvbnModXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8e2NyaXRpcXVlOiBzdHJpbmcsIGxlc3NvbnM6IHN0cmluZ1tdfT4oJy9hcGkvbGVzc29uJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0U2NlbmFyaW8odXNlcm5hbWU6IHN0cmluZywgc2NlbmFyaW86IHN0cmluZywgbGFuZ3VhZ2U/OiBzdHJpbmcsIGRlc2NyaXB0aW9uPzogc3RyaW5nKSB7XG4gIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBzZXRTY2VuYXJpbyB3aXRoOlwiLCB7IHVzZXJuYW1lLCBzY2VuYXJpbywgbGFuZ3VhZ2UsIGRlc2NyaXB0aW9uIH0pXG4gIHJldHVybiBmZXRjaEFQSTx7c2NlbmFyaW86IHN0cmluZywgYWlfcm9sZTogc3RyaW5nfT4oJy9hcGkvc2NlbmFyaW8vc2V0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICB1c2VybmFtZSwgXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSB8fCBcIm5vbmVcIixcbiAgICAgIGRlc2NyaXB0aW9uXG4gICAgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGUodXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PihgL2FwaS9wcm9maWxlLyR7dXNlcm5hbWV9YCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREZWZhdWx0U2NlbmFyaW9zKCkge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PignL2FwaS9zY2VuYXJpb3MnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbVNjZW5hcmlvID0gYXN5bmMgKFxuICB1c2VybmFtZTogc3RyaW5nLCBcbiAgdGl0bGU6IHN0cmluZywgXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGxhbmd1YWdlPzogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3NjZW5hcmlvL3NldGAsIHsgXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBzY2VuYXJpbzogdGl0bGUsICBcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGN1c3RvbSBzY2VuYXJpbycsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluJyxcbiAgICB9O1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZmV0Y2hBUEkiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yIiwianNvbiIsImRhdGEiLCJkZXRhaWwiLCJjb25zb2xlIiwic2VuZENoYXRNZXNzYWdlIiwidXNlcm5hbWUiLCJtZXNzYWdlIiwic2NlbmFyaW8iLCJhaVJvbGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFpX3JvbGUiLCJnZXRTdWdnZXN0aW9ucyIsImdldExhbmd1YWdlTGVzc29ucyIsInNldFNjZW5hcmlvIiwibGFuZ3VhZ2UiLCJkZXNjcmlwdGlvbiIsImxvZyIsImdldFVzZXJQcm9maWxlIiwiZ2V0RGVmYXVsdFNjZW5hcmlvcyIsImNyZWF0ZUN1c3RvbVNjZW5hcmlvIiwidGl0bGUiLCJyZXNwb25zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/api.ts\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/scenario/layout.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScenarioProvider: () => (/* binding */ ScenarioProvider),\n/* harmony export */   useScenarios: () => (/* binding */ useScenarios)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ ScenarioProvider,useScenarios auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\nconst ScenarioContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction ScenarioProvider(param) {\n    let { children } = param;\n    _s();\n    const [scenarios, setScenarios] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"ScenarioProvider.useState\": ()=>{\n            if (true) {\n                const savedScenarios = localStorage.getItem('userScenarios');\n                return savedScenarios ? JSON.parse(savedScenarios) : [];\n            }\n            return [];\n        }\n    }[\"ScenarioProvider.useState\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ScenarioProvider.useEffect\": ()=>{\n            if (scenarios.length > 0) {\n                localStorage.setItem('userScenarios', JSON.stringify(scenarios));\n            }\n        }\n    }[\"ScenarioProvider.useEffect\"], [\n        scenarios\n    ]);\n    const addScenario = (title)=>{\n        const newScenario = {\n            id: Date.now().toString(),\n            title\n        };\n        const updatedScenarios = [\n            ...scenarios,\n            newScenario\n        ];\n        setScenarios(updatedScenarios);\n        localStorage.setItem('userScenarios', JSON.stringify(updatedScenarios));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScenarioContext.Provider, {\n        value: {\n            scenarios,\n            addScenario\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/context/scenarioContext.tsx\",\n        lineNumber: 42,\n        columnNumber: 5\n    }, this);\n}\n_s(ScenarioProvider, \"dHxpIEKZJfmReNlTSUnZMUFKKK8=\");\n_c = ScenarioProvider;\nfunction useScenarios() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ScenarioContext);\n    if (context === undefined) {\n        throw new Error('useScenarios must be used within a ScenarioProvider');\n    }\n    return context;\n}\n_s1(useScenarios, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"ScenarioProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb250ZXh0L3NjZW5hcmlvQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUM4RTtBQVk5RSxNQUFNSyxnQ0FBa0JKLG9EQUFhQSxDQUFrQ0s7QUFFaEUsU0FBU0MsaUJBQWlCLEtBQTJDO1FBQTNDLEVBQUVDLFFBQVEsRUFBaUMsR0FBM0M7O0lBQy9CLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHUCwrQ0FBUUE7cUNBQWE7WUFDckQsSUFBSSxJQUE2QixFQUFFO2dCQUNqQyxNQUFNUSxpQkFBaUJDLGFBQWFDLE9BQU8sQ0FBQztnQkFDNUMsT0FBT0YsaUJBQWlCRyxLQUFLQyxLQUFLLENBQUNKLGtCQUFrQixFQUFFO1lBQ3pEO1lBQ0EsT0FBTyxFQUFFO1FBQ1g7O0lBRUFQLGdEQUFTQTtzQ0FBQztZQUNSLElBQUlLLFVBQVVPLE1BQU0sR0FBRyxHQUFHO2dCQUN4QkosYUFBYUssT0FBTyxDQUFDLGlCQUFpQkgsS0FBS0ksU0FBUyxDQUFDVDtZQUN2RDtRQUNGO3FDQUFHO1FBQUNBO0tBQVU7SUFFZCxNQUFNVSxjQUFjLENBQUNDO1FBQ25CLE1BQU1DLGNBQWM7WUFDbEJDLElBQUlDLEtBQUtDLEdBQUcsR0FBR0MsUUFBUTtZQUN2Qkw7UUFDRjtRQUNBLE1BQU1NLG1CQUFtQjtlQUFJakI7WUFBV1k7U0FBWTtRQUNwRFgsYUFBYWdCO1FBQ2JkLGFBQWFLLE9BQU8sQ0FBQyxpQkFBaUJILEtBQUtJLFNBQVMsQ0FBQ1E7SUFDdkQ7SUFFQSxxQkFDRSw4REFBQ3JCLGdCQUFnQnNCLFFBQVE7UUFBQ0MsT0FBTztZQUFFbkI7WUFBV1U7UUFBWTtrQkFDdkRYOzs7Ozs7QUFHUDtHQTlCZ0JEO0tBQUFBO0FBZ0NULFNBQVNzQjs7SUFDZCxNQUFNQyxVQUFVNUIsaURBQVVBLENBQUNHO0lBQzNCLElBQUl5QixZQUFZeEIsV0FBVztRQUN6QixNQUFNLElBQUl5QixNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVDtJQU5nQkQiLCJzb3VyY2VzIjpbIi9ob21lL2h5YW5nL0NTMjM5X25ldy9OZXdVSStCYWNrZW5kL05ld1VJL3NyYy9jb250ZXh0L3NjZW5hcmlvQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG50eXBlIFNjZW5hcmlvID0ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xufTtcblxudHlwZSBTY2VuYXJpb0NvbnRleHRUeXBlID0ge1xuICBzY2VuYXJpb3M6IFNjZW5hcmlvW107XG4gIGFkZFNjZW5hcmlvOiAodGl0bGU6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmNvbnN0IFNjZW5hcmlvQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8U2NlbmFyaW9Db250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNjZW5hcmlvUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICBjb25zdCBbc2NlbmFyaW9zLCBzZXRTY2VuYXJpb3NdID0gdXNlU3RhdGU8U2NlbmFyaW9bXT4oKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc2F2ZWRTY2VuYXJpb3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclNjZW5hcmlvcycpO1xuICAgICAgcmV0dXJuIHNhdmVkU2NlbmFyaW9zID8gSlNPTi5wYXJzZShzYXZlZFNjZW5hcmlvcykgOiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY2VuYXJpb3MubGVuZ3RoID4gMCkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJTY2VuYXJpb3MnLCBKU09OLnN0cmluZ2lmeShzY2VuYXJpb3MpKTtcbiAgICB9XG4gIH0sIFtzY2VuYXJpb3NdKTtcblxuICBjb25zdCBhZGRTY2VuYXJpbyA9ICh0aXRsZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbmV3U2NlbmFyaW8gPSB7IFxuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSwgXG4gICAgICB0aXRsZSBcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZWRTY2VuYXJpb3MgPSBbLi4uc2NlbmFyaW9zLCBuZXdTY2VuYXJpb107XG4gICAgc2V0U2NlbmFyaW9zKHVwZGF0ZWRTY2VuYXJpb3MpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyU2NlbmFyaW9zJywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZFNjZW5hcmlvcykpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFNjZW5hcmlvQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBzY2VuYXJpb3MsIGFkZFNjZW5hcmlvIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU2NlbmFyaW9Db250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlU2NlbmFyaW9zKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChTY2VuYXJpb0NvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VTY2VuYXJpb3MgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFNjZW5hcmlvUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiU2NlbmFyaW9Db250ZXh0IiwidW5kZWZpbmVkIiwiU2NlbmFyaW9Qcm92aWRlciIsImNoaWxkcmVuIiwic2NlbmFyaW9zIiwic2V0U2NlbmFyaW9zIiwic2F2ZWRTY2VuYXJpb3MiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwibGVuZ3RoIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImFkZFNjZW5hcmlvIiwidGl0bGUiLCJuZXdTY2VuYXJpbyIsImlkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwidXBkYXRlZFNjZW5hcmlvcyIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VTY2VuYXJpb3MiLCJjb250ZXh0IiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/context/scenarioContext.tsx\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/scenario/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _server_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../server/firebase */ \"(app-pages-browser)/./server/firebase.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/api */ \"(app-pages-browser)/./src/services/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nconst ScenarioPage = ()=>{\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showProfileMenu, setShowProfileMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [scenarios, setScenarios] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [userLanguage, setUserLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('en');\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const profileMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    // Predefined scenarios\n    const defaultScenarios = [\n        {\n            id: 'restaurant',\n            title: 'Restaurant Order',\n            description: 'Practice ordering food at a restaurant',\n            created_at: new Date().toISOString(),\n            custom: false\n        },\n        {\n            id: 'job_interview',\n            title: 'Job Interview',\n            description: 'Practice for a job interview',\n            created_at: new Date().toISOString(),\n            custom: false\n        }\n    ];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ScenarioPage.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_5__.onAuthStateChanged)(_server_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, {\n                \"ScenarioPage.useEffect.unsubscribe\": async (currentUser)=>{\n                    setUser(currentUser);\n                    const savedLocale = localStorage.getItem('locale') || 'en';\n                    setUserLanguage(savedLocale);\n                    setScenarios(defaultScenarios);\n                    if (currentUser) {\n                        try {\n                            var _currentUser_email;\n                            const username = currentUser.displayName || ((_currentUser_email = currentUser.email) === null || _currentUser_email === void 0 ? void 0 : _currentUser_email.split('@')[0]) || 'Guest';\n                            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.getUserProfile)(username);\n                            if (response && response.data && !response.error) {\n                                // If user has custom scenarios, add them to the list\n                                if (response.data.custom_scenarios && Array.isArray(response.data.custom_scenarios)) {\n                                    const customScenarios = response.data.custom_scenarios.map({\n                                        \"ScenarioPage.useEffect.unsubscribe.customScenarios\": (scenario, index)=>({\n                                                id: \"custom-\".concat(index),\n                                                title: scenario.title || \"Custom Scenario \".concat(index + 1),\n                                                description: scenario.description || \"\",\n                                                created_at: scenario.created_at || new Date().toISOString(),\n                                                custom: true\n                                            })\n                                    }[\"ScenarioPage.useEffect.unsubscribe.customScenarios\"]);\n                                    // Combine default scenarios with custom scenarios\n                                    setScenarios([\n                                        ...defaultScenarios,\n                                        ...customScenarios\n                                    ]);\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error fetching user profile:\", error);\n                        }\n                    }\n                    setLoading(false);\n                }\n            }[\"ScenarioPage.useEffect.unsubscribe\"]);\n            return ({\n                \"ScenarioPage.useEffect\": ()=>unsubscribe()\n            })[\"ScenarioPage.useEffect\"];\n        }\n    }[\"ScenarioPage.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ScenarioPage.useEffect\": ()=>{\n            function handleClickOutside(event) {\n                if (profileMenuRef.current && !profileMenuRef.current.contains(event.target)) {\n                    setShowProfileMenu(false);\n                }\n            }\n            document.addEventListener(\"mousedown\", handleClickOutside);\n            return ({\n                \"ScenarioPage.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickOutside)\n            })[\"ScenarioPage.useEffect\"];\n        }\n    }[\"ScenarioPage.useEffect\"], []);\n    // Update the scenario list with latest custom scenarios\n    const refreshCustomScenarios = async ()=>{\n        var _user_email;\n        if (!user) return;\n        const username = user.displayName || ((_user_email = user.email) === null || _user_email === void 0 ? void 0 : _user_email.split('@')[0]) || 'Guest';\n        try {\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.getUserProfile)(username);\n            if (response && response.data && !response.error) {\n                if (response.data.custom_scenarios && Array.isArray(response.data.custom_scenarios)) {\n                    const customScenarios = response.data.custom_scenarios.map((scenario, index)=>({\n                            id: \"custom-\".concat(index),\n                            title: scenario.title || \"Custom Scenario \".concat(index + 1),\n                            description: scenario.description || \"\",\n                            created_at: scenario.created_at || new Date().toISOString(),\n                            custom: true\n                        }));\n                    // Combine default scenarios with updated custom scenarios\n                    setScenarios([\n                        ...defaultScenarios,\n                        ...customScenarios\n                    ]);\n                } else {\n                    setScenarios(defaultScenarios);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error refreshing custom scenarios:\", error);\n        }\n    };\n    const handleBackClick = ()=>{\n        router.push('/choose');\n    };\n    const navigateToDashboard = ()=>{\n        router.push('/dashboard');\n        setShowProfileMenu(false);\n    };\n    const handleAddCustomScenario = ()=>{\n        router.push('/scenario/custom');\n    };\n    const handleScenarioClick = async (scenario)=>{\n        if (!user) {\n            alert(\"Please log in to start a scenario\");\n            return;\n        }\n        try {\n            var _user_email;\n            const username = user.displayName || ((_user_email = user.email) === null || _user_email === void 0 ? void 0 : _user_email.split('@')[0]) || 'Guest';\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.setScenario)(username, scenario.id, userLanguage, scenario.description);\n            // Navigate to the customed scenario page\n            if (scenario.custom) {\n                const scenarioIndex = scenario.id.split('-')[1];\n                router.push(\"/scenario/custom/\".concat(scenarioIndex));\n            } else {\n                localStorage.setItem('currentScenario', JSON.stringify(scenario));\n                router.push('/roleplay');\n            }\n        } catch (error) {\n            console.error(\"Error setting scenario:\", error);\n            alert(\"There was a problem starting the scenario. Please try again.\");\n        }\n    };\n    const filteredScenarios = scenarios.filter((scenario)=>scenario.title.toLowerCase().includes(searchQuery.toLowerCase()) || scenario.description.toLowerCase().includes(searchQuery.toLowerCase()));\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            style: {\n                backgroundImage: \"url('/icons/background1.jpg')\",\n                backgroundSize: \"cover\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#48d1cc]\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 180,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n            lineNumber: 178,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen relative bg-cover bg-center\",\n        style: {\n            backgroundImage: \"url('/icons/background1.jpg')\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-8 left-8 z-10\",\n                ref: profileMenuRef,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setShowProfileMenu(!showProfileMenu),\n                        className: \"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center overflow-hidden\",\n                        children: (user === null || user === void 0 ? void 0 : user.photoURL) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            src: user.photoURL,\n                            alt: \"Profile\",\n                            width: 40,\n                            height: 40,\n                            className: \"object-cover\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                            lineNumber: 196,\n                            columnNumber: 13\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full bg-[#48d1cc] flex items-center justify-center text-white font-semibold text-sm\",\n                            children: (user === null || user === void 0 ? void 0 : user.displayName) ? user.displayName.charAt(0).toUpperCase() : (user === null || user === void 0 ? void 0 : user.email) ? user.email.charAt(0).toUpperCase() : \"G\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 191,\n                        columnNumber: 9\n                    }, undefined),\n                    showProfileMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-12 left-0 bg-white rounded-lg shadow-lg py-2 min-w-[180px] text-gray-800 z-20\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-medium\",\n                                        children: (user === null || user === void 0 ? void 0 : user.displayName) || \"Guest\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 214,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    (user === null || user === void 0 ? void 0 : user.email) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: user.email\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 216,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 213,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: [\n                                        \"Language: \",\n                                        userLanguage === 'en' ? 'English' : userLanguage === 'zh-CN' ? 'Chinese' : 'Japanese'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                    lineNumber: 220,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 219,\n                                columnNumber: 13\n                            }, undefined),\n                            user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: navigateToDashboard,\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 227,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Profile Dashboard\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>router.push('/login'),\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 238,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 237,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Sign In\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 233,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 190,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleBackClick,\n                className: \"absolute top-8 left-24 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    src: \"/icons/back.png\",\n                    alt: \"Back\",\n                    width: 24,\n                    height: 24\n                }, void 0, false, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                    lineNumber: 251,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 247,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto pt-24 px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white bg-opacity-90 rounded-xl shadow-lg p-6 mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 relative flex-shrink-0\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            src: \"/icons/chatbot.png\",\n                                            alt: \"Chatbot Icon\",\n                                            fill: true,\n                                            className: \"rounded-full object-cover\",\n                                            priority: true\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 263,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 262,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-2xl font-bold text-gray-800 mb-2\",\n                                            children: \"Choose a Scenario\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 273,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 272,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 261,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-6 flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative w-full max-w-md\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: searchQuery,\n                                                onChange: (e)=>setSearchQuery(e.target.value),\n                                                placeholder: \"Search scenarios...\",\n                                                className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 279,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                className: \"h-5 w-5 absolute left-3 top-2.5 text-gray-400\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 287,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 286,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 278,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleAddCustomScenario,\n                                        className: \"ml-4 bg-[#20b2aa] hover:bg-[#008080] text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                className: \"h-5 w-5 mr-1\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M12 4v16m8-8H4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 296,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 295,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Create Custom\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                        lineNumber: 291,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 260,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n                        children: filteredScenarios.map((scenario)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                onClick: ()=>handleScenarioClick(scenario),\n                                className: \"bg-white bg-opacity-90 rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-xl \".concat(scenario.custom ? 'border-2 border-[#20b2aa]' : ''),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-5 \".concat(scenario.custom ? 'border-t-4 border-[#20b2aa]' : 'border-t-4 border-blue-500'),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between items-start mb-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                    className: \"text-xl font-bold text-gray-800\",\n                                                    children: scenario.title\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                scenario.custom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"bg-[#20b2aa] text-white text-xs px-2 py-1 rounded-full\",\n                                                    children: \"Custom\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                    lineNumber: 316,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 313,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-600 mb-4\",\n                                            children: scenario.description\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 321,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-end\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-sm text-blue-600 hover:text-blue-800 transition-colors font-medium flex items-center\",\n                                                children: [\n                                                    \"Start Practice\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-4 w-4 ml-1\",\n                                                        fill: \"none\",\n                                                        viewBox: \"0 0 24 24\",\n                                                        stroke: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            strokeLinecap: \"round\",\n                                                            strokeLinejoin: \"round\",\n                                                            strokeWidth: 2,\n                                                            d: \"M9 5l7 7-7 7\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                            lineNumber: 326,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                        lineNumber: 325,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                                lineNumber: 323,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                            lineNumber: 322,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                    lineNumber: 312,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, scenario.id, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 13\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                        lineNumber: 303,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n                lineNumber: 259,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/scenario/page.tsx\",\n        lineNumber: 186,\n        columnNumber: 5\n    }, undefined);\n};\n_s(ScenarioPage, \"aGXASHMlxg+WY+5P9beflyz+iJk=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = ScenarioPage;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScenarioPage);\nvar _c;\n$RefreshReg$(_c, \"ScenarioPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvc2NlbmFyaW8vcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFDMkQ7QUFDNUI7QUFDYTtBQUNJO0FBQ1M7QUFDSTtBQVU3RCxNQUFNVSxlQUFlOztJQUNuQixNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR1gsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDWSxTQUFTQyxXQUFXLEdBQUdiLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2MsaUJBQWlCQyxtQkFBbUIsR0FBR2YsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDZ0IsV0FBV0MsYUFBYSxHQUFHakIsK0NBQVFBLENBQWEsRUFBRTtJQUN6RCxNQUFNLENBQUNrQixjQUFjQyxnQkFBZ0IsR0FBR25CLCtDQUFRQSxDQUFTO0lBQ3pELE1BQU0sQ0FBQ29CLGFBQWFDLGVBQWUsR0FBR3JCLCtDQUFRQSxDQUFDO0lBRS9DLE1BQU1zQixpQkFBaUJwQiw2Q0FBTUEsQ0FBaUI7SUFDOUMsTUFBTXFCLFNBQVNuQiwwREFBU0E7SUFFeEIsdUJBQXVCO0lBQ3ZCLE1BQU1vQixtQkFBK0I7UUFDbkM7WUFDRUMsSUFBSTtZQUNKQyxPQUFPO1lBQ1BDLGFBQWE7WUFDYkMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO1lBQ2xDQyxRQUFRO1FBQ1Y7UUFDQTtZQUNFTixJQUFJO1lBQ0pDLE9BQU87WUFDUEMsYUFBYTtZQUNiQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7WUFDbENDLFFBQVE7UUFDVjtLQUNEO0lBRUQ5QixnREFBU0E7a0NBQUM7WUFDUixNQUFNK0IsY0FBYzFCLGlFQUFrQkEsQ0FBQ0Qsa0RBQUlBO3NEQUFFLE9BQU80QjtvQkFDbER0QixRQUFRc0I7b0JBRVIsTUFBTUMsY0FBY0MsYUFBYUMsT0FBTyxDQUFDLGFBQWE7b0JBQ3REakIsZ0JBQWdCZTtvQkFFaEJqQixhQUFhTztvQkFFYixJQUFJUyxhQUFhO3dCQUNmLElBQUk7Z0NBQzBDQTs0QkFBNUMsTUFBTUksV0FBV0osWUFBWUssV0FBVyxNQUFJTCxxQkFBQUEsWUFBWU0sS0FBSyxjQUFqQk4seUNBQUFBLG1CQUFtQk8sS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUk7NEJBRWhGLE1BQU1DLFdBQVcsTUFBTWxDLDZEQUFjQSxDQUFDOEI7NEJBRXRDLElBQUlJLFlBQVlBLFNBQVNDLElBQUksSUFBSSxDQUFDRCxTQUFTRSxLQUFLLEVBQUU7Z0NBQ2hELHFEQUFxRDtnQ0FDckQsSUFBSUYsU0FBU0MsSUFBSSxDQUFDRSxnQkFBZ0IsSUFBSUMsTUFBTUMsT0FBTyxDQUFDTCxTQUFTQyxJQUFJLENBQUNFLGdCQUFnQixHQUFHO29DQUNuRixNQUFNRyxrQkFBa0JOLFNBQVNDLElBQUksQ0FBQ0UsZ0JBQWdCLENBQUNJLEdBQUc7OEZBQUMsQ0FBQ0MsVUFBZUMsUUFBbUI7Z0RBQzVGekIsSUFBSSxVQUFnQixPQUFOeUI7Z0RBQ2R4QixPQUFPdUIsU0FBU3ZCLEtBQUssSUFBSSxtQkFBNkIsT0FBVndCLFFBQVE7Z0RBQ3BEdkIsYUFBYXNCLFNBQVN0QixXQUFXLElBQUk7Z0RBQ3JDQyxZQUFZcUIsU0FBU3JCLFVBQVUsSUFBSSxJQUFJQyxPQUFPQyxXQUFXO2dEQUN6REMsUUFBUTs0Q0FDVjs7b0NBRUEsa0RBQWtEO29DQUNsRGQsYUFBYTsyQ0FBSU87MkNBQXFCdUI7cUNBQWdCO2dDQUN4RDs0QkFDRjt3QkFDRixFQUFFLE9BQU9KLE9BQU87NEJBQ2RRLFFBQVFSLEtBQUssQ0FBQyxnQ0FBZ0NBO3dCQUNoRDtvQkFDRjtvQkFFQTlCLFdBQVc7Z0JBQ2I7O1lBRUE7MENBQU8sSUFBTW1COztRQUNmO2lDQUFHLEVBQUU7SUFFTC9CLGdEQUFTQTtrQ0FBQztZQUNSLFNBQVNtRCxtQkFBbUJDLEtBQWlCO2dCQUMzQyxJQUFJL0IsZUFBZWdDLE9BQU8sSUFBSSxDQUFDaEMsZUFBZWdDLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDRixNQUFNRyxNQUFNLEdBQVc7b0JBQ3BGekMsbUJBQW1CO2dCQUNyQjtZQUNGO1lBRUEwQyxTQUFTQyxnQkFBZ0IsQ0FBQyxhQUFhTjtZQUN2QzswQ0FBTyxJQUFNSyxTQUFTRSxtQkFBbUIsQ0FBQyxhQUFhUDs7UUFDekQ7aUNBQUcsRUFBRTtJQUVMLHdEQUF3RDtJQUN4RCxNQUFNUSx5QkFBeUI7WUFHUWxEO1FBRnJDLElBQUksQ0FBQ0EsTUFBTTtRQUVYLE1BQU0yQixXQUFXM0IsS0FBSzRCLFdBQVcsTUFBSTVCLGNBQUFBLEtBQUs2QixLQUFLLGNBQVY3QixrQ0FBQUEsWUFBWThCLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFJO1FBRWxFLElBQUk7WUFDRixNQUFNQyxXQUFXLE1BQU1sQyw2REFBY0EsQ0FBQzhCO1lBRXRDLElBQUlJLFlBQVlBLFNBQVNDLElBQUksSUFBSSxDQUFDRCxTQUFTRSxLQUFLLEVBQUU7Z0JBQ2hELElBQUlGLFNBQVNDLElBQUksQ0FBQ0UsZ0JBQWdCLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ0wsU0FBU0MsSUFBSSxDQUFDRSxnQkFBZ0IsR0FBRztvQkFDbkYsTUFBTUcsa0JBQWtCTixTQUFTQyxJQUFJLENBQUNFLGdCQUFnQixDQUFDSSxHQUFHLENBQUMsQ0FBQ0MsVUFBZUMsUUFBbUI7NEJBQzVGekIsSUFBSSxVQUFnQixPQUFOeUI7NEJBQ2R4QixPQUFPdUIsU0FBU3ZCLEtBQUssSUFBSSxtQkFBNkIsT0FBVndCLFFBQVE7NEJBQ3BEdkIsYUFBYXNCLFNBQVN0QixXQUFXLElBQUk7NEJBQ3JDQyxZQUFZcUIsU0FBU3JCLFVBQVUsSUFBSSxJQUFJQyxPQUFPQyxXQUFXOzRCQUN6REMsUUFBUTt3QkFDVjtvQkFFQSwwREFBMEQ7b0JBQzFEZCxhQUFhOzJCQUFJTzsyQkFBcUJ1QjtxQkFBZ0I7Z0JBQ3hELE9BQU87b0JBQ0w5QixhQUFhTztnQkFDZjtZQUNGO1FBQ0YsRUFBRSxPQUFPbUIsT0FBTztZQUNkUSxRQUFRUixLQUFLLENBQUMsc0NBQXNDQTtRQUN0RDtJQUNGO0lBRUEsTUFBTWtCLGtCQUFrQjtRQUN0QnRDLE9BQU91QyxJQUFJLENBQUM7SUFDZDtJQUVBLE1BQU1DLHNCQUFzQjtRQUMxQnhDLE9BQU91QyxJQUFJLENBQUM7UUFDWi9DLG1CQUFtQjtJQUNyQjtJQUVBLE1BQU1pRCwwQkFBMEI7UUFDOUJ6QyxPQUFPdUMsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxNQUFNRyxzQkFBc0IsT0FBT2hCO1FBQ2pDLElBQUksQ0FBQ3ZDLE1BQU07WUFDVHdELE1BQU07WUFDTjtRQUNGO1FBRUEsSUFBSTtnQkFDbUN4RDtZQUFyQyxNQUFNMkIsV0FBVzNCLEtBQUs0QixXQUFXLE1BQUk1QixjQUFBQSxLQUFLNkIsS0FBSyxjQUFWN0Isa0NBQUFBLFlBQVk4QixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSTtZQUVsRSxNQUFNQyxXQUFXLE1BQU1qQywwREFBV0EsQ0FDaEM2QixVQUNBWSxTQUFTeEIsRUFBRSxFQUNYUCxjQUNBK0IsU0FBU3RCLFdBQVc7WUFHdEIseUNBQXlDO1lBQ3pDLElBQUlzQixTQUFTbEIsTUFBTSxFQUFFO2dCQUNuQixNQUFNb0MsZ0JBQWdCbEIsU0FBU3hCLEVBQUUsQ0FBQ2UsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUMvQ2pCLE9BQU91QyxJQUFJLENBQUMsb0JBQWtDLE9BQWRLO1lBQ2xDLE9BQU87Z0JBQ0xoQyxhQUFhaUMsT0FBTyxDQUFDLG1CQUFtQkMsS0FBS0MsU0FBUyxDQUFDckI7Z0JBQ3ZEMUIsT0FBT3VDLElBQUksQ0FBQztZQUNkO1FBQ0YsRUFBRSxPQUFPbkIsT0FBTztZQUNkUSxRQUFRUixLQUFLLENBQUMsMkJBQTJCQTtZQUN6Q3VCLE1BQU07UUFDUjtJQUNGO0lBRUEsTUFBTUssb0JBQW9CdkQsVUFBVXdELE1BQU0sQ0FBQ3ZCLENBQUFBLFdBQ3pDQSxTQUFTdkIsS0FBSyxDQUFDK0MsV0FBVyxHQUFHQyxRQUFRLENBQUN0RCxZQUFZcUQsV0FBVyxPQUM3RHhCLFNBQVN0QixXQUFXLENBQUM4QyxXQUFXLEdBQUdDLFFBQVEsQ0FBQ3RELFlBQVlxRCxXQUFXO0lBR3JFLElBQUk3RCxTQUFTO1FBQ1gscUJBQ0UsOERBQUMrRDtZQUFJQyxXQUFVO1lBQ2JDLE9BQU87Z0JBQUVDLGlCQUFpQjtnQkFBaUNDLGdCQUFnQjtZQUFRO3NCQUNuRiw0RUFBQ0o7Z0JBQUlDLFdBQVU7Ozs7Ozs7Ozs7O0lBR3JCO0lBRUEscUJBQ0UsOERBQUNEO1FBQ0NDLFdBQVU7UUFDVkMsT0FBTztZQUFFQyxpQkFBaUI7UUFBZ0M7OzBCQUUxRCw4REFBQ0g7Z0JBQUlDLFdBQVU7Z0JBQTZCSSxLQUFLMUQ7O2tDQUMvQyw4REFBQzJEO3dCQUNDQyxTQUFTLElBQU1uRSxtQkFBbUIsQ0FBQ0Q7d0JBQ25DOEQsV0FBVTtrQ0FFVGxFLENBQUFBLGlCQUFBQSwyQkFBQUEsS0FBTXlFLFFBQVEsa0JBQ2IsOERBQUNoRixrREFBS0E7NEJBQ0ppRixLQUFLMUUsS0FBS3lFLFFBQVE7NEJBQ2xCRSxLQUFJOzRCQUNKQyxPQUFPOzRCQUNQQyxRQUFROzRCQUNSWCxXQUFVOzs7OztzREFHWiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ1psRSxDQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU00QixXQUFXLElBQUc1QixLQUFLNEIsV0FBVyxDQUFDa0QsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FDMUQvRSxDQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU02QixLQUFLLElBQUc3QixLQUFLNkIsS0FBSyxDQUFDaUQsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBSzs7Ozs7Ozs7Ozs7b0JBS3pEM0UsaUNBQ0MsOERBQUM2RDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ2M7d0NBQUVkLFdBQVU7a0RBQWVsRSxDQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU00QixXQUFXLEtBQUk7Ozs7OztvQ0FDaEQ1QixDQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU02QixLQUFLLG1CQUNWLDhEQUFDbUQ7d0NBQUVkLFdBQVU7a0RBQXlCbEUsS0FBSzZCLEtBQUs7Ozs7Ozs7Ozs7OzswQ0FHcEQsOERBQUNvQztnQ0FBSUMsV0FBVTswQ0FDYiw0RUFBQ2M7b0NBQUVkLFdBQVU7O3dDQUF3Qjt3Q0FBVzFELGlCQUFpQixPQUFPLFlBQVlBLGlCQUFpQixVQUFVLFlBQVk7Ozs7Ozs7Ozs7Ozs0QkFFNUhSLHFCQUNDLDhEQUFDdUU7Z0NBQ0NDLFNBQVNuQjtnQ0FDVGEsV0FBVTs7a0RBRVYsOERBQUNlO3dDQUFJZixXQUFVO3dDQUFlZ0IsTUFBSzt3Q0FBT0MsUUFBTzt3Q0FBZUMsU0FBUTtrREFDdEUsNEVBQUNDOzRDQUFLQyxlQUFjOzRDQUFRQyxnQkFBZTs0Q0FBUUMsYUFBWTs0Q0FBSUMsR0FBRTs7Ozs7Ozs7Ozs7b0NBQ2pFOzs7Ozs7MERBSVIsOERBQUNsQjtnQ0FDQ0MsU0FBUyxJQUFNM0QsT0FBT3VDLElBQUksQ0FBQztnQ0FDM0JjLFdBQVU7O2tEQUVWLDhEQUFDZTt3Q0FBSWYsV0FBVTt3Q0FBZWdCLE1BQUs7d0NBQU9DLFFBQU87d0NBQWVDLFNBQVE7a0RBQ3RFLDRFQUFDQzs0Q0FBS0MsZUFBYzs0Q0FBUUMsZ0JBQWU7NENBQVFDLGFBQVk7NENBQUlDLEdBQUU7Ozs7Ozs7Ozs7O29DQUNqRTs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFRaEIsOERBQUNsQjtnQkFDQ0MsU0FBU3JCO2dCQUNUZSxXQUFVOzBCQUVWLDRFQUFDekUsa0RBQUtBO29CQUNKaUYsS0FBSTtvQkFDSkMsS0FBSTtvQkFDSkMsT0FBTztvQkFDUEMsUUFBUTs7Ozs7Ozs7Ozs7MEJBSVosOERBQUNaO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFVO2tEQUNiLDRFQUFDekUsa0RBQUtBOzRDQUNKaUYsS0FBSTs0Q0FDSkMsS0FBSTs0Q0FDSk8sSUFBSTs0Q0FDSmhCLFdBQVU7NENBQ1Z3QixRQUFROzs7Ozs7Ozs7OztrREFJWiw4REFBQ3pCO2tEQUNDLDRFQUFDMEI7NENBQUd6QixXQUFVO3NEQUF3Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7MENBSTFELDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQzBCO2dEQUNDQyxNQUFLO2dEQUNMQyxPQUFPcEY7Z0RBQ1BxRixVQUFVLENBQUNDLElBQU1yRixlQUFlcUYsRUFBRWxELE1BQU0sQ0FBQ2dELEtBQUs7Z0RBQzlDRyxhQUFZO2dEQUNaL0IsV0FBVTs7Ozs7OzBEQUVaLDhEQUFDZTtnREFBSWlCLE9BQU07Z0RBQTZCaEMsV0FBVTtnREFBZ0RnQixNQUFLO2dEQUFPRSxTQUFRO2dEQUFZRCxRQUFPOzBEQUN2SSw0RUFBQ0U7b0RBQUtDLGVBQWM7b0RBQVFDLGdCQUFlO29EQUFRQyxhQUFhO29EQUFHQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7OztrREFJekUsOERBQUNsQjt3Q0FDQ0MsU0FBU2xCO3dDQUNUWSxXQUFVOzswREFFViw4REFBQ2U7Z0RBQUlpQixPQUFNO2dEQUE2QmhDLFdBQVU7Z0RBQWVnQixNQUFLO2dEQUFPRSxTQUFRO2dEQUFZRCxRQUFPOzBEQUN0Ryw0RUFBQ0U7b0RBQUtDLGVBQWM7b0RBQVFDLGdCQUFlO29EQUFRQyxhQUFhO29EQUFHQyxHQUFFOzs7Ozs7Ozs7Ozs0Q0FDakU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBTVosOERBQUN4Qjt3QkFBSUMsV0FBVTtrQ0FDWkwsa0JBQWtCdkIsR0FBRyxDQUFDQyxDQUFBQSx5QkFDckIsOERBQUMwQjtnQ0FFQ08sU0FBUyxJQUFNakIsb0JBQW9CaEI7Z0NBQ25DMkIsV0FBVyxvSkFFVixPQURDM0IsU0FBU2xCLE1BQU0sR0FBRyw4QkFBOEI7MENBR2xELDRFQUFDNEM7b0NBQUlDLFdBQVcsT0FBc0YsT0FBL0UzQixTQUFTbEIsTUFBTSxHQUFHLGdDQUFnQzs7c0RBQ3ZFLDhEQUFDNEM7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDaUM7b0RBQUdqQyxXQUFVOzhEQUFtQzNCLFNBQVN2QixLQUFLOzs7Ozs7Z0RBQzlEdUIsU0FBU2xCLE1BQU0sa0JBQ2QsOERBQUMrRTtvREFBS2xDLFdBQVU7OERBQXlEOzs7Ozs7Ozs7Ozs7c0RBSzdFLDhEQUFDYzs0Q0FBRWQsV0FBVTtzREFBc0IzQixTQUFTdEIsV0FBVzs7Ozs7O3NEQUN2RCw4REFBQ2dEOzRDQUFJQyxXQUFVO3NEQUNiLDRFQUFDSztnREFBT0wsV0FBVTs7b0RBQTRGO2tFQUU1Ryw4REFBQ2U7d0RBQUlpQixPQUFNO3dEQUE2QmhDLFdBQVU7d0RBQWVnQixNQUFLO3dEQUFPRSxTQUFRO3dEQUFZRCxRQUFPO2tFQUN0Ryw0RUFBQ0U7NERBQUtDLGVBQWM7NERBQVFDLGdCQUFlOzREQUFRQyxhQUFhOzREQUFHQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OytCQXBCeEVsRCxTQUFTeEIsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStCOUI7R0FoVU1oQjs7UUFTV0wsc0RBQVNBOzs7S0FUcEJLO0FBa1VOLGlFQUFlQSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvYXBwL3NjZW5hcmlvL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL2ZpcmViYXNlXCI7XG5pbXBvcnQgeyBvbkF1dGhTdGF0ZUNoYW5nZWQsIFVzZXIgfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0IHsgZ2V0VXNlclByb2ZpbGUsIHNldFNjZW5hcmlvIH0gZnJvbSAnQC9zZXJ2aWNlcy9hcGknO1xuXG5pbnRlcmZhY2UgU2NlbmFyaW8ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIGN1c3RvbTogYm9vbGVhbjtcbn1cblxuY29uc3QgU2NlbmFyaW9QYWdlID0gKCkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd1Byb2ZpbGVNZW51LCBzZXRTaG93UHJvZmlsZU1lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2NlbmFyaW9zLCBzZXRTY2VuYXJpb3NdID0gdXNlU3RhdGU8U2NlbmFyaW9bXT4oW10pO1xuICBjb25zdCBbdXNlckxhbmd1YWdlLCBzZXRVc2VyTGFuZ3VhZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignZW4nKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIFxuICBjb25zdCBwcm9maWxlTWVudVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIC8vIFByZWRlZmluZWQgc2NlbmFyaW9zXG4gIGNvbnN0IGRlZmF1bHRTY2VuYXJpb3M6IFNjZW5hcmlvW10gPSBbXG4gICAge1xuICAgICAgaWQ6ICdyZXN0YXVyYW50JyxcbiAgICAgIHRpdGxlOiAnUmVzdGF1cmFudCBPcmRlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1ByYWN0aWNlIG9yZGVyaW5nIGZvb2QgYXQgYSByZXN0YXVyYW50JyxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGN1c3RvbTogZmFsc2VcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnam9iX2ludGVydmlldycsXG4gICAgICB0aXRsZTogJ0pvYiBJbnRlcnZpZXcnLFxuICAgICAgZGVzY3JpcHRpb246ICdQcmFjdGljZSBmb3IgYSBqb2IgaW50ZXJ2aWV3JyxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGN1c3RvbTogZmFsc2VcbiAgICB9LFxuICBdO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKGN1cnJlbnRVc2VyKSA9PiB7XG4gICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2F2ZWRMb2NhbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxlJykgfHwgJ2VuJztcbiAgICAgIHNldFVzZXJMYW5ndWFnZShzYXZlZExvY2FsZSk7XG4gICAgICBcbiAgICAgIHNldFNjZW5hcmlvcyhkZWZhdWx0U2NlbmFyaW9zKTtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRVc2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBjdXJyZW50VXNlci5kaXNwbGF5TmFtZSB8fCBjdXJyZW50VXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnR3Vlc3QnO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0VXNlclByb2ZpbGUodXNlcm5hbWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmICFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgdXNlciBoYXMgY3VzdG9tIHNjZW5hcmlvcywgYWRkIHRoZW0gdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmN1c3RvbV9zY2VuYXJpb3MgJiYgQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhLmN1c3RvbV9zY2VuYXJpb3MpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGN1c3RvbVNjZW5hcmlvcyA9IHJlc3BvbnNlLmRhdGEuY3VzdG9tX3NjZW5hcmlvcy5tYXAoKHNjZW5hcmlvOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICh7XG4gICAgICAgICAgICAgICAgaWQ6IGBjdXN0b20tJHtpbmRleH1gLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBzY2VuYXJpby50aXRsZSB8fCBgQ3VzdG9tIFNjZW5hcmlvICR7aW5kZXggKyAxfWAsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjZW5hcmlvLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogc2NlbmFyaW8uY3JlYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgY3VzdG9tOiB0cnVlXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENvbWJpbmUgZGVmYXVsdCBzY2VuYXJpb3Mgd2l0aCBjdXN0b20gc2NlbmFyaW9zXG4gICAgICAgICAgICAgIHNldFNjZW5hcmlvcyhbLi4uZGVmYXVsdFNjZW5hcmlvcywgLi4uY3VzdG9tU2NlbmFyaW9zXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2tPdXRzaWRlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICBpZiAocHJvZmlsZU1lbnVSZWYuY3VycmVudCAmJiAhcHJvZmlsZU1lbnVSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd1Byb2ZpbGVNZW51KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gIH0sIFtdKTtcblxuICAvLyBVcGRhdGUgdGhlIHNjZW5hcmlvIGxpc3Qgd2l0aCBsYXRlc3QgY3VzdG9tIHNjZW5hcmlvc1xuICBjb25zdCByZWZyZXNoQ3VzdG9tU2NlbmFyaW9zID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdHdWVzdCc7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0VXNlclByb2ZpbGUodXNlcm5hbWUpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSAmJiAhcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY3VzdG9tX3NjZW5hcmlvcyAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEuY3VzdG9tX3NjZW5hcmlvcykpIHtcbiAgICAgICAgICBjb25zdCBjdXN0b21TY2VuYXJpb3MgPSByZXNwb25zZS5kYXRhLmN1c3RvbV9zY2VuYXJpb3MubWFwKChzY2VuYXJpbzogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGBjdXN0b20tJHtpbmRleH1gLFxuICAgICAgICAgICAgdGl0bGU6IHNjZW5hcmlvLnRpdGxlIHx8IGBDdXN0b20gU2NlbmFyaW8gJHtpbmRleCArIDF9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzY2VuYXJpby5kZXNjcmlwdGlvbiB8fCBcIlwiLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogc2NlbmFyaW8uY3JlYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBjdXN0b206IHRydWVcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29tYmluZSBkZWZhdWx0IHNjZW5hcmlvcyB3aXRoIHVwZGF0ZWQgY3VzdG9tIHNjZW5hcmlvc1xuICAgICAgICAgIHNldFNjZW5hcmlvcyhbLi4uZGVmYXVsdFNjZW5hcmlvcywgLi4uY3VzdG9tU2NlbmFyaW9zXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0U2NlbmFyaW9zKGRlZmF1bHRTY2VuYXJpb3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWZyZXNoaW5nIGN1c3RvbSBzY2VuYXJpb3M6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQmFja0NsaWNrID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvY2hvb3NlJyk7XG4gIH07XG4gIFxuICBjb25zdCBuYXZpZ2F0ZVRvRGFzaGJvYXJkID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvZGFzaGJvYXJkJyk7XG4gICAgc2V0U2hvd1Byb2ZpbGVNZW51KGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRDdXN0b21TY2VuYXJpbyA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnL3NjZW5hcmlvL2N1c3RvbScpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNjZW5hcmlvQ2xpY2sgPSBhc3luYyAoc2NlbmFyaW86IFNjZW5hcmlvKSA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBsb2cgaW4gdG8gc3RhcnQgYSBzY2VuYXJpb1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcm5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lIHx8IHVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJ0d1ZXN0JztcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXRTY2VuYXJpbyhcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHNjZW5hcmlvLmlkLCAgICAgICBcbiAgICAgICAgdXNlckxhbmd1YWdlLCAgICAgICAgXG4gICAgICAgIHNjZW5hcmlvLmRlc2NyaXB0aW9uXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBOYXZpZ2F0ZSB0byB0aGUgY3VzdG9tZWQgc2NlbmFyaW8gcGFnZVxuICAgICAgaWYgKHNjZW5hcmlvLmN1c3RvbSkge1xuICAgICAgICBjb25zdCBzY2VuYXJpb0luZGV4ID0gc2NlbmFyaW8uaWQuc3BsaXQoJy0nKVsxXTtcbiAgICAgICAgcm91dGVyLnB1c2goYC9zY2VuYXJpby9jdXN0b20vJHtzY2VuYXJpb0luZGV4fWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRTY2VuYXJpbycsIEpTT04uc3RyaW5naWZ5KHNjZW5hcmlvKSk7XG4gICAgICAgIHJvdXRlci5wdXNoKCcvcm9sZXBsYXknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNldHRpbmcgc2NlbmFyaW86XCIsIGVycm9yKTtcbiAgICAgIGFsZXJ0KFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBzdGFydGluZyB0aGUgc2NlbmFyaW8uIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmaWx0ZXJlZFNjZW5hcmlvcyA9IHNjZW5hcmlvcy5maWx0ZXIoc2NlbmFyaW8gPT4gXG4gICAgc2NlbmFyaW8udGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgIHNjZW5hcmlvLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSlcbiAgKTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9pY29ucy9iYWNrZ3JvdW5kMS5qcGcnKVwiLCBiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItWyM0OGQxY2NdXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IFxuICAgICAgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIHJlbGF0aXZlIGJnLWNvdmVyIGJnLWNlbnRlclwiXG4gICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKCcvaWNvbnMvYmFja2dyb3VuZDEuanBnJylcIiB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTggbGVmdC04IHotMTBcIiByZWY9e3Byb2ZpbGVNZW51UmVmfT5cbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJvZmlsZU1lbnUoIXNob3dQcm9maWxlTWVudSl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy13aGl0ZS8xMCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt1c2VyPy5waG90b1VSTCA/IChcbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBzcmM9e3VzZXIucGhvdG9VUkx9XG4gICAgICAgICAgICAgIGFsdD1cIlByb2ZpbGVcIlxuICAgICAgICAgICAgICB3aWR0aD17NDB9XG4gICAgICAgICAgICAgIGhlaWdodD17NDB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctWyM0OGQxY2NdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIHt1c2VyPy5kaXNwbGF5TmFtZSA/IHVzZXIuZGlzcGxheU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgOiBcbiAgICAgICAgICAgICAgIHVzZXI/LmVtYWlsID8gdXNlci5lbWFpbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6IFwiR1wifVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIFxuICAgICAgICB7c2hvd1Byb2ZpbGVNZW51ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xMiBsZWZ0LTAgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcHktMiBtaW4tdy1bMTgwcHhdIHRleHQtZ3JheS04MDAgei0yMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3VzZXI/LmRpc3BsYXlOYW1lIHx8IFwiR3Vlc3RcIn08L3A+XG4gICAgICAgICAgICAgIHt1c2VyPy5lbWFpbCAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e3VzZXIuZW1haWx9PC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+TGFuZ3VhZ2U6IHt1c2VyTGFuZ3VhZ2UgPT09ICdlbicgPyAnRW5nbGlzaCcgOiB1c2VyTGFuZ3VhZ2UgPT09ICd6aC1DTicgPyAnQ2hpbmVzZScgOiAnSmFwYW5lc2UnfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3VzZXIgPyAoXG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17bmF2aWdhdGVUb0Rhc2hib2FyZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPVwiMlwiIGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICBQcm9maWxlIERhc2hib2FyZFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goJy9sb2dpbicpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktMTAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9XCIyXCIgZD1cIk0xMSAxNmwtNC00bTAgMGw0LTRtLTQgNGgxNG0tNSA0djFhMyAzIDAgMDEtMyAzSDZhMyAzIDAgMDEtMy0zVjdhMyAzIDAgMDEzLTNoN2EzIDMgMCAwMTMgM3YxXCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8YnV0dG9uIFxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVCYWNrQ2xpY2t9XG4gICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC04IGxlZnQtMjQgdy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy13aGl0ZS8xMCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxuICAgICAgPlxuICAgICAgICA8SW1hZ2VcbiAgICAgICAgICBzcmM9XCIvaWNvbnMvYmFjay5wbmdcIlxuICAgICAgICAgIGFsdD1cIkJhY2tcIlxuICAgICAgICAgIHdpZHRoPXsyNH1cbiAgICAgICAgICBoZWlnaHQ9ezI0fVxuICAgICAgICAvPlxuICAgICAgPC9idXR0b24+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHQtMjQgcHgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGJnLW9wYWNpdHktOTAgcm91bmRlZC14bCBzaGFkb3ctbGcgcC02IG1iLThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC01XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiByZWxhdGl2ZSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgIHNyYz1cIi9pY29ucy9jaGF0Ym90LnBuZ1wiXG4gICAgICAgICAgICAgICAgYWx0PVwiQ2hhdGJvdCBJY29uXCJcbiAgICAgICAgICAgICAgICBmaWxsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgcHJpb3JpdHlcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMlwiPkNob29zZSBhIFNjZW5hcmlvPC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIG1heC13LW1kXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoUXVlcnl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggc2NlbmFyaW9zLi4uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtMTAgcHItNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTUgdy01IGFic29sdXRlIGxlZnQtMyB0b3AtMi41IHRleHQtZ3JheS00MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMjEgMjFsLTYtNm0yLTVhNyA3IDAgMTEtMTQgMCA3IDcgMCAwMTE0IDB6XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQ3VzdG9tU2NlbmFyaW99XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTQgYmctWyMyMGIyYWFdIGhvdmVyOmJnLVsjMDA4MDgwXSB0ZXh0LXdoaXRlIHB4LTQgcHktMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNSB3LTUgbXItMVwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiA0djE2bTgtOEg0XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIENyZWF0ZSBDdXN0b21cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNlwiPlxuICAgICAgICAgIHtmaWx0ZXJlZFNjZW5hcmlvcy5tYXAoc2NlbmFyaW8gPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e3NjZW5hcmlvLmlkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTY2VuYXJpb0NsaWNrKHNjZW5hcmlvKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmctd2hpdGUgYmctb3BhY2l0eS05MCByb3VuZGVkLXhsIHNoYWRvdy1sZyBvdmVyZmxvdy1oaWRkZW4gY3Vyc29yLXBvaW50ZXIgdHJhbnNmb3JtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS0xMDUgaG92ZXI6c2hhZG93LXhsICR7XG4gICAgICAgICAgICAgICAgc2NlbmFyaW8uY3VzdG9tID8gJ2JvcmRlci0yIGJvcmRlci1bIzIwYjJhYV0nIDogJydcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC01ICR7c2NlbmFyaW8uY3VzdG9tID8gJ2JvcmRlci10LTQgYm9yZGVyLVsjMjBiMmFhXScgOiAnYm9yZGVyLXQtNCBib3JkZXItYmx1ZS01MDAnfWB9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj57c2NlbmFyaW8udGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICAgIHtzY2VuYXJpby5jdXN0b20gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiZy1bIzIwYjJhYV0gdGV4dC13aGl0ZSB0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICBDdXN0b21cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTRcIj57c2NlbmFyaW8uZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTgwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICBTdGFydCBQcmFjdGljZVxuICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTQgdy00IG1sLTFcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSA1bDcgNy03IDdcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2NlbmFyaW9QYWdlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSW1hZ2UiLCJ1c2VSb3V0ZXIiLCJhdXRoIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiZ2V0VXNlclByb2ZpbGUiLCJzZXRTY2VuYXJpbyIsIlNjZW5hcmlvUGFnZSIsInVzZXIiLCJzZXRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzaG93UHJvZmlsZU1lbnUiLCJzZXRTaG93UHJvZmlsZU1lbnUiLCJzY2VuYXJpb3MiLCJzZXRTY2VuYXJpb3MiLCJ1c2VyTGFuZ3VhZ2UiLCJzZXRVc2VyTGFuZ3VhZ2UiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5IiwicHJvZmlsZU1lbnVSZWYiLCJyb3V0ZXIiLCJkZWZhdWx0U2NlbmFyaW9zIiwiaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImN1c3RvbSIsInVuc3Vic2NyaWJlIiwiY3VycmVudFVzZXIiLCJzYXZlZExvY2FsZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ1c2VybmFtZSIsImRpc3BsYXlOYW1lIiwiZW1haWwiLCJzcGxpdCIsInJlc3BvbnNlIiwiZGF0YSIsImVycm9yIiwiY3VzdG9tX3NjZW5hcmlvcyIsIkFycmF5IiwiaXNBcnJheSIsImN1c3RvbVNjZW5hcmlvcyIsIm1hcCIsInNjZW5hcmlvIiwiaW5kZXgiLCJjb25zb2xlIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJjdXJyZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVmcmVzaEN1c3RvbVNjZW5hcmlvcyIsImhhbmRsZUJhY2tDbGljayIsInB1c2giLCJuYXZpZ2F0ZVRvRGFzaGJvYXJkIiwiaGFuZGxlQWRkQ3VzdG9tU2NlbmFyaW8iLCJoYW5kbGVTY2VuYXJpb0NsaWNrIiwiYWxlcnQiLCJzY2VuYXJpb0luZGV4Iiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaWx0ZXJlZFNjZW5hcmlvcyIsImZpbHRlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRTaXplIiwicmVmIiwiYnV0dG9uIiwib25DbGljayIsInBob3RvVVJMIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInAiLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJwcmlvcml0eSIsImgxIiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJwbGFjZWhvbGRlciIsInhtbG5zIiwiaDIiLCJzcGFuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/scenario/page.tsx\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/scenario/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    try {\n        const res = await fetch(\"\".concat(API_BASE_URL).concat(endpoint), {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(\"/api/profile/\".concat(username));\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/api/scenario/set\"), {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9hcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0FBT3hELGVBQWVDLFNBQ2JDLFFBQWdCO1FBQ2hCQyxVQUFBQSxpRUFBdUIsQ0FBQztJQUV4QixJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNQyxNQUFNLEdBQWtCSCxPQUFmTCxjQUF3QixPQUFUSyxXQUFZO1lBQ3BELEdBQUdDLE9BQU87WUFDVkcsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLEdBQUdILFFBQVFHLE9BQU87WUFDcEI7UUFDRjtRQUVBLElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFO1lBQ1gsTUFBTUMsUUFBUSxNQUFNSixJQUFJSyxJQUFJO1lBQzVCLE9BQU87Z0JBQUVDLE1BQU07Z0JBQU1GLE9BQU9BLE1BQU1HLE1BQU0sSUFBSTtZQUFvQjtRQUNsRTtRQUVBLE1BQU1ELE9BQU8sTUFBTU4sSUFBSUssSUFBSTtRQUMzQixPQUFPO1lBQUVDO1lBQU1GLE9BQU87UUFBSztJQUM3QixFQUFFLE9BQU9BLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE9BQU87WUFBRUUsTUFBTTtZQUFNRixPQUFPO1FBQWdCO0lBQzlDO0FBQ0Y7QUFFTyxlQUFlSyxnQkFDcEJDLFFBQWdCLEVBQ2hCQyxPQUFlLEVBQ2ZDLFFBQWlCLEVBQ2pCQyxNQUFlO0lBRWYsT0FBT2hCLFNBQWdELGFBQWE7UUFDbEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUNuQlA7WUFDQUM7WUFDQUM7WUFDQU0sU0FBU0w7UUFDWDtJQUNGO0FBQ0Y7QUFFTyxlQUFlTSxlQUFlVCxRQUFnQjtJQUNuRCxPQUFPYixTQUFrQyxvQkFBb0I7UUFDM0RpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVSxtQkFBbUJWLFFBQWdCO0lBQ3ZELE9BQU9iLFNBQWdELGVBQWU7UUFDcEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVyxZQUFZWCxRQUFnQixFQUFFRSxRQUFnQixFQUFFVSxRQUFpQixFQUFFQyxXQUFvQjtJQUMzR2YsUUFBUWdCLEdBQUcsQ0FBQyw2QkFBNkI7UUFBRWQ7UUFBVUU7UUFBVVU7UUFBVUM7SUFBWTtJQUNyRixPQUFPMUIsU0FBOEMscUJBQXFCO1FBQ3hFaUIsUUFBUTtRQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7WUFDbkJQO1lBQ0FFO1lBQ0FVLFVBQVVBLFlBQVk7WUFDdEJDO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sZUFBZUUsZUFBZWYsUUFBZ0I7SUFDbkQsT0FBT2IsU0FBYyxnQkFBeUIsT0FBVGE7QUFDdkM7QUFFTyxlQUFlZ0I7SUFDcEIsT0FBTzdCLFNBQWM7QUFDdkI7QUFFTyxNQUFNOEIsdUJBQXVCLE9BQ2xDakIsVUFDQWtCLE9BQ0FMLGFBQ0FEO0lBRUEsSUFBSTtRQUNGLE1BQU1PLFdBQVcsTUFBTTVCLE1BQU0sR0FBZ0IsT0FBYlIsY0FBYSxzQkFBb0I7WUFDL0RxQixRQUFRO1lBQ1JaLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FhLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJQO2dCQUNBRSxVQUFVZ0I7Z0JBQ1ZOLFVBQVVBLFlBQVk7Z0JBQ3RCQztZQUNGO1FBQ0Y7UUFFQSxNQUFNakIsT0FBTyxNQUFNdUIsU0FBU3hCLElBQUk7UUFFaEMsSUFBSSxDQUFDd0IsU0FBUzFCLEVBQUUsRUFBRTtZQUNoQixPQUFPO2dCQUNMRyxNQUFNO2dCQUNORixPQUFPRSxLQUFLRixLQUFLLElBQUk7WUFDdkI7UUFDRjtRQUVBLE9BQU87WUFDTEU7WUFDQUYsT0FBTztRQUNUO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RJLFFBQVFKLEtBQUssQ0FBQyxjQUFjQTtRQUM1QixPQUFPO1lBQ0xFLE1BQU07WUFDTkYsT0FBTztRQUNUO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvc2VydmljZXMvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5cbnR5cGUgQVBJUmVzcG9uc2U8VD4gPSB7XG4gIGRhdGE6IFQgfCBudWxsO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQVBJPFQ+KFxuICBlbmRwb2ludDogc3RyaW5nLCBcbiAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuKTogUHJvbWlzZTxBUElSZXNwb25zZTxUPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLmRldGFpbCB8fCAnQW4gZXJyb3Igb2NjdXJyZWQnIH07XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTmV0d29yayBlcnJvcicgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENoYXRNZXNzYWdlKFxuICB1c2VybmFtZTogc3RyaW5nLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIHNjZW5hcmlvPzogc3RyaW5nLFxuICBhaVJvbGU/OiBzdHJpbmdcbikge1xuICByZXR1cm4gZmV0Y2hBUEk8e3Jlc3BvbnNlOiBzdHJpbmcsIGF1ZGlvX3VybDogc3RyaW5nfT4oJy9hcGkvY2hhdCcsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGFpX3JvbGU6IGFpUm9sZSxcbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdWdnZXN0aW9ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7c3VnZ2VzdGlvbnM6IHN0cmluZ1tdfT4oJy9hcGkvc3VnZ2VzdGlvbnMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYW5ndWFnZUxlc3NvbnModXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8e2NyaXRpcXVlOiBzdHJpbmcsIGxlc3NvbnM6IHN0cmluZ1tdfT4oJy9hcGkvbGVzc29uJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0U2NlbmFyaW8odXNlcm5hbWU6IHN0cmluZywgc2NlbmFyaW86IHN0cmluZywgbGFuZ3VhZ2U/OiBzdHJpbmcsIGRlc2NyaXB0aW9uPzogc3RyaW5nKSB7XG4gIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBzZXRTY2VuYXJpbyB3aXRoOlwiLCB7IHVzZXJuYW1lLCBzY2VuYXJpbywgbGFuZ3VhZ2UsIGRlc2NyaXB0aW9uIH0pXG4gIHJldHVybiBmZXRjaEFQSTx7c2NlbmFyaW86IHN0cmluZywgYWlfcm9sZTogc3RyaW5nfT4oJy9hcGkvc2NlbmFyaW8vc2V0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICB1c2VybmFtZSwgXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSB8fCBcIm5vbmVcIixcbiAgICAgIGRlc2NyaXB0aW9uXG4gICAgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGUodXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PihgL2FwaS9wcm9maWxlLyR7dXNlcm5hbWV9YCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREZWZhdWx0U2NlbmFyaW9zKCkge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PignL2FwaS9zY2VuYXJpb3MnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbVNjZW5hcmlvID0gYXN5bmMgKFxuICB1c2VybmFtZTogc3RyaW5nLCBcbiAgdGl0bGU6IHN0cmluZywgXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGxhbmd1YWdlPzogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3NjZW5hcmlvL3NldGAsIHsgXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBzY2VuYXJpbzogdGl0bGUsICBcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGN1c3RvbSBzY2VuYXJpbycsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluJyxcbiAgICB9O1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZmV0Y2hBUEkiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yIiwianNvbiIsImRhdGEiLCJkZXRhaWwiLCJjb25zb2xlIiwic2VuZENoYXRNZXNzYWdlIiwidXNlcm5hbWUiLCJtZXNzYWdlIiwic2NlbmFyaW8iLCJhaVJvbGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFpX3JvbGUiLCJnZXRTdWdnZXN0aW9ucyIsImdldExhbmd1YWdlTGVzc29ucyIsInNldFNjZW5hcmlvIiwibGFuZ3VhZ2UiLCJkZXNjcmlwdGlvbiIsImxvZyIsImdldFVzZXJQcm9maWxlIiwiZ2V0RGVmYXVsdFNjZW5hcmlvcyIsImNyZWF0ZUN1c3RvbVNjZW5hcmlvIiwidGl0bGUiLCJyZXNwb25zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/api.ts\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/scenario/custom/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    try {\n        const res = await fetch(\"\".concat(API_BASE_URL).concat(endpoint), {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(\"/api/profile/\".concat(username));\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/api/scenario/set\"), {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9hcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0FBT3hELGVBQWVDLFNBQ2JDLFFBQWdCO1FBQ2hCQyxVQUFBQSxpRUFBdUIsQ0FBQztJQUV4QixJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNQyxNQUFNLEdBQWtCSCxPQUFmTCxjQUF3QixPQUFUSyxXQUFZO1lBQ3BELEdBQUdDLE9BQU87WUFDVkcsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLEdBQUdILFFBQVFHLE9BQU87WUFDcEI7UUFDRjtRQUVBLElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFO1lBQ1gsTUFBTUMsUUFBUSxNQUFNSixJQUFJSyxJQUFJO1lBQzVCLE9BQU87Z0JBQUVDLE1BQU07Z0JBQU1GLE9BQU9BLE1BQU1HLE1BQU0sSUFBSTtZQUFvQjtRQUNsRTtRQUVBLE1BQU1ELE9BQU8sTUFBTU4sSUFBSUssSUFBSTtRQUMzQixPQUFPO1lBQUVDO1lBQU1GLE9BQU87UUFBSztJQUM3QixFQUFFLE9BQU9BLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE9BQU87WUFBRUUsTUFBTTtZQUFNRixPQUFPO1FBQWdCO0lBQzlDO0FBQ0Y7QUFFTyxlQUFlSyxnQkFDcEJDLFFBQWdCLEVBQ2hCQyxPQUFlLEVBQ2ZDLFFBQWlCLEVBQ2pCQyxNQUFlO0lBRWYsT0FBT2hCLFNBQWdELGFBQWE7UUFDbEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUNuQlA7WUFDQUM7WUFDQUM7WUFDQU0sU0FBU0w7UUFDWDtJQUNGO0FBQ0Y7QUFFTyxlQUFlTSxlQUFlVCxRQUFnQjtJQUNuRCxPQUFPYixTQUFrQyxvQkFBb0I7UUFDM0RpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVSxtQkFBbUJWLFFBQWdCO0lBQ3ZELE9BQU9iLFNBQWdELGVBQWU7UUFDcEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVyxZQUFZWCxRQUFnQixFQUFFRSxRQUFnQixFQUFFVSxRQUFpQixFQUFFQyxXQUFvQjtJQUMzR2YsUUFBUWdCLEdBQUcsQ0FBQyw2QkFBNkI7UUFBRWQ7UUFBVUU7UUFBVVU7UUFBVUM7SUFBWTtJQUNyRixPQUFPMUIsU0FBOEMscUJBQXFCO1FBQ3hFaUIsUUFBUTtRQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7WUFDbkJQO1lBQ0FFO1lBQ0FVLFVBQVVBLFlBQVk7WUFDdEJDO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sZUFBZUUsZUFBZWYsUUFBZ0I7SUFDbkQsT0FBT2IsU0FBYyxnQkFBeUIsT0FBVGE7QUFDdkM7QUFFTyxlQUFlZ0I7SUFDcEIsT0FBTzdCLFNBQWM7QUFDdkI7QUFFTyxNQUFNOEIsdUJBQXVCLE9BQ2xDakIsVUFDQWtCLE9BQ0FMLGFBQ0FEO0lBRUEsSUFBSTtRQUNGLE1BQU1PLFdBQVcsTUFBTTVCLE1BQU0sR0FBZ0IsT0FBYlIsY0FBYSxzQkFBb0I7WUFDL0RxQixRQUFRO1lBQ1JaLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FhLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJQO2dCQUNBRSxVQUFVZ0I7Z0JBQ1ZOLFVBQVVBLFlBQVk7Z0JBQ3RCQztZQUNGO1FBQ0Y7UUFFQSxNQUFNakIsT0FBTyxNQUFNdUIsU0FBU3hCLElBQUk7UUFFaEMsSUFBSSxDQUFDd0IsU0FBUzFCLEVBQUUsRUFBRTtZQUNoQixPQUFPO2dCQUNMRyxNQUFNO2dCQUNORixPQUFPRSxLQUFLRixLQUFLLElBQUk7WUFDdkI7UUFDRjtRQUVBLE9BQU87WUFDTEU7WUFDQUYsT0FBTztRQUNUO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RJLFFBQVFKLEtBQUssQ0FBQyxjQUFjQTtRQUM1QixPQUFPO1lBQ0xFLE1BQU07WUFDTkYsT0FBTztRQUNUO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvc2VydmljZXMvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5cbnR5cGUgQVBJUmVzcG9uc2U8VD4gPSB7XG4gIGRhdGE6IFQgfCBudWxsO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQVBJPFQ+KFxuICBlbmRwb2ludDogc3RyaW5nLCBcbiAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuKTogUHJvbWlzZTxBUElSZXNwb25zZTxUPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLmRldGFpbCB8fCAnQW4gZXJyb3Igb2NjdXJyZWQnIH07XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTmV0d29yayBlcnJvcicgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENoYXRNZXNzYWdlKFxuICB1c2VybmFtZTogc3RyaW5nLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIHNjZW5hcmlvPzogc3RyaW5nLFxuICBhaVJvbGU/OiBzdHJpbmdcbikge1xuICByZXR1cm4gZmV0Y2hBUEk8e3Jlc3BvbnNlOiBzdHJpbmcsIGF1ZGlvX3VybDogc3RyaW5nfT4oJy9hcGkvY2hhdCcsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGFpX3JvbGU6IGFpUm9sZSxcbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdWdnZXN0aW9ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7c3VnZ2VzdGlvbnM6IHN0cmluZ1tdfT4oJy9hcGkvc3VnZ2VzdGlvbnMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYW5ndWFnZUxlc3NvbnModXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8e2NyaXRpcXVlOiBzdHJpbmcsIGxlc3NvbnM6IHN0cmluZ1tdfT4oJy9hcGkvbGVzc29uJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0U2NlbmFyaW8odXNlcm5hbWU6IHN0cmluZywgc2NlbmFyaW86IHN0cmluZywgbGFuZ3VhZ2U/OiBzdHJpbmcsIGRlc2NyaXB0aW9uPzogc3RyaW5nKSB7XG4gIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBzZXRTY2VuYXJpbyB3aXRoOlwiLCB7IHVzZXJuYW1lLCBzY2VuYXJpbywgbGFuZ3VhZ2UsIGRlc2NyaXB0aW9uIH0pXG4gIHJldHVybiBmZXRjaEFQSTx7c2NlbmFyaW86IHN0cmluZywgYWlfcm9sZTogc3RyaW5nfT4oJy9hcGkvc2NlbmFyaW8vc2V0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICB1c2VybmFtZSwgXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSB8fCBcIm5vbmVcIixcbiAgICAgIGRlc2NyaXB0aW9uXG4gICAgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGUodXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PihgL2FwaS9wcm9maWxlLyR7dXNlcm5hbWV9YCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREZWZhdWx0U2NlbmFyaW9zKCkge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PignL2FwaS9zY2VuYXJpb3MnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbVNjZW5hcmlvID0gYXN5bmMgKFxuICB1c2VybmFtZTogc3RyaW5nLCBcbiAgdGl0bGU6IHN0cmluZywgXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGxhbmd1YWdlPzogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3NjZW5hcmlvL3NldGAsIHsgXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBzY2VuYXJpbzogdGl0bGUsICBcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGN1c3RvbSBzY2VuYXJpbycsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluJyxcbiAgICB9O1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZmV0Y2hBUEkiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yIiwianNvbiIsImRhdGEiLCJkZXRhaWwiLCJjb25zb2xlIiwic2VuZENoYXRNZXNzYWdlIiwidXNlcm5hbWUiLCJtZXNzYWdlIiwic2NlbmFyaW8iLCJhaVJvbGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFpX3JvbGUiLCJnZXRTdWdnZXN0aW9ucyIsImdldExhbmd1YWdlTGVzc29ucyIsInNldFNjZW5hcmlvIiwibGFuZ3VhZ2UiLCJkZXNjcmlwdGlvbiIsImxvZyIsImdldFVzZXJQcm9maWxlIiwiZ2V0RGVmYXVsdFNjZW5hcmlvcyIsImNyZWF0ZUN1c3RvbVNjZW5hcmlvIiwidGl0bGUiLCJyZXNwb25zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/api.ts\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/roleplay/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _server_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../server/firebase */ \"(app-pages-browser)/./server/firebase.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/services/api */ \"(app-pages-browser)/./src/services/api.ts\");\n/* harmony import */ var _components_Dictionary__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Dictionary */ \"(app-pages-browser)/./src/components/Dictionary.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst RoleplayPage = ()=>{\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showProfileMenu, setShowProfileMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [userLanguage, setUserLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('en');\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [scenario, setScenario] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showModal, setShowModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [suggestionList, setSuggestionList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const profileMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RoleplayPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"RoleplayPage.useEffect\"], [\n        messages\n    ]);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    const initializeConversation = async (username)=>{\n        try {\n            // Call backend to set scenario & get response\n            // const scenarioResponse = await setScenario(username);\n            // Fetch initial response from backend\n            const response = await fetch(\"http://localhost:8000/api/get_scenario_response\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    username\n                })\n            });\n            const data = await response.json();\n            console.log(\"LLM Response:\", data.response);\n            // Set initial message from backend\n            setMessages([\n                {\n                    text: data.response,\n                    sender: \"bot\"\n                }\n            ]);\n            // Fetch initial suggestions\n            fetchSuggestions(username);\n        } catch (error) {\n            console.error(\"Error initializing conversation:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RoleplayPage.useEffect\": ()=>{\n            setLoading(true);\n            const fetchUserAndScenario = {\n                \"RoleplayPage.useEffect.fetchUserAndScenario\": async ()=>{\n                    try {\n                        // Load scenario from localStorage\n                        const savedScenario = localStorage.getItem(\"currentScenario\");\n                        if (!savedScenario) {\n                            alert(\"No scenario selected. Please select a scenario first.\");\n                            router.push(\"/scenario\");\n                            return;\n                        }\n                        const parsedScenario = JSON.parse(savedScenario);\n                        setScenario(parsedScenario);\n                        // Authenticate user\n                        const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_5__.onAuthStateChanged)(_server_firebase__WEBPACK_IMPORTED_MODULE_4__.auth, {\n                            \"RoleplayPage.useEffect.fetchUserAndScenario.unsubscribe\": async (currentUser)=>{\n                                setUser(currentUser);\n                                // Get language preference (from localStorage or backend)\n                                const savedLocale = localStorage.getItem(\"locale\") || \"en\";\n                                setUserLanguage(savedLocale);\n                                if (currentUser) {\n                                    var _currentUser_email;\n                                    const username = currentUser.displayName || ((_currentUser_email = currentUser.email) === null || _currentUser_email === void 0 ? void 0 : _currentUser_email.split(\"@\")[0]) || \"Guest\";\n                                    console.log(\"ðŸ‘¤ User authenticated:\", username);\n                                    // Initialize conversation (calls backend for scenario & LLM response)\n                                    await initializeConversation(username);\n                                }\n                                setLoading(false);\n                            }\n                        }[\"RoleplayPage.useEffect.fetchUserAndScenario.unsubscribe\"]);\n                        return ({\n                            \"RoleplayPage.useEffect.fetchUserAndScenario\": ()=>unsubscribe()\n                        })[\"RoleplayPage.useEffect.fetchUserAndScenario\"];\n                    } catch (error) {\n                        console.error(\"Error loading user scenario:\", error);\n                        alert(\"There was a problem loading the scenario. Please try again.\");\n                        router.push(\"/scenario\");\n                    }\n                }\n            }[\"RoleplayPage.useEffect.fetchUserAndScenario\"];\n            fetchUserAndScenario();\n        }\n    }[\"RoleplayPage.useEffect\"], []);\n    // // Initialize scenario conversation with backend\n    // const initializeConversation = async (username: string, scenarioTitle: string) => {\n    //   try {\n    //     const scenarioResponse = await setScenario(username, scenarioTitle);\n    //     fetchSuggestions(username); // Initial suggestions\n    //   } catch (error) {\n    //     console.error(\"Error initializing conversation:\", error);\n    //   }\n    // };\n    // useEffect(() => {\n    //   // Load the scenario from localStorage\n    //   const savedScenario = localStorage.getItem('currentScenario');\n    //   if (!savedScenario) {\n    //     // If no scenario is found, redirect back to scenario selection\n    //     alert(\"No scenario selected. Please select a scenario first.\");\n    //     router.push('/scenario');\n    //     return;\n    //   }\n    //   try {\n    //     const parsedScenario = JSON.parse(savedScenario);\n    //     setScenario(parsedScenario);\n    //     const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n    //       setUser(currentUser);\n    //       const savedLocale = localStorage.getItem('locale') || 'en';\n    //       setUserLanguage(savedLocale);\n    //       if (currentUser) {\n    //         const username = currentUser.displayName || currentUser.email?.split('@')[0] || 'Guest';\n    //         await initializeConversation(username, parsedScenario.title);\n    //         setMessages([\n    //           { \n    //             text: `Hello${currentUser.displayName ? ', ' + currentUser.displayName : ''}! I'll be your conversation partner for this ${parsedScenario.title} scenario. How can I help you today?`, \n    //             sender: 'bot' \n    //           }\n    //         ]);\n    //       } else {\n    //         setMessages([\n    //           { \n    //             text: `Welcome to the ${parsedScenario.title} scenario! I'll be your conversation partner. How would you like to start?`, \n    //             sender: 'bot' \n    //           }\n    //         ]);\n    //       }\n    //       setLoading(false);\n    //     });\n    //     return () => unsubscribe();\n    //   } catch (error) {\n    //     console.error(\"Error parsing scenario:\", error);\n    //     alert(\"There was a problem loading the scenario. Please try again.\");\n    //     router.push('/scenario');\n    //   }\n    // }, []);\n    // Fetch updated conversation suggestions from backend\n    const fetchSuggestions = async (username)=>{\n        try {\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.getSuggestions)(username);\n            if (response && response.data && !response.error) {\n                setSuggestionList(response.data.suggestions);\n            } else if (response && response.error) {\n                console.error(\"Error fetching suggestions:\", response.error);\n            }\n        } catch (error) {\n            console.error(\"Error fetching suggestions:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"RoleplayPage.useEffect\": ()=>{\n            function handleClickOutside(event) {\n                if (profileMenuRef.current && !profileMenuRef.current.contains(event.target)) {\n                    setShowProfileMenu(false);\n                }\n            }\n            document.addEventListener(\"mousedown\", handleClickOutside);\n            return ({\n                \"RoleplayPage.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClickOutside)\n            })[\"RoleplayPage.useEffect\"];\n        }\n    }[\"RoleplayPage.useEffect\"], []);\n    const handleBackClick = ()=>{\n        router.push('/scenario');\n    };\n    const navigateToDashboard = ()=>{\n        router.push('/dashboard');\n        setShowProfileMenu(false);\n    };\n    const handleInputChange = (event)=>{\n        setInputText(event.target.value);\n    };\n    const handleKeyPress = (event)=>{\n        if (event.key === 'Enter') {\n            handleSendMessage();\n        }\n    };\n    // Play audio when speaker button is clicked\n    const playMessageAudio = (messageId, audioUrl)=>{\n        if (!audioUrl) return;\n        // Stop any currently playing audio\n        if (audioRef.current) {\n            audioRef.current.pause();\n            audioRef.current.currentTime = 0;\n            setIsPlaying(null);\n        }\n        // If clicking on the currently playing audio, just stop it\n        if (isPlaying === \"message-\".concat(messageId)) {\n            setIsPlaying(null);\n            return;\n        }\n        // Create and play new audio\n        const audio = new Audio(\"http://localhost:8000\".concat(audioUrl));\n        audioRef.current = audio;\n        // Set the currently playing message ID\n        setIsPlaying(\"message-\".concat(messageId));\n        // When audio ends, reset the playing state\n        audio.addEventListener('ended', ()=>{\n            setIsPlaying(null);\n        });\n        audio.play().catch((e)=>{\n            console.error(\"Audio playback error:\", e);\n            setIsPlaying(null);\n        });\n    };\n    const handleSendMessage = async ()=>{\n        if (!inputText.trim() || !scenario) return;\n        const userMessage = inputText.trim();\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    text: userMessage,\n                    sender: 'user'\n                }\n            ]);\n        setInputText('');\n        setIsLoading(true);\n        try {\n            var _user_email;\n            const username = user ? user.displayName || ((_user_email = user.email) === null || _user_email === void 0 ? void 0 : _user_email.split('@')[0]) || 'Guest' : 'Guest';\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_6__.sendChatMessage)(username, userMessage, scenario.title, undefined, userLanguage);\n            if (response && response.error) {\n                throw new Error(response.error);\n            }\n            if (response && response.data) {\n                setMessages((prev)=>[\n                        ...prev,\n                        {\n                            text: response.data.response,\n                            sender: 'bot',\n                            audio_url: response.data.audio_url\n                        }\n                    ]);\n                if (response.data.audio_url) {\n                    // Click the speaker button to play message audio\n                    playMessageAudio(messages.length, response.data.audio_url);\n                }\n            }\n            // Fetch updated suggestions after message\n            await fetchSuggestions(username);\n        } catch (error) {\n            console.error('Error sending message:', error);\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        text: \"Sorry, I'm having trouble connecting. Please try again.\",\n                        sender: 'bot'\n                    }\n                ]);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleEndScenario = ()=>{\n        setShowModal(true);\n    };\n    const handleSaveConversation = async ()=>{\n        try {\n            var _user_email;\n            if (!scenario) return;\n            const scenarioType = scenario.title.toLowerCase().replace(/\\s+/g, '_');\n            const savedConversations = JSON.parse(localStorage.getItem(scenarioType) || '[]');\n            savedConversations.push({\n                id: Date.now(),\n                date: new Date().toISOString(),\n                scenario: scenario.title,\n                messages: messages,\n                userName: user ? user.displayName || ((_user_email = user.email) === null || _user_email === void 0 ? void 0 : _user_email.split('@')[0]) || 'Guest' : 'Guest',\n                language: userLanguage\n            });\n            localStorage.setItem(scenarioType, JSON.stringify(savedConversations));\n            router.push('/scenario');\n        } catch (error) {\n            console.error(\"Error saving conversation:\", error);\n            router.push('/scenario');\n        }\n    };\n    const handleDiscardConversation = ()=>{\n        router.push('/scenario');\n    };\n    // Apply suggestion to input\n    const handleSuggestionClick = (suggestion)=>{\n        setInputText(suggestion);\n    };\n    // Toggle voice recording (placeholder)\n    const toggleRecording = ()=>{\n        setIsRecording(!isRecording);\n    // Add actual recording logic here\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            style: {\n                backgroundImage: \"url('/icons/background1.jpg')\",\n                backgroundSize: \"cover\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#48d1cc]\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 363,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n            lineNumber: 361,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-900 text-white relative\",\n        style: {\n            backgroundImage: \"url('/icons/background1.jpg')\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-8 left-8 z-10\",\n                ref: profileMenuRef,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setShowProfileMenu(!showProfileMenu),\n                        className: \"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center overflow-hidden\",\n                        children: (user === null || user === void 0 ? void 0 : user.photoURL) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            src: user.photoURL,\n                            alt: \"Profile\",\n                            width: 40,\n                            height: 40,\n                            className: \"object-cover\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 378,\n                            columnNumber: 13\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full bg-[#48d1cc] flex items-center justify-center text-white font-semibold text-sm\",\n                            children: (user === null || user === void 0 ? void 0 : user.displayName) ? user.displayName.charAt(0).toUpperCase() : (user === null || user === void 0 ? void 0 : user.email) ? user.email.charAt(0).toUpperCase() : \"G\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 386,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                        lineNumber: 373,\n                        columnNumber: 9\n                    }, undefined),\n                    showProfileMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-12 left-0 bg-white rounded-lg shadow-lg py-2 min-w-[180px] text-gray-800 z-20\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-medium\",\n                                        children: (user === null || user === void 0 ? void 0 : user.displayName) || \"Guest\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 396,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    (user === null || user === void 0 ? void 0 : user.email) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: user.email\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 398,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 395,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-4 py-2 border-b border-gray-200\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: [\n                                        \"Language: \",\n                                        userLanguage === 'en' ? 'English' : userLanguage === 'zh-CN' ? 'Chinese' : 'Japanese'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 402,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 401,\n                                columnNumber: 13\n                            }, undefined),\n                            user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: navigateToDashboard,\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 410,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 409,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Profile Dashboard\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 405,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>router.push('/login'),\n                                className: \"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-4 h-4 mr-2\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: \"2\",\n                                            d: \"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 420,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 419,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Sign In\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                lineNumber: 415,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                        lineNumber: 394,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 372,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleBackClick,\n                className: \"absolute top-8 left-24 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    src: \"/icons/back.png\",\n                    alt: \"Back\",\n                    width: 24,\n                    height: 24,\n                    className: \"text-white\"\n                }, void 0, false, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                    lineNumber: 433,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 429,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleEndScenario,\n                className: \"absolute top-8 right-8 bg-[#20b2aa] hover:bg-[#008080] px-6 py-2 rounded-lg transition-colors duration-200\",\n                children: \"End Scenario\"\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 442,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"pt-24 px-4 max-w-6xl mx-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[65%]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-[70vh] bg-[#f0f8ff] rounded-xl p-6 overflow-y-auto mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-col space-y-4\",\n                                        children: [\n                                            messages.map((message, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex \".concat(message.sender === 'user' ? 'justify-end' : 'justify-start'),\n                                                    children: [\n                                                        message.sender === 'bot' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-8 h-8 mr-2 flex-shrink-0 rounded-full overflow-hidden\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                src: \"/icons/robot.jpg\",\n                                                                alt: \"Robot\",\n                                                                width: 32,\n                                                                height: 32,\n                                                                className: \"object-cover\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                lineNumber: 462,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 461,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"max-w-sm rounded-lg px-4 py-2 \".concat(message.sender === 'user' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-800', \" group relative\"),\n                                                            children: [\n                                                                message.text,\n                                                                message.sender === 'bot' && message.audio_url && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>playMessageAudio(index, message.audio_url),\n                                                                    className: \"absolute -right-10 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors\",\n                                                                    \"aria-label\": \"Play message audio\",\n                                                                    children: isPlaying === \"message-\".concat(index) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"animate-pulse\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                            src: \"/icons/speaker.jpg\",\n                                                                            alt: \"Speaker\",\n                                                                            width: 24,\n                                                                            height: 24\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                            lineNumber: 489,\n                                                                            columnNumber: 31\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                        lineNumber: 488,\n                                                                        columnNumber: 29\n                                                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                        src: \"/icons/speaker.jpg\",\n                                                                        alt: \"Speaker\",\n                                                                        width: 24,\n                                                                        height: 24\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                        lineNumber: 492,\n                                                                        columnNumber: 29\n                                                                    }, undefined)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                    lineNumber: 482,\n                                                                    columnNumber: 25\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 471,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        message.sender === 'user' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-8 h-8 ml-2 flex-shrink-0 rounded-full overflow-hidden bg-blue-100 flex items-center justify-center\",\n                                                            children: (user === null || user === void 0 ? void 0 : user.photoURL) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                                src: user.photoURL,\n                                                                alt: \"User\",\n                                                                width: 32,\n                                                                height: 32,\n                                                                className: \"object-cover\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                lineNumber: 500,\n                                                                columnNumber: 27\n                                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-full h-full bg-[#48d1cc] flex items-center justify-center text-white font-semibold text-xs\",\n                                                                children: (user === null || user === void 0 ? void 0 : user.displayName) ? user.displayName.charAt(0).toUpperCase() : (user === null || user === void 0 ? void 0 : user.email) ? user.email.charAt(0).toUpperCase() : \"U\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                                lineNumber: 508,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 498,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 456,\n                                                    columnNumber: 19\n                                                }, undefined)),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                ref: messagesEndRef\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 517,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 454,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 453,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: toggleRecording,\n                                            className: \"\".concat(isRecording ? 'bg-red-500 hover:bg-red-600' : 'bg-gray-200 hover:bg-gray-300', \" px-3 py-3 rounded-lg transition-colors duration-200 flex items-center justify-center relative\"),\n                                            \"aria-label\": \"Start voice recording\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    className: \"h-6 w-6\",\n                                                    fill: \"none\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    stroke: isRecording ? \"white\" : \"black\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                        lineNumber: 532,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 531,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                isRecording && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"absolute top-0 right-0 flex h-3 w-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 536,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"relative inline-flex rounded-full h-3 w-3 bg-red-500\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 537,\n                                                            columnNumber: 21\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 535,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 522,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"text\",\n                                            value: inputText,\n                                            onChange: handleInputChange,\n                                            onKeyPress: handleKeyPress,\n                                            placeholder: isRecording ? \"Listening...\" : \"Type your message...\",\n                                            className: \"flex-1 bg-white text-black px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 \".concat(isRecording ? 'animate-pulse border-2 border-red-400' : ''),\n                                            disabled: isRecording || isLoading\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 542,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleSendMessage,\n                                            disabled: isRecording || isLoading || !inputText.trim(),\n                                            className: \"bg-[#20b2aa] hover:bg-[#008080] px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center disabled:opacity-50\",\n                                            children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 560,\n                                                columnNumber: 19\n                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                src: \"/icons/send.png\",\n                                                alt: \"Send\",\n                                                width: 24,\n                                                height: 24\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 562,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 554,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 521,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 452,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[35%] flex flex-col gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-[34vh] bg-[#f0f8ff] rounded-xl p-6 overflow-y-auto\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-m font-medium text-gray-800 mb-3\",\n                                            children: \"Suggestions\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 572,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        suggestionList.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: suggestionList.map((suggestion, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"w-full bg-white rounded-lg p-3 shadow-sm hover:bg-gray-50 transition-colors text-left flex items-center\",\n                                                    onClick: ()=>handleSuggestionClick(suggestion),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"flex-shrink-0 w-6 h-6 bg-[#20b2aa] rounded-full flex items-center justify-center text-white text-xs mr-3\",\n                                                            children: index + 1\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 581,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-gray-700\",\n                                                            children: suggestion\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                            lineNumber: 584,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                    lineNumber: 576,\n                                                    columnNumber: 21\n                                                }, undefined))\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 574,\n                                            columnNumber: 17\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 rounded-lg p-4 text-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-500\",\n                                                children: \"Suggestions will appear here after you start chatting.\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                                lineNumber: 590,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 589,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 571,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-[34vh] bg-[#f0f8ff] rounded-xl p-6 overflow-y-auto mb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-m font-medium text-gray-800 mb-3\",\n                                            children: \"Dictionary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 597,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Dictionary__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                            lineNumber: 598,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 596,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-0\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push('/lesson'),\n                                        className: \"w-full bg-[#20b2aa] hover:bg-[#008080] py-3 rounded-lg text-white font-medium transition-colors\",\n                                        children: \"Go to Lessons\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                        lineNumber: 603,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 602,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 569,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                    lineNumber: 450,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 449,\n                columnNumber: 7\n            }, undefined),\n            showModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-xl p-6 max-w-md w-full mx-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-xl font-bold text-gray-800 mb-4\",\n                            children: \"End Scenario\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 617,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600 mb-6\",\n                            children: \"Your practice session will be closed. Do you want to save this conversation to your profile?\"\n                        }, void 0, false, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 618,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 justify-end\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleDiscardConversation,\n                                    className: \"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-colors\",\n                                    children: \"Don't Save\"\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 621,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSaveConversation,\n                                    className: \"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors\",\n                                    children: \"Save\"\n                                }, void 0, false, {\n                                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                                    lineNumber: 627,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                            lineNumber: 620,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                    lineNumber: 616,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n                lineNumber: 615,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/hyang/CS239_new/NewUI+Backend/NewUI/src/app/roleplay/page.tsx\",\n        lineNumber: 369,\n        columnNumber: 5\n    }, undefined);\n};\n_s(RoleplayPage, \"fANFO5dSlYyXonWO2Eh02d0WKSk=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = RoleplayPage;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoleplayPage);\nvar _c;\n$RefreshReg$(_c, \"RoleplayPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcm9sZXBsYXkvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQzJEO0FBQzVCO0FBQ2E7QUFDSTtBQUNTO0FBQ3FCO0FBQzdCO0FBZ0JqRCxNQUFNVyxlQUFlOztJQUNuQixNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR1osK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDYSxTQUFTQyxXQUFXLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2UsaUJBQWlCQyxtQkFBbUIsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ2lCLGNBQWNDLGdCQUFnQixHQUFHbEIsK0NBQVFBLENBQVM7SUFDekQsTUFBTSxDQUFDbUIsV0FBV0MsYUFBYSxHQUFHcEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDcUIsVUFBVUMsWUFBWSxHQUFHdEIsK0NBQVFBLENBQVksRUFBRTtJQUN0RCxNQUFNLENBQUN1QixXQUFXQyxhQUFhLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN5QixVQUFVQyxZQUFZLEdBQUcxQiwrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDMkIsV0FBV0MsYUFBYSxHQUFHNUIsK0NBQVFBLENBQWdCO0lBQzFELE1BQU0sQ0FBQzZCLFdBQVdDLGFBQWEsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQytCLGFBQWFDLGVBQWUsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2lDLGdCQUFnQkMsa0JBQWtCLEdBQUdsQywrQ0FBUUEsQ0FBVyxFQUFFO0lBRWpFLE1BQU1tQyxpQkFBaUJqQyw2Q0FBTUEsQ0FBaUI7SUFDOUMsTUFBTWtDLGlCQUFpQmxDLDZDQUFNQSxDQUFpQjtJQUM5QyxNQUFNbUMsV0FBV25DLDZDQUFNQSxDQUEwQjtJQUNqRCxNQUFNb0MsU0FBU2xDLDBEQUFTQTtJQUV4QkgsZ0RBQVNBO2tDQUFDO1lB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L0IsOERBQUNyQjtvREFFQ0wsV0FBVTtvREFDVk0sU0FBUyxJQUFNVixzQkFBc0JDOztzRUFFckMsOERBQUNnQzs0REFBSzdCLFdBQVU7c0VBQ2IwQixRQUFROzs7Ozs7c0VBRVgsOERBQUNaOzREQUFFZCxXQUFVO3NFQUFpQkg7Ozs7Ozs7bURBUHpCNkI7Ozs7Ozs7OztzRUFZWCw4REFBQzNCOzRDQUFJQyxXQUFVO3NEQUNiLDRFQUFDYztnREFBRWQsV0FBVTswREFBZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7OzhDQU1uQyw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDb0M7NENBQUdwQyxXQUFVO3NEQUF3Qzs7Ozs7O3NEQUN0RCw4REFBQ3JILDhEQUFVQTs7Ozs7Ozs7Ozs7OENBSWIsOERBQUNvSDtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0s7d0NBQ0NDLFNBQVMsSUFBTTlGLE9BQU8yQixJQUFJLENBQUM7d0NBQzNCNkQsV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVFSakcsMkJBQ0MsOERBQUNnRztnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDb0M7NEJBQUdwQyxXQUFVO3NDQUF1Qzs7Ozs7O3NDQUNyRCw4REFBQ2M7NEJBQUVkLFdBQVU7c0NBQXFCOzs7Ozs7c0NBRWxDLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNLO29DQUNDQyxTQUFTWDtvQ0FDVEssV0FBVTs4Q0FDWDs7Ozs7OzhDQUdELDhEQUFDSztvQ0FDQ0MsU0FBU3hCO29DQUNUa0IsV0FBVTs4Q0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTZjtHQXZtQk1wSDs7UUFpQldOLHNEQUFTQTs7O0tBakJwQk07QUF5bUJOLGlFQUFlQSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvYXBwL3JvbGVwbGF5L3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL2ZpcmViYXNlXCI7XG5pbXBvcnQgeyBvbkF1dGhTdGF0ZUNoYW5nZWQsIFVzZXIgfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0IHsgc2VuZENoYXRNZXNzYWdlLCBnZXRTdWdnZXN0aW9ucywgc2V0U2NlbmFyaW8gfSBmcm9tICdAL3NlcnZpY2VzL2FwaSc7XG5pbXBvcnQgRGljdGlvbmFyeSBmcm9tICdAL2NvbXBvbmVudHMvRGljdGlvbmFyeSc7XG5cbmludGVyZmFjZSBTY2VuYXJpbyB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgY3VzdG9tOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgTWVzc2FnZSB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2VuZGVyOiAndXNlcicgfCAnYm90JztcbiAgYXVkaW9fdXJsPzogc3RyaW5nO1xufVxuXG5jb25zdCBSb2xlcGxheVBhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzaG93UHJvZmlsZU1lbnUsIHNldFNob3dQcm9maWxlTWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt1c2VyTGFuZ3VhZ2UsIHNldFVzZXJMYW5ndWFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdlbicpO1xuICBjb25zdCBbaW5wdXRUZXh0LCBzZXRJbnB1dFRleHRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2NlbmFyaW8sIHNldFNjZW5hcmlvXSA9IHVzZVN0YXRlPFNjZW5hcmlvIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nob3dNb2RhbCwgc2V0U2hvd01vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzUmVjb3JkaW5nLCBzZXRJc1JlY29yZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdWdnZXN0aW9uTGlzdCwgc2V0U3VnZ2VzdGlvbkxpc3RdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgXG4gIGNvbnN0IHByb2ZpbGVNZW51UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKTtcbiAgfSwgW21lc3NhZ2VzXSk7XG4gIFxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICB9O1xuICBjb25zdCBpbml0aWFsaXplQ29udmVyc2F0aW9uID0gYXN5bmMgKHVzZXJuYW1lOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQ2FsbCBiYWNrZW5kIHRvIHNldCBzY2VuYXJpbyAmIGdldCByZXNwb25zZVxuICAgICAgLy8gY29uc3Qgc2NlbmFyaW9SZXNwb25zZSA9IGF3YWl0IHNldFNjZW5hcmlvKHVzZXJuYW1lKTtcbiAgICAgIFxuICAgICAgLy8gRmV0Y2ggaW5pdGlhbCByZXNwb25zZSBmcm9tIGJhY2tlbmRcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2dldF9zY2VuYXJpb19yZXNwb25zZVwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgICAgIH0pO1xuICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkxMTSBSZXNwb25zZTpcIiwgZGF0YS5yZXNwb25zZSk7XG4gIFxuICAgICAgLy8gU2V0IGluaXRpYWwgbWVzc2FnZSBmcm9tIGJhY2tlbmRcbiAgICAgIHNldE1lc3NhZ2VzKFt7IHRleHQ6IGRhdGEucmVzcG9uc2UsIHNlbmRlcjogXCJib3RcIiB9XSk7XG4gIFxuICAgICAgLy8gRmV0Y2ggaW5pdGlhbCBzdWdnZXN0aW9uc1xuICAgICAgZmV0Y2hTdWdnZXN0aW9ucyh1c2VybmFtZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgY29udmVyc2F0aW9uOlwiLCBlcnJvcik7XG4gICAgfVxuICB9O1xuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICBcbiAgICBjb25zdCBmZXRjaFVzZXJBbmRTY2VuYXJpbyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIExvYWQgc2NlbmFyaW8gZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgY29uc3Qgc2F2ZWRTY2VuYXJpbyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudFNjZW5hcmlvXCIpO1xuICBcbiAgICAgICAgaWYgKCFzYXZlZFNjZW5hcmlvKSB7XG4gICAgICAgICAgYWxlcnQoXCJObyBzY2VuYXJpbyBzZWxlY3RlZC4gUGxlYXNlIHNlbGVjdCBhIHNjZW5hcmlvIGZpcnN0LlwiKTtcbiAgICAgICAgICByb3V0ZXIucHVzaChcIi9zY2VuYXJpb1wiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGNvbnN0IHBhcnNlZFNjZW5hcmlvID0gSlNPTi5wYXJzZShzYXZlZFNjZW5hcmlvKTtcbiAgICAgICAgc2V0U2NlbmFyaW8ocGFyc2VkU2NlbmFyaW8pO1xuICBcbiAgICAgICAgLy8gQXV0aGVudGljYXRlIHVzZXJcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKGN1cnJlbnRVc2VyKSA9PiB7XG4gICAgICAgICAgc2V0VXNlcihjdXJyZW50VXNlcik7XG4gIFxuICAgICAgICAgIC8vIEdldCBsYW5ndWFnZSBwcmVmZXJlbmNlIChmcm9tIGxvY2FsU3RvcmFnZSBvciBiYWNrZW5kKVxuICAgICAgICAgIGNvbnN0IHNhdmVkTG9jYWxlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsb2NhbGVcIikgfHwgXCJlblwiO1xuICAgICAgICAgIHNldFVzZXJMYW5ndWFnZShzYXZlZExvY2FsZSk7XG4gIFxuICAgICAgICAgIGlmIChjdXJyZW50VXNlcikge1xuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPVxuICAgICAgICAgICAgICBjdXJyZW50VXNlci5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgICBjdXJyZW50VXNlci5lbWFpbD8uc3BsaXQoXCJAXCIpWzBdIHx8XG4gICAgICAgICAgICAgIFwiR3Vlc3RcIjtcbiAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfkaQgVXNlciBhdXRoZW50aWNhdGVkOlwiLCB1c2VybmFtZSk7XG4gIFxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBjb252ZXJzYXRpb24gKGNhbGxzIGJhY2tlbmQgZm9yIHNjZW5hcmlvICYgTExNIHJlc3BvbnNlKVxuICAgICAgICAgICAgYXdhaXQgaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbih1c2VybmFtZSk7XG4gICAgICAgICAgfVxuICBcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHVzZXIgc2NlbmFyaW86XCIsIGVycm9yKTtcbiAgICAgICAgYWxlcnQoXCJUaGVyZSB3YXMgYSBwcm9ibGVtIGxvYWRpbmcgdGhlIHNjZW5hcmlvLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgcm91dGVyLnB1c2goXCIvc2NlbmFyaW9cIik7XG4gICAgICB9XG4gICAgfTtcbiAgXG4gICAgZmV0Y2hVc2VyQW5kU2NlbmFyaW8oKTtcbiAgfSwgW10pO1xuICBcbiAgLy8gLy8gSW5pdGlhbGl6ZSBzY2VuYXJpbyBjb252ZXJzYXRpb24gd2l0aCBiYWNrZW5kXG4gIC8vIGNvbnN0IGluaXRpYWxpemVDb252ZXJzYXRpb24gPSBhc3luYyAodXNlcm5hbWU6IHN0cmluZywgc2NlbmFyaW9UaXRsZTogc3RyaW5nKSA9PiB7XG4gIC8vICAgdHJ5IHtcbiAgLy8gICAgIGNvbnN0IHNjZW5hcmlvUmVzcG9uc2UgPSBhd2FpdCBzZXRTY2VuYXJpbyh1c2VybmFtZSwgc2NlbmFyaW9UaXRsZSk7XG4gIC8vICAgICBmZXRjaFN1Z2dlc3Rpb25zKHVzZXJuYW1lKTsgLy8gSW5pdGlhbCBzdWdnZXN0aW9uc1xuICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gIC8vICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGNvbnZlcnNhdGlvbjpcIiwgZXJyb3IpO1xuICAvLyAgIH1cbiAgLy8gfTtcblxuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xuICAvLyAgIC8vIExvYWQgdGhlIHNjZW5hcmlvIGZyb20gbG9jYWxTdG9yYWdlXG4gIC8vICAgY29uc3Qgc2F2ZWRTY2VuYXJpbyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50U2NlbmFyaW8nKTtcbiAgICBcbiAgLy8gICBpZiAoIXNhdmVkU2NlbmFyaW8pIHtcbiAgLy8gICAgIC8vIElmIG5vIHNjZW5hcmlvIGlzIGZvdW5kLCByZWRpcmVjdCBiYWNrIHRvIHNjZW5hcmlvIHNlbGVjdGlvblxuICAvLyAgICAgYWxlcnQoXCJObyBzY2VuYXJpbyBzZWxlY3RlZC4gUGxlYXNlIHNlbGVjdCBhIHNjZW5hcmlvIGZpcnN0LlwiKTtcbiAgLy8gICAgIHJvdXRlci5wdXNoKCcvc2NlbmFyaW8nKTtcbiAgLy8gICAgIHJldHVybjtcbiAgLy8gICB9XG4gICAgXG4gIC8vICAgdHJ5IHtcbiAgLy8gICAgIGNvbnN0IHBhcnNlZFNjZW5hcmlvID0gSlNPTi5wYXJzZShzYXZlZFNjZW5hcmlvKTtcbiAgLy8gICAgIHNldFNjZW5hcmlvKHBhcnNlZFNjZW5hcmlvKTtcbiAgICAgIFxuICAvLyAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKGN1cnJlbnRVc2VyKSA9PiB7XG4gIC8vICAgICAgIHNldFVzZXIoY3VycmVudFVzZXIpO1xuICAgICAgICBcbiAgLy8gICAgICAgY29uc3Qgc2F2ZWRMb2NhbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxlJykgfHwgJ2VuJztcbiAgLy8gICAgICAgc2V0VXNlckxhbmd1YWdlKHNhdmVkTG9jYWxlKTtcbiAgICAgICAgXG4gIC8vICAgICAgIGlmIChjdXJyZW50VXNlcikge1xuICAvLyAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gY3VycmVudFVzZXIuZGlzcGxheU5hbWUgfHwgY3VycmVudFVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJ0d1ZXN0JztcbiAgICAgICAgICBcbiAgLy8gICAgICAgICBhd2FpdCBpbml0aWFsaXplQ29udmVyc2F0aW9uKHVzZXJuYW1lLCBwYXJzZWRTY2VuYXJpby50aXRsZSk7XG4gIC8vICAgICAgICAgc2V0TWVzc2FnZXMoW1xuICAvLyAgICAgICAgICAgeyBcbiAgLy8gICAgICAgICAgICAgdGV4dDogYEhlbGxvJHtjdXJyZW50VXNlci5kaXNwbGF5TmFtZSA/ICcsICcgKyBjdXJyZW50VXNlci5kaXNwbGF5TmFtZSA6ICcnfSEgSSdsbCBiZSB5b3VyIGNvbnZlcnNhdGlvbiBwYXJ0bmVyIGZvciB0aGlzICR7cGFyc2VkU2NlbmFyaW8udGl0bGV9IHNjZW5hcmlvLiBIb3cgY2FuIEkgaGVscCB5b3UgdG9kYXk/YCwgXG4gIC8vICAgICAgICAgICAgIHNlbmRlcjogJ2JvdCcgXG4gIC8vICAgICAgICAgICB9XG4gIC8vICAgICAgICAgXSk7XG4gIC8vICAgICAgIH0gZWxzZSB7XG4gIC8vICAgICAgICAgc2V0TWVzc2FnZXMoW1xuICAvLyAgICAgICAgICAgeyBcbiAgLy8gICAgICAgICAgICAgdGV4dDogYFdlbGNvbWUgdG8gdGhlICR7cGFyc2VkU2NlbmFyaW8udGl0bGV9IHNjZW5hcmlvISBJJ2xsIGJlIHlvdXIgY29udmVyc2F0aW9uIHBhcnRuZXIuIEhvdyB3b3VsZCB5b3UgbGlrZSB0byBzdGFydD9gLCBcbiAgLy8gICAgICAgICAgICAgc2VuZGVyOiAnYm90JyBcbiAgLy8gICAgICAgICAgIH1cbiAgLy8gICAgICAgICBdKTtcbiAgLy8gICAgICAgfVxuICAgICAgICBcbiAgLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIC8vICAgICB9KTtcbiAgICAgIFxuICAvLyAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gIC8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgLy8gICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHNjZW5hcmlvOlwiLCBlcnJvcik7XG4gIC8vICAgICBhbGVydChcIlRoZXJlIHdhcyBhIHByb2JsZW0gbG9hZGluZyB0aGUgc2NlbmFyaW8uIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAvLyAgICAgcm91dGVyLnB1c2goJy9zY2VuYXJpbycpO1xuICAvLyAgIH1cbiAgLy8gfSwgW10pO1xuXG4gIC8vIEZldGNoIHVwZGF0ZWQgY29udmVyc2F0aW9uIHN1Z2dlc3Rpb25zIGZyb20gYmFja2VuZFxuICBjb25zdCBmZXRjaFN1Z2dlc3Rpb25zID0gYXN5bmMgKHVzZXJuYW1lOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRTdWdnZXN0aW9ucyh1c2VybmFtZSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmICFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICBzZXRTdWdnZXN0aW9uTGlzdChyZXNwb25zZS5kYXRhLnN1Z2dlc3Rpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHN1Z2dlc3Rpb25zOlwiLCByZXNwb25zZS5lcnJvcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBzdWdnZXN0aW9uczpcIiwgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrT3V0c2lkZShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgaWYgKHByb2ZpbGVNZW51UmVmLmN1cnJlbnQgJiYgIXByb2ZpbGVNZW51UmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgIHNldFNob3dQcm9maWxlTWVudShmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlQmFja0NsaWNrID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvc2NlbmFyaW8nKTtcbiAgfTtcbiAgXG4gIGNvbnN0IG5hdmlnYXRlVG9EYXNoYm9hcmQgPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTtcbiAgICBzZXRTaG93UHJvZmlsZU1lbnUoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIHNldElucHV0VGV4dChldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleVByZXNzID0gKGV2ZW50OiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgaGFuZGxlU2VuZE1lc3NhZ2UoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUGxheSBhdWRpbyB3aGVuIHNwZWFrZXIgYnV0dG9uIGlzIGNsaWNrZWRcbiAgY29uc3QgcGxheU1lc3NhZ2VBdWRpbyA9IChtZXNzYWdlSWQ6IG51bWJlciwgYXVkaW9Vcmw/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWF1ZGlvVXJsKSByZXR1cm47XG4gICAgXG4gICAgLy8gU3RvcCBhbnkgY3VycmVudGx5IHBsYXlpbmcgYXVkaW9cbiAgICBpZiAoYXVkaW9SZWYuY3VycmVudCkge1xuICAgICAgYXVkaW9SZWYuY3VycmVudC5wYXVzZSgpO1xuICAgICAgYXVkaW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgICBzZXRJc1BsYXlpbmcobnVsbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIGNsaWNraW5nIG9uIHRoZSBjdXJyZW50bHkgcGxheWluZyBhdWRpbywganVzdCBzdG9wIGl0XG4gICAgaWYgKGlzUGxheWluZyA9PT0gYG1lc3NhZ2UtJHttZXNzYWdlSWR9YCkge1xuICAgICAgc2V0SXNQbGF5aW5nKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgYW5kIHBsYXkgbmV3IGF1ZGlvXG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMCR7YXVkaW9Vcmx9YCk7XG4gICAgYXVkaW9SZWYuY3VycmVudCA9IGF1ZGlvO1xuICAgIFxuICAgIC8vIFNldCB0aGUgY3VycmVudGx5IHBsYXlpbmcgbWVzc2FnZSBJRFxuICAgIHNldElzUGxheWluZyhgbWVzc2FnZS0ke21lc3NhZ2VJZH1gKTtcbiAgICBcbiAgICAvLyBXaGVuIGF1ZGlvIGVuZHMsIHJlc2V0IHRoZSBwbGF5aW5nIHN0YXRlXG4gICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICBzZXRJc1BsYXlpbmcobnVsbCk7XG4gICAgfSk7XG4gICAgXG4gICAgYXVkaW8ucGxheSgpLmNhdGNoKGUgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkF1ZGlvIHBsYXliYWNrIGVycm9yOlwiLCBlKTtcbiAgICAgIHNldElzUGxheWluZyhudWxsKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWlucHV0VGV4dC50cmltKCkgfHwgIXNjZW5hcmlvKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSBpbnB1dFRleHQudHJpbSgpO1xuICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHsgdGV4dDogdXNlck1lc3NhZ2UsIHNlbmRlcjogJ3VzZXInIH1dKTtcbiAgICBzZXRJbnB1dFRleHQoJycpO1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IHVzZXIgPyAodXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdHdWVzdCcpIDogJ0d1ZXN0JztcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kQ2hhdE1lc3NhZ2UoXG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICB1c2VyTWVzc2FnZSxcbiAgICAgICAgc2NlbmFyaW8udGl0bGUsIC8vIFVzaW5nIHRoZSBzY2VuYXJpbyB0aXRsZVxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVzZXJMYW5ndWFnZVxuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5lcnJvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHsgXG4gICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5yZXNwb25zZSwgXG4gICAgICAgICAgc2VuZGVyOiAnYm90JyxcbiAgICAgICAgICBhdWRpb191cmw6IHJlc3BvbnNlLmRhdGEuYXVkaW9fdXJsXG4gICAgICAgIH1dKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmF1ZGlvX3VybCkge1xuICAgICAgICAgIC8vIENsaWNrIHRoZSBzcGVha2VyIGJ1dHRvbiB0byBwbGF5IG1lc3NhZ2UgYXVkaW9cbiAgICAgICAgICBwbGF5TWVzc2FnZUF1ZGlvKG1lc3NhZ2VzLmxlbmd0aCwgcmVzcG9uc2UuZGF0YS5hdWRpb191cmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZldGNoIHVwZGF0ZWQgc3VnZ2VzdGlvbnMgYWZ0ZXIgbWVzc2FnZVxuICAgICAgYXdhaXQgZmV0Y2hTdWdnZXN0aW9ucyh1c2VybmFtZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgeyB0ZXh0OiBcIlNvcnJ5LCBJJ20gaGF2aW5nIHRyb3VibGUgY29ubmVjdGluZy4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiwgc2VuZGVyOiAnYm90JyB9XG4gICAgICBdKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRW5kU2NlbmFyaW8gPSAoKSA9PiB7XG4gICAgc2V0U2hvd01vZGFsKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNhdmVDb252ZXJzYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghc2NlbmFyaW8pIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3Qgc2NlbmFyaW9UeXBlID0gc2NlbmFyaW8udGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICBjb25zdCBzYXZlZENvbnZlcnNhdGlvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNjZW5hcmlvVHlwZSkgfHwgJ1tdJyk7XG4gICAgICBcbiAgICAgIHNhdmVkQ29udmVyc2F0aW9ucy5wdXNoKHtcbiAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgc2NlbmFyaW86IHNjZW5hcmlvLnRpdGxlLFxuICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXG4gICAgICAgIHVzZXJOYW1lOiB1c2VyID8gKHVzZXIuZGlzcGxheU5hbWUgfHwgdXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnR3Vlc3QnKSA6ICdHdWVzdCcsXG4gICAgICAgIGxhbmd1YWdlOiB1c2VyTGFuZ3VhZ2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzY2VuYXJpb1R5cGUsIEpTT04uc3RyaW5naWZ5KHNhdmVkQ29udmVyc2F0aW9ucykpO1xuICAgICAgcm91dGVyLnB1c2goJy9zY2VuYXJpbycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGNvbnZlcnNhdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgcm91dGVyLnB1c2goJy9zY2VuYXJpbycpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEaXNjYXJkQ29udmVyc2F0aW9uID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvc2NlbmFyaW8nKTtcbiAgfTtcblxuICAvLyBBcHBseSBzdWdnZXN0aW9uIHRvIGlucHV0XG4gIGNvbnN0IGhhbmRsZVN1Z2dlc3Rpb25DbGljayA9IChzdWdnZXN0aW9uOiBzdHJpbmcpID0+IHtcbiAgICBzZXRJbnB1dFRleHQoc3VnZ2VzdGlvbik7XG4gIH07XG5cbiAgLy8gVG9nZ2xlIHZvaWNlIHJlY29yZGluZyAocGxhY2Vob2xkZXIpXG4gIGNvbnN0IHRvZ2dsZVJlY29yZGluZyA9ICgpID0+IHtcbiAgICBzZXRJc1JlY29yZGluZyghaXNSZWNvcmRpbmcpO1xuICAgIC8vIEFkZCBhY3R1YWwgcmVjb3JkaW5nIGxvZ2ljIGhlcmVcbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9pY29ucy9iYWNrZ3JvdW5kMS5qcGcnKVwiLCBiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItWyM0OGQxY2NdXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHJlbGF0aXZlXCJcbiAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9pY29ucy9iYWNrZ3JvdW5kMS5qcGcnKVwiIH19XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtOCBsZWZ0LTggei0xMFwiIHJlZj17cHJvZmlsZU1lbnVSZWZ9PlxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcm9maWxlTWVudSghc2hvd1Byb2ZpbGVNZW51KX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLXdoaXRlLzEwIGhvdmVyOmJnLXdoaXRlLzIwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW5cIlxuICAgICAgICA+XG4gICAgICAgICAge3VzZXI/LnBob3RvVVJMID8gKFxuICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgIHNyYz17dXNlci5waG90b1VSTH1cbiAgICAgICAgICAgICAgYWx0PVwiUHJvZmlsZVwiXG4gICAgICAgICAgICAgIHdpZHRoPXs0MH1cbiAgICAgICAgICAgICAgaGVpZ2h0PXs0MH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBiZy1bIzQ4ZDFjY10gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHRleHQtc21cIj5cbiAgICAgICAgICAgICAge3VzZXI/LmRpc3BsYXlOYW1lID8gdXNlci5kaXNwbGF5TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6IFxuICAgICAgICAgICAgICAgdXNlcj8uZW1haWwgPyB1c2VyLmVtYWlsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIDogXCJHXCJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIHtzaG93UHJvZmlsZU1lbnUgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTEyIGxlZnQtMCBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBweS0yIG1pbi13LVsxODBweF0gdGV4dC1ncmF5LTgwMCB6LTIwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57dXNlcj8uZGlzcGxheU5hbWUgfHwgXCJHdWVzdFwifTwvcD5cbiAgICAgICAgICAgICAge3VzZXI/LmVtYWlsICYmIChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj57dXNlci5lbWFpbH08L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5MYW5ndWFnZToge3VzZXJMYW5ndWFnZSA9PT0gJ2VuJyA/ICdFbmdsaXNoJyA6IHVzZXJMYW5ndWFnZSA9PT0gJ3poLUNOJyA/ICdDaGluZXNlJyA6ICdKYXBhbmVzZSd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7dXNlciA/IChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtuYXZpZ2F0ZVRvRGFzaGJvYXJkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktMTAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9XCIyXCIgZD1cIk0xNiA3YTQgNCAwIDExLTggMCA0IDQgMCAwMTggMHpNMTIgMTRhNyA3IDAgMDAtNyA3aDE0YTcgNyAwIDAwLTctN3pcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIFByb2ZpbGUgRGFzaGJvYXJkXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaCgnL2xvZ2luJyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD1cIjJcIiBkPVwiTTExIDE2bC00LTRtMCAwbDQtNG0tNCA0aDE0bS01IDR2MWEzIDMgMCAwMS0zIDNINmEzIDMgMCAwMS0zLTNWN2EzIDMgMCAwMTMtM2g3YTMgMyAwIDAxMyAzdjFcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIFNpZ24gSW5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxidXR0b24gXG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJhY2tDbGlja31cbiAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTggbGVmdC0yNCB3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLXdoaXRlLzEwIGhvdmVyOmJnLXdoaXRlLzIwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICA+XG4gICAgICAgIDxJbWFnZVxuICAgICAgICAgIHNyYz1cIi9pY29ucy9iYWNrLnBuZ1wiXG4gICAgICAgICAgYWx0PVwiQmFja1wiXG4gICAgICAgICAgd2lkdGg9ezI0fVxuICAgICAgICAgIGhlaWdodD17MjR9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiXG4gICAgICAgIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIFxuICAgICAgPGJ1dHRvbiBcbiAgICAgICAgb25DbGljaz17aGFuZGxlRW5kU2NlbmFyaW99XG4gICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC04IHJpZ2h0LTggYmctWyMyMGIyYWFdIGhvdmVyOmJnLVsjMDA4MDgwXSBweC02IHB5LTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxuICAgICAgPlxuICAgICAgICBFbmQgU2NlbmFyaW9cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTI0IHB4LTQgbWF4LXctNnhsIG14LWF1dG9cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00XCI+XG4gICAgICAgICAgey8qIENvbnZlcnNhdGlvbiBhcmVhIC0gbGVmdCBzaWRlICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bNjUlXVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLVs3MHZoXSBiZy1bI2YwZjhmZl0gcm91bmRlZC14bCBwLTYgb3ZlcmZsb3cteS1hdXRvIG1iLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggJHttZXNzYWdlLnNlbmRlciA9PT0gJ3VzZXInID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zZW5kZXIgPT09ICdib3QnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggbXItMiBmbGV4LXNocmluay0wIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCIvaWNvbnMvcm9ib3QuanBnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiUm9ib3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXctc20gcm91bmRlZC1sZyBweC00IHB5LTIgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSAndXNlcicgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktODAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH0gZ3JvdXAgcmVsYXRpdmVgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7LyogU3BlYWtlciBidXR0b24gZm9yIGJvdCBtZXNzYWdlcyAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zZW5kZXIgPT09ICdib3QnICYmIG1lc3NhZ2UuYXVkaW9fdXJsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcGxheU1lc3NhZ2VBdWRpbyhpbmRleCwgbWVzc2FnZS5hdWRpb191cmwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtcmlnaHQtMTAgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB3LTggaC04IGJnLWdyYXktMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBob3ZlcjpiZy1ncmF5LTIwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJQbGF5IG1lc3NhZ2UgYXVkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQbGF5aW5nID09PSBgbWVzc2FnZS0ke2luZGV4fWAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXB1bHNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVwiL2ljb25zL3NwZWFrZXIuanBnXCIgYWx0PVwiU3BlYWtlclwiIHdpZHRoPXsyNH0gaGVpZ2h0PXsyNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVwiL2ljb25zL3NwZWFrZXIuanBnXCIgYWx0PVwiU3BlYWtlclwiIHdpZHRoPXsyNH0gaGVpZ2h0PXsyNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zZW5kZXIgPT09ICd1c2VyJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IG1sLTIgZmxleC1zaHJpbmstMCByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIGJnLWJsdWUtMTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dXNlcj8ucGhvdG9VUkwgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17dXNlci5waG90b1VSTH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJVc2VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGJnLVsjNDhkMWNjXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyPy5kaXNwbGF5TmFtZSA/IHVzZXIuZGlzcGxheU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPy5lbWFpbCA/IHVzZXIuZW1haWwuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgOiBcIlVcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVJlY29yZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake1xuICAgICAgICAgICAgICAgICAgaXNSZWNvcmRpbmcgXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCcgXG4gICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMjAwIGhvdmVyOmJnLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgIH0gcHgtMyBweS0zIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJlbGF0aXZlYH1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU3RhcnQgdm9pY2UgcmVjb3JkaW5nXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNiB3LTZcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9e2lzUmVjb3JkaW5nID8gXCJ3aGl0ZVwiIDogXCJibGFja1wifT5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xOSAxMWE3IDcgMCAwMS03IDdtMCAwYTcgNyAwIDAxLTctN203IDd2NG0wIDBIOG00IDBoNG0tNC04YTMgMyAwIDAxLTMtM1Y1YTMgMyAwIDExNiAwdjZhMyAzIDAgMDEtMyAzelwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAge2lzUmVjb3JkaW5nICYmIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIHJpZ2h0LTAgZmxleCBoLTMgdy0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFuaW1hdGUtcGluZyBhYnNvbHV0ZSBpbmxpbmUtZmxleCBoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtZnVsbCBiZy1yZWQtNDAwIG9wYWNpdHktNzVcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJlbGF0aXZlIGlubGluZS1mbGV4IHJvdW5kZWQtZnVsbCBoLTMgdy0zIGJnLXJlZC01MDBcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtpbnB1dFRleHR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtpc1JlY29yZGluZyA/IFwiTGlzdGVuaW5nLi4uXCIgOiBcIlR5cGUgeW91ciBtZXNzYWdlLi4uXCJ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIGJnLXdoaXRlIHRleHQtYmxhY2sgcHgtNCBweS0zIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwICR7XG4gICAgICAgICAgICAgICAgICBpc1JlY29yZGluZyA/ICdhbmltYXRlLXB1bHNlIGJvcmRlci0yIGJvcmRlci1yZWQtNDAwJyA6ICcnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmVjb3JkaW5nIHx8IGlzTG9hZGluZ31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmVjb3JkaW5nIHx8IGlzTG9hZGluZyB8fCAhaW5wdXRUZXh0LnRyaW0oKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1bIzIwYjJhYV0gaG92ZXI6YmctWyMwMDgwODBdIHB4LTQgcHktMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC01IHctNSBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLXdoaXRlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxJbWFnZSBzcmM9XCIvaWNvbnMvc2VuZC5wbmdcIiBhbHQ9XCJTZW5kXCIgd2lkdGg9ezI0fSBoZWlnaHQ9ezI0fSAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFJpZ2h0IHNpZGUgcGFuZWwgd2l0aCBzdWdnZXN0aW9ucyBhbmQgZGljdGlvbmFyeSAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctWzM1JV0gZmxleCBmbGV4LWNvbCBnYXAtNFwiPlxuICAgICAgICAgICAgey8qIFN1Z2dlc3Rpb25zIHBhbmVsICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLVszNHZoXSBiZy1bI2YwZjhmZl0gcm91bmRlZC14bCBwLTYgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LW0gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMCBtYi0zXCI+U3VnZ2VzdGlvbnM8L2gzPlxuICAgICAgICAgICAgICB7c3VnZ2VzdGlvbkxpc3QubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAge3N1Z2dlc3Rpb25MaXN0Lm1hcCgoc3VnZ2VzdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXdoaXRlIHJvdW5kZWQtbGcgcC0zIHNoYWRvdy1zbSBob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzIHRleHQtbGVmdCBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3VnZ2VzdGlvbkNsaWNrKHN1Z2dlc3Rpb24pfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCB3LTYgaC02IGJnLVsjMjBiMmFhXSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZSB0ZXh0LXhzIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpbmRleCArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDBcIj57c3VnZ2VzdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHJvdW5kZWQtbGcgcC00IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+U3VnZ2VzdGlvbnMgd2lsbCBhcHBlYXIgaGVyZSBhZnRlciB5b3Ugc3RhcnQgY2hhdHRpbmcuPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBEaWN0aW9uYXJ5IHBhbmVsICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLVszNHZoXSBiZy1bI2YwZjhmZl0gcm91bmRlZC14bCBwLTYgb3ZlcmZsb3cteS1hdXRvIG1iLTJcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwIG1iLTNcIj5EaWN0aW9uYXJ5PC9oMz5cbiAgICAgICAgICAgICAgPERpY3Rpb25hcnkvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBMZXNzb25zIGJ1dHRvbiAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goJy9sZXNzb24nKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctWyMyMGIyYWFdIGhvdmVyOmJnLVsjMDA4MDgwXSBweS0zIHJvdW5kZWQtbGcgdGV4dC13aGl0ZSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBHbyB0byBMZXNzb25zXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHtzaG93TW9kYWwgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBwLTYgbWF4LXctbWQgdy1mdWxsIG14LTRcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj5FbmQgU2NlbmFyaW88L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi02XCI+WW91ciBwcmFjdGljZSBzZXNzaW9uIHdpbGwgYmUgY2xvc2VkLiBEbyB5b3Ugd2FudCB0byBzYXZlIHRoaXMgY29udmVyc2F0aW9uIHRvIHlvdXIgcHJvZmlsZT88L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURpc2NhcmRDb252ZXJzYXRpb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWdyYXktMjAwIGhvdmVyOmJnLWdyYXktMzAwIHRleHQtZ3JheS04MDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBEb24ndCBTYXZlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmVDb252ZXJzYXRpb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTYXZlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJvbGVwbGF5UGFnZTsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkltYWdlIiwidXNlUm91dGVyIiwiYXV0aCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsInNlbmRDaGF0TWVzc2FnZSIsImdldFN1Z2dlc3Rpb25zIiwiRGljdGlvbmFyeSIsIlJvbGVwbGF5UGFnZSIsInVzZXIiLCJzZXRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzaG93UHJvZmlsZU1lbnUiLCJzZXRTaG93UHJvZmlsZU1lbnUiLCJ1c2VyTGFuZ3VhZ2UiLCJzZXRVc2VyTGFuZ3VhZ2UiLCJpbnB1dFRleHQiLCJzZXRJbnB1dFRleHQiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwic2NlbmFyaW8iLCJzZXRTY2VuYXJpbyIsImlzUGxheWluZyIsInNldElzUGxheWluZyIsInNob3dNb2RhbCIsInNldFNob3dNb2RhbCIsImlzUmVjb3JkaW5nIiwic2V0SXNSZWNvcmRpbmciLCJzdWdnZXN0aW9uTGlzdCIsInNldFN1Z2dlc3Rpb25MaXN0IiwicHJvZmlsZU1lbnVSZWYiLCJtZXNzYWdlc0VuZFJlZiIsImF1ZGlvUmVmIiwicm91dGVyIiwic2Nyb2xsVG9Cb3R0b20iLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImluaXRpYWxpemVDb252ZXJzYXRpb24iLCJ1c2VybmFtZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJ0ZXh0Iiwic2VuZGVyIiwiZmV0Y2hTdWdnZXN0aW9ucyIsImVycm9yIiwiZmV0Y2hVc2VyQW5kU2NlbmFyaW8iLCJzYXZlZFNjZW5hcmlvIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFsZXJ0IiwicHVzaCIsInBhcnNlZFNjZW5hcmlvIiwicGFyc2UiLCJ1bnN1YnNjcmliZSIsImN1cnJlbnRVc2VyIiwic2F2ZWRMb2NhbGUiLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwic3BsaXQiLCJzdWdnZXN0aW9ucyIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlQmFja0NsaWNrIiwibmF2aWdhdGVUb0Rhc2hib2FyZCIsImhhbmRsZUlucHV0Q2hhbmdlIiwidmFsdWUiLCJoYW5kbGVLZXlQcmVzcyIsImtleSIsImhhbmRsZVNlbmRNZXNzYWdlIiwicGxheU1lc3NhZ2VBdWRpbyIsIm1lc3NhZ2VJZCIsImF1ZGlvVXJsIiwicGF1c2UiLCJjdXJyZW50VGltZSIsImF1ZGlvIiwiQXVkaW8iLCJwbGF5IiwiY2F0Y2giLCJlIiwidHJpbSIsInVzZXJNZXNzYWdlIiwicHJldiIsInRpdGxlIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJhdWRpb191cmwiLCJsZW5ndGgiLCJoYW5kbGVFbmRTY2VuYXJpbyIsImhhbmRsZVNhdmVDb252ZXJzYXRpb24iLCJzY2VuYXJpb1R5cGUiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJzYXZlZENvbnZlcnNhdGlvbnMiLCJpZCIsIkRhdGUiLCJub3ciLCJkYXRlIiwidG9JU09TdHJpbmciLCJ1c2VyTmFtZSIsImxhbmd1YWdlIiwic2V0SXRlbSIsImhhbmRsZURpc2NhcmRDb252ZXJzYXRpb24iLCJoYW5kbGVTdWdnZXN0aW9uQ2xpY2siLCJzdWdnZXN0aW9uIiwidG9nZ2xlUmVjb3JkaW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kU2l6ZSIsInJlZiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwaG90b1VSTCIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJwIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwibWFwIiwibWVzc2FnZSIsImluZGV4IiwiYXJpYS1sYWJlbCIsInhtbG5zIiwic3BhbiIsImlucHV0IiwidHlwZSIsIm9uQ2hhbmdlIiwib25LZXlQcmVzcyIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiLCJoMyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/roleplay/page.tsx\n"));
NewUI+Backend/NewUI/.next/static/chunks/app/roleplay/page.js:eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCustomScenario: () => (/* binding */ createCustomScenario),\n/* harmony export */   getDefaultScenarios: () => (/* binding */ getDefaultScenarios),\n/* harmony export */   getLanguageLessons: () => (/* binding */ getLanguageLessons),\n/* harmony export */   getSuggestions: () => (/* binding */ getSuggestions),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   setScenario: () => (/* binding */ setScenario)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\nasync function fetchAPI(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    try {\n        const res = await fetch(\"\".concat(API_BASE_URL).concat(endpoint), {\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options.headers\n            }\n        });\n        if (!res.ok) {\n            const error = await res.json();\n            return {\n                data: null,\n                error: error.detail || 'An error occurred'\n            };\n        }\n        const data = await res.json();\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error'\n        };\n    }\n}\nasync function sendChatMessage(username, message, scenario, aiRole) {\n    return fetchAPI('/api/chat', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            message,\n            scenario,\n            ai_role: aiRole\n        })\n    });\n}\nasync function getSuggestions(username) {\n    return fetchAPI('/api/suggestions', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function getLanguageLessons(username) {\n    return fetchAPI('/api/lesson', {\n        method: 'POST',\n        body: JSON.stringify({\n            username\n        })\n    });\n}\nasync function setScenario(username, scenario, language, description) {\n    console.log(\"Calling setScenario with:\", {\n        username,\n        scenario,\n        language,\n        description\n    });\n    return fetchAPI('/api/scenario/set', {\n        method: 'POST',\n        body: JSON.stringify({\n            username,\n            scenario,\n            language: language || \"none\",\n            description\n        })\n    });\n}\nasync function getUserProfile(username) {\n    return fetchAPI(\"/api/profile/\".concat(username));\n}\nasync function getDefaultScenarios() {\n    return fetchAPI('/api/scenarios');\n}\nconst createCustomScenario = async (username, title, description, language)=>{\n    try {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/api/scenario/set\"), {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username,\n                scenario: title,\n                language: language || \"none\",\n                description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            return {\n                data: null,\n                error: data.error || 'Failed to create custom scenario'\n            };\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error('API Error:', error);\n        return {\n            data: null,\n            error: 'Network error, please try again'\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9hcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0FBT3hELGVBQWVDLFNBQ2JDLFFBQWdCO1FBQ2hCQyxVQUFBQSxpRUFBdUIsQ0FBQztJQUV4QixJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNQyxNQUFNLEdBQWtCSCxPQUFmTCxjQUF3QixPQUFUSyxXQUFZO1lBQ3BELEdBQUdDLE9BQU87WUFDVkcsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLEdBQUdILFFBQVFHLE9BQU87WUFDcEI7UUFDRjtRQUVBLElBQUksQ0FBQ0YsSUFBSUcsRUFBRSxFQUFFO1lBQ1gsTUFBTUMsUUFBUSxNQUFNSixJQUFJSyxJQUFJO1lBQzVCLE9BQU87Z0JBQUVDLE1BQU07Z0JBQU1GLE9BQU9BLE1BQU1HLE1BQU0sSUFBSTtZQUFvQjtRQUNsRTtRQUVBLE1BQU1ELE9BQU8sTUFBTU4sSUFBSUssSUFBSTtRQUMzQixPQUFPO1lBQUVDO1lBQU1GLE9BQU87UUFBSztJQUM3QixFQUFFLE9BQU9BLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE9BQU87WUFBRUUsTUFBTTtZQUFNRixPQUFPO1FBQWdCO0lBQzlDO0FBQ0Y7QUFFTyxlQUFlSyxnQkFDcEJDLFFBQWdCLEVBQ2hCQyxPQUFlLEVBQ2ZDLFFBQWlCLEVBQ2pCQyxNQUFlO0lBRWYsT0FBT2hCLFNBQWdELGFBQWE7UUFDbEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUNuQlA7WUFDQUM7WUFDQUM7WUFDQU0sU0FBU0w7UUFDWDtJQUNGO0FBQ0Y7QUFFTyxlQUFlTSxlQUFlVCxRQUFnQjtJQUNuRCxPQUFPYixTQUFrQyxvQkFBb0I7UUFDM0RpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVSxtQkFBbUJWLFFBQWdCO0lBQ3ZELE9BQU9iLFNBQWdELGVBQWU7UUFDcEVpQixRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztZQUFFUDtRQUFTO0lBQ2xDO0FBQ0Y7QUFFTyxlQUFlVyxZQUFZWCxRQUFnQixFQUFFRSxRQUFnQixFQUFFVSxRQUFpQixFQUFFQyxXQUFvQjtJQUMzR2YsUUFBUWdCLEdBQUcsQ0FBQyw2QkFBNkI7UUFBRWQ7UUFBVUU7UUFBVVU7UUFBVUM7SUFBWTtJQUNyRixPQUFPMUIsU0FBOEMscUJBQXFCO1FBQ3hFaUIsUUFBUTtRQUNSQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7WUFDbkJQO1lBQ0FFO1lBQ0FVLFVBQVVBLFlBQVk7WUFDdEJDO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sZUFBZUUsZUFBZWYsUUFBZ0I7SUFDbkQsT0FBT2IsU0FBYyxnQkFBeUIsT0FBVGE7QUFDdkM7QUFFTyxlQUFlZ0I7SUFDcEIsT0FBTzdCLFNBQWM7QUFDdkI7QUFFTyxNQUFNOEIsdUJBQXVCLE9BQ2xDakIsVUFDQWtCLE9BQ0FMLGFBQ0FEO0lBRUEsSUFBSTtRQUNGLE1BQU1PLFdBQVcsTUFBTTVCLE1BQU0sR0FBZ0IsT0FBYlIsY0FBYSxzQkFBb0I7WUFDL0RxQixRQUFRO1lBQ1JaLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FhLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJQO2dCQUNBRSxVQUFVZ0I7Z0JBQ1ZOLFVBQVVBLFlBQVk7Z0JBQ3RCQztZQUNGO1FBQ0Y7UUFFQSxNQUFNakIsT0FBTyxNQUFNdUIsU0FBU3hCLElBQUk7UUFFaEMsSUFBSSxDQUFDd0IsU0FBUzFCLEVBQUUsRUFBRTtZQUNoQixPQUFPO2dCQUNMRyxNQUFNO2dCQUNORixPQUFPRSxLQUFLRixLQUFLLElBQUk7WUFDdkI7UUFDRjtRQUVBLE9BQU87WUFDTEU7WUFDQUYsT0FBTztRQUNUO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RJLFFBQVFKLEtBQUssQ0FBQyxjQUFjQTtRQUM1QixPQUFPO1lBQ0xFLE1BQU07WUFDTkYsT0FBTztRQUNUO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvaG9tZS9oeWFuZy9DUzIzOV9uZXcvTmV3VUkrQmFja2VuZC9OZXdVSS9zcmMvc2VydmljZXMvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5cbnR5cGUgQVBJUmVzcG9uc2U8VD4gPSB7XG4gIGRhdGE6IFQgfCBudWxsO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQVBJPFQ+KFxuICBlbmRwb2ludDogc3RyaW5nLCBcbiAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuKTogUHJvbWlzZTxBUElSZXNwb25zZTxUPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yLmRldGFpbCB8fCAnQW4gZXJyb3Igb2NjdXJyZWQnIH07XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiAnTmV0d29yayBlcnJvcicgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENoYXRNZXNzYWdlKFxuICB1c2VybmFtZTogc3RyaW5nLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIHNjZW5hcmlvPzogc3RyaW5nLFxuICBhaVJvbGU/OiBzdHJpbmdcbikge1xuICByZXR1cm4gZmV0Y2hBUEk8e3Jlc3BvbnNlOiBzdHJpbmcsIGF1ZGlvX3VybDogc3RyaW5nfT4oJy9hcGkvY2hhdCcsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB1c2VybmFtZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGFpX3JvbGU6IGFpUm9sZSxcbiAgICB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdWdnZXN0aW9ucyh1c2VybmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaEFQSTx7c3VnZ2VzdGlvbnM6IHN0cmluZ1tdfT4oJy9hcGkvc3VnZ2VzdGlvbnMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYW5ndWFnZUxlc3NvbnModXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8e2NyaXRpcXVlOiBzdHJpbmcsIGxlc3NvbnM6IHN0cmluZ1tdfT4oJy9hcGkvbGVzc29uJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0U2NlbmFyaW8odXNlcm5hbWU6IHN0cmluZywgc2NlbmFyaW86IHN0cmluZywgbGFuZ3VhZ2U/OiBzdHJpbmcsIGRlc2NyaXB0aW9uPzogc3RyaW5nKSB7XG4gIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBzZXRTY2VuYXJpbyB3aXRoOlwiLCB7IHVzZXJuYW1lLCBzY2VuYXJpbywgbGFuZ3VhZ2UsIGRlc2NyaXB0aW9uIH0pXG4gIHJldHVybiBmZXRjaEFQSTx7c2NlbmFyaW86IHN0cmluZywgYWlfcm9sZTogc3RyaW5nfT4oJy9hcGkvc2NlbmFyaW8vc2V0Jywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICB1c2VybmFtZSwgXG4gICAgICBzY2VuYXJpbyxcbiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSB8fCBcIm5vbmVcIixcbiAgICAgIGRlc2NyaXB0aW9uXG4gICAgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGUodXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PihgL2FwaS9wcm9maWxlLyR7dXNlcm5hbWV9YCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREZWZhdWx0U2NlbmFyaW9zKCkge1xuICByZXR1cm4gZmV0Y2hBUEk8YW55PignL2FwaS9zY2VuYXJpb3MnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbVNjZW5hcmlvID0gYXN5bmMgKFxuICB1c2VybmFtZTogc3RyaW5nLCBcbiAgdGl0bGU6IHN0cmluZywgXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGxhbmd1YWdlPzogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXBpL3NjZW5hcmlvL3NldGAsIHsgXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBzY2VuYXJpbzogdGl0bGUsICBcbiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8IFwibm9uZVwiLFxuICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGN1c3RvbSBzY2VuYXJpbycsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yLCBwbGVhc2UgdHJ5IGFnYWluJyxcbiAgICB9O1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZmV0Y2hBUEkiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yIiwianNvbiIsImRhdGEiLCJkZXRhaWwiLCJjb25zb2xlIiwic2VuZENoYXRNZXNzYWdlIiwidXNlcm5hbWUiLCJtZXNzYWdlIiwic2NlbmFyaW8iLCJhaVJvbGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFpX3JvbGUiLCJnZXRTdWdnZXN0aW9ucyIsImdldExhbmd1YWdlTGVzc29ucyIsInNldFNjZW5hcmlvIiwibGFuZ3VhZ2UiLCJkZXNjcmlwdGlvbiIsImxvZyIsImdldFVzZXJQcm9maWxlIiwiZ2V0RGVmYXVsdFNjZW5hcmlvcyIsImNyZWF0ZUN1c3RvbVNjZW5hcmlvIiwidGl0bGUiLCJyZXNwb25zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/api.ts\n"));
